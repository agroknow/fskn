
(function(t,e){function n(t){var e,n,r=B[t]={};for(t=t.split(/\s+/),e=0,n=t.length;n>e;e++)r[t[e]]=!0;return r}function r(t,n,r){if(r===e&&1===t.nodeType){var i="data-"+n.replace(F,"-$1").toLowerCase();if(r=t.getAttribute(i),"string"==typeof r){try{r="true"===r?!0:"false"===r?!1:"null"===r?null:P.isNumeric(r)?parseFloat(r):H.test(r)?P.parseJSON(r):r}catch(o){}P.data(t,n,r)}else r=e}return r}function i(t){for(var e in t)if(("data"!==e||!P.isEmptyObject(t[e]))&&"toJSON"!==e)return!1;return!0}function o(t,e,n){var r=e+"defer",i=e+"queue",o=e+"mark",a=P._data(t,r);!a||"queue"!==n&&P._data(t,i)||"mark"!==n&&P._data(t,o)||setTimeout(function(){P._data(t,i)||P._data(t,o)||(P.removeData(t,r,!0),a.fire())},0)}function a(){return!1}function s(){return!0}function l(t){return!t||!t.parentNode||11===t.parentNode.nodeType}function u(t,e,n){if(e=e||0,P.isFunction(e))return P.grep(t,function(t,r){var i=!!e.call(t,r,t);return i===n});if(e.nodeType)return P.grep(t,function(t){return t===e===n});if("string"==typeof e){var r=P.grep(t,function(t){return 1===t.nodeType});if(de.test(e))return P.filter(e,r,!n);e=P.filter(e,r)}return P.grep(t,function(t){return P.inArray(t,e)>=0===n})}function c(t){var e=ge.split("|"),n=t.createDocumentFragment();if(n.createElement)for(;e.length;)n.createElement(e.pop());return n}function d(t){return P.nodeName(t,"table")?t.getElementsByTagName("tbody")[0]||t.appendChild(t.ownerDocument.createElement("tbody")):t}function h(t,e){if(1===e.nodeType&&P.hasData(t)){var n,r,i,o=P._data(t),a=P._data(e,o),s=o.events;if(s){delete a.handle,a.events={};for(n in s)for(r=0,i=s[n].length;i>r;r++)P.event.add(e,n+(s[n][r].namespace?".":"")+s[n][r].namespace,s[n][r],s[n][r].data)}a.data&&(a.data=P.extend({},a.data))}}function f(t,e){var n;1===e.nodeType&&(e.clearAttributes&&e.clearAttributes(),e.mergeAttributes&&e.mergeAttributes(t),n=e.nodeName.toLowerCase(),"object"===n?e.outerHTML=t.outerHTML:"input"!==n||"checkbox"!==t.type&&"radio"!==t.type?"option"===n?e.selected=t.defaultSelected:("input"===n||"textarea"===n)&&(e.defaultValue=t.defaultValue):(t.checked&&(e.defaultChecked=e.checked=t.checked),e.value!==t.value&&(e.value=t.value)),e.removeAttribute(P.expando))}function p(t){return t.getElementsByTagName!==e?t.getElementsByTagName("*"):t.querySelectorAll!==e?t.querySelectorAll("*"):[]}function g(t){("checkbox"===t.type||"radio"===t.type)&&(t.defaultChecked=t.checked)}function m(t){var n=(t.nodeName||"").toLowerCase();"input"===n?g(t):"script"!==n&&t.getElementsByTagName!==e&&P.grep(t.getElementsByTagName("input"),g)}function v(t){var e=I.createElement("div");return Ne.appendChild(e),e.innerHTML=t.outerHTML,e.firstChild}function y(t,e){e.src?P.ajax({url:e.src,async:!1,dataType:"script"}):P.globalEval((e.text||e.textContent||e.innerHTML||"").replace(Ee,"/*$0*/")),e.parentNode&&e.parentNode.removeChild(e)}function b(t,e,n){var r="width"===e?t.offsetWidth:t.offsetHeight,i="width"===e?Fe:qe,o=0,a=i.length;if(r>0){if("border"!==n)for(;a>o;o++)n||(r-=parseFloat(P.css(t,"padding"+i[o]))||0),"margin"===n?r+=parseFloat(P.css(t,n+i[o]))||0:r-=parseFloat(P.css(t,"border"+i[o]+"Width"))||0;return r+"px"}if(r=Me(t,e,e),(0>r||null==r)&&(r=t.style[e]||0),r=parseFloat(r)||0,n)for(;a>o;o++)r+=parseFloat(P.css(t,"padding"+i[o]))||0,"padding"!==n&&(r+=parseFloat(P.css(t,"border"+i[o]+"Width"))||0),"margin"===n&&(r+=parseFloat(P.css(t,n+i[o]))||0);return r+"px"}function x(t){return function(e,n){if("string"!=typeof e&&(n=e,e="*"),P.isFunction(n))for(var r,i,o,a=e.toLowerCase().split(nn),s=0,l=a.length;l>s;s++)r=a[s],o=/^\+/.test(r),o&&(r=r.substr(1)||"*"),i=t[r]=t[r]||[],i[o?"unshift":"push"](n)}}function w(t,n,r,i,o,a){o=o||n.dataTypes[0],a=a||{},a[o]=!0;for(var s,l=t[o],u=0,c=l?l.length:0,d=t===sn;c>u&&(d||!s);u++)s=l[u](n,r,i),"string"==typeof s&&(!d||a[s]?s=e:(n.dataTypes.unshift(s),s=w(t,n,r,i,s,a)));return!d&&s||a["*"]||(s=w(t,n,r,i,"*",a)),s}function C(t,n){var r,i,o=P.ajaxSettings.flatOptions||{};for(r in n)n[r]!==e&&((o[r]?t:i||(i={}))[r]=n[r]);i&&P.extend(!0,t,i)}function k(t,e,n,r){if(P.isArray(e))P.each(e,function(e,i){n||Ue.test(t)?r(t,i):k(t+"["+("object"==typeof i||P.isArray(i)?e:"")+"]",i,n,r)});else if(n||null==e||"object"!=typeof e)r(t,e);else for(var i in e)k(t+"["+i+"]",e[i],n,r)}function A(t,n,r){var i,o,a,s,l=t.contents,u=t.dataTypes,c=t.responseFields;for(o in c)o in r&&(n[c[o]]=r[o]);for(;"*"===u[0];)u.shift(),i===e&&(i=t.mimeType||n.getResponseHeader("content-type"));if(i)for(o in l)if(l[o]&&l[o].test(i)){u.unshift(o);break}if(u[0]in r)a=u[0];else{for(o in r){if(!u[0]||t.converters[o+" "+u[0]]){a=o;break}s||(s=o)}a=a||s}return a?(a!==u[0]&&u.unshift(a),r[a]):e}function T(t,n){t.dataFilter&&(n=t.dataFilter(n,t.dataType));var r,i,o,a,s,l,u,c,d=t.dataTypes,h={},f=d.length,p=d[0];for(r=1;f>r;r++){if(1===r)for(i in t.converters)"string"==typeof i&&(h[i.toLowerCase()]=t.converters[i]);if(a=p,p=d[r],"*"===p)p=a;else if("*"!==a&&a!==p){if(s=a+" "+p,l=h[s]||h["* "+p],!l){c=e;for(u in h)if(o=u.split(" "),(o[0]===a||"*"===o[0])&&(c=h[o[1]+" "+p])){u=h[u],u===!0?l=c:c===!0&&(l=u);break}}l||c||P.error("No conversion from "+s.replace(" "," to ")),l!==!0&&(n=l?l(n):c(u(n)))}}return n}function S(){try{return new t.XMLHttpRequest}catch(e){}}function E(){try{return new t.ActiveXObject("Microsoft.XMLHTTP")}catch(e){}}function _(){return setTimeout(N,0),bn=P.now()}function N(){bn=e}function M(t,e){var n={};return P.each(kn.concat.apply([],kn.slice(0,e)),function(){n[this]=t}),n}function O(t){if(!xn[t]){var e=I.body,n=P("<"+t+">").appendTo(e),r=n.css("display");n.remove(),("none"===r||""===r)&&(mn||(mn=I.createElement("iframe"),mn.frameBorder=mn.width=mn.height=0),e.appendChild(mn),vn&&mn.createElement||(vn=(mn.contentWindow||mn.contentDocument).document,vn.write(("CSS1Compat"===I.compatMode?"<!doctype html>":"")+"<html><body>"),vn.close()),n=vn.createElement(t),vn.body.appendChild(n),r=P.css(n,"display"),e.removeChild(mn)),xn[t]=r}return xn[t]}function R(t){return P.isWindow(t)?t:9===t.nodeType?t.defaultView||t.parentWindow:!1}var I=t.document,D=t.navigator,L=t.location,P=function(){function n(){if(!s.isReady){try{I.documentElement.doScroll("left")}catch(t){return setTimeout(n,1),e}s.ready()}}var r,i,o,a,s=function(t,e){return new s.fn.init(t,e,r)},l=t.jQuery,u=t.$,c=/^(?:[^#<]*(<[\w\W]+>)[^>]*$|#([\w\-]*)$)/,d=/\S/,h=/^\s+/,f=/\s+$/,p=/^<(\w+)\s*\/?>(?:<\/\1>)?$/,g=/^[\],:{}\s]*$/,m=/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,v=/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,y=/(?:^|:|,)(?:\s*\[)+/g,b=/(webkit)[ \/]([\w.]+)/,x=/(opera)(?:.*version)?[ \/]([\w.]+)/,w=/(msie) ([\w.]+)/,C=/(mozilla)(?:.*? rv:([\w.]+))?/,k=/-([a-z]|[0-9])/gi,A=/^-ms-/,T=function(t,e){return(e+"").toUpperCase()},S=D.userAgent,E=Object.prototype.toString,_=Object.prototype.hasOwnProperty,N=Array.prototype.push,M=Array.prototype.slice,O=String.prototype.trim,R=Array.prototype.indexOf,L={};return s.fn=s.prototype={constructor:s,init:function(t,n,r){var i,o,a,l;if(!t)return this;if(t.nodeType)return this.context=this[0]=t,this.length=1,this;if("body"===t&&!n&&I.body)return this.context=I,this[0]=I.body,this.selector=t,this.length=1,this;if("string"==typeof t){if(i="<"===t.charAt(0)&&">"===t.charAt(t.length-1)&&t.length>=3?[null,t,null]:c.exec(t),!i||!i[1]&&n)return!n||n.jquery?(n||r).find(t):this.constructor(n).find(t);if(i[1])return n=n instanceof s?n[0]:n,l=n?n.ownerDocument||n:I,a=p.exec(t),a?s.isPlainObject(n)?(t=[I.createElement(a[1])],s.fn.attr.call(t,n,!0)):t=[l.createElement(a[1])]:(a=s.buildFragment([i[1]],[l]),t=(a.cacheable?s.clone(a.fragment):a.fragment).childNodes),s.merge(this,t);if(o=I.getElementById(i[2]),o&&o.parentNode){if(o.id!==i[2])return r.find(t);this.length=1,this[0]=o}return this.context=I,this.selector=t,this}return s.isFunction(t)?r.ready(t):(t.selector!==e&&(this.selector=t.selector,this.context=t.context),s.makeArray(t,this))},selector:"",jquery:"1.7.1",length:0,size:function(){return this.length},toArray:function(){return M.call(this,0)},get:function(t){return null==t?this.toArray():0>t?this[this.length+t]:this[t]},pushStack:function(t,e,n){var r=this.constructor();return s.isArray(t)?N.apply(r,t):s.merge(r,t),r.prevObject=this,r.context=this.context,"find"===e?r.selector=this.selector+(this.selector?" ":"")+n:e&&(r.selector=this.selector+"."+e+"("+n+")"),r},each:function(t,e){return s.each(this,t,e)},ready:function(t){return s.bindReady(),o.add(t),this},eq:function(t){return t=+t,-1===t?this.slice(t):this.slice(t,t+1)},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},slice:function(){return this.pushStack(M.apply(this,arguments),"slice",M.call(arguments).join(","))},map:function(t){return this.pushStack(s.map(this,function(e,n){return t.call(e,n,e)}))},end:function(){return this.prevObject||this.constructor(null)},push:N,sort:[].sort,splice:[].splice},s.fn.init.prototype=s.fn,s.extend=s.fn.extend=function(){var t,n,r,i,o,a,l=arguments[0]||{},u=1,c=arguments.length,d=!1;for("boolean"==typeof l&&(d=l,l=arguments[1]||{},u=2),"object"==typeof l||s.isFunction(l)||(l={}),c===u&&(l=this,--u);c>u;u++)if(null!=(t=arguments[u]))for(n in t)r=l[n],i=t[n],l!==i&&(d&&i&&(s.isPlainObject(i)||(o=s.isArray(i)))?(o?(o=!1,a=r&&s.isArray(r)?r:[]):a=r&&s.isPlainObject(r)?r:{},l[n]=s.extend(d,a,i)):i!==e&&(l[n]=i));return l},s.extend({noConflict:function(e){return t.$===s&&(t.$=u),e&&t.jQuery===s&&(t.jQuery=l),s},isReady:!1,readyWait:1,holdReady:function(t){t?s.readyWait++:s.ready(!0)},ready:function(t){if(t===!0&&!--s.readyWait||t!==!0&&!s.isReady){if(!I.body)return setTimeout(s.ready,1);if(s.isReady=!0,t!==!0&&--s.readyWait>0)return;o.fireWith(I,[s]),s.fn.trigger&&s(I).trigger("ready").off("ready")}},bindReady:function(){if(!o){if(o=s.Callbacks("once memory"),"complete"===I.readyState)return setTimeout(s.ready,1);if(I.addEventListener)I.addEventListener("DOMContentLoaded",a,!1),t.addEventListener("load",s.ready,!1);else if(I.attachEvent){I.attachEvent("onreadystatechange",a),t.attachEvent("onload",s.ready);var e=!1;try{e=null==t.frameElement}catch(r){}I.documentElement.doScroll&&e&&n()}}},isFunction:function(t){return"function"===s.type(t)},isArray:Array.isArray||function(t){return"array"===s.type(t)},isWindow:function(t){return t&&"object"==typeof t&&"setInterval"in t},isNumeric:function(t){return!isNaN(parseFloat(t))&&isFinite(t)},type:function(t){return null==t?t+"":L[E.call(t)]||"object"},isPlainObject:function(t){if(!t||"object"!==s.type(t)||t.nodeType||s.isWindow(t))return!1;try{if(t.constructor&&!_.call(t,"constructor")&&!_.call(t.constructor.prototype,"isPrototypeOf"))return!1}catch(n){return!1}var r;for(r in t);return r===e||_.call(t,r)},isEmptyObject:function(t){for(var e in t)return!1;return!0},error:function(t){throw Error(t)},parseJSON:function(n){return"string"==typeof n&&n?(n=s.trim(n),t.JSON&&t.JSON.parse?t.JSON.parse(n):g.test(n.replace(m,"@").replace(v,"]").replace(y,""))?Function("return "+n)():(s.error("Invalid JSON: "+n),e)):null},parseXML:function(n){var r,i;try{t.DOMParser?(i=new DOMParser,r=i.parseFromString(n,"text/xml")):(r=new ActiveXObject("Microsoft.XMLDOM"),r.async="false",r.loadXML(n))}catch(o){r=e}return r&&r.documentElement&&!r.getElementsByTagName("parsererror").length||s.error("Invalid XML: "+n),r},noop:function(){},globalEval:function(e){e&&d.test(e)&&(t.execScript||function(e){t.eval.call(t,e)})(e)},camelCase:function(t){return t.replace(A,"ms-").replace(k,T)},nodeName:function(t,e){return t.nodeName&&t.nodeName.toUpperCase()===e.toUpperCase()},each:function(t,n,r){var i,o=0,a=t.length,l=a===e||s.isFunction(t);if(r)if(l){for(i in t)if(n.apply(t[i],r)===!1)break}else for(;a>o&&n.apply(t[o++],r)!==!1;);else if(l){for(i in t)if(n.call(t[i],i,t[i])===!1)break}else for(;a>o&&n.call(t[o],o,t[o++])!==!1;);return t},trim:O?function(t){return null==t?"":O.call(t)}:function(t){return null==t?"":(""+t).replace(h,"").replace(f,"")},makeArray:function(t,e){var n=e||[];if(null!=t){var r=s.type(t);null==t.length||"string"===r||"function"===r||"regexp"===r||s.isWindow(t)?N.call(n,t):s.merge(n,t)}return n},inArray:function(t,e,n){var r;if(e){if(R)return R.call(e,t,n);for(r=e.length,n=n?0>n?Math.max(0,r+n):n:0;r>n;n++)if(n in e&&e[n]===t)return n}return-1},merge:function(t,n){var r=t.length,i=0;if("number"==typeof n.length)for(var o=n.length;o>i;i++)t[r++]=n[i];else for(;n[i]!==e;)t[r++]=n[i++];return t.length=r,t},grep:function(t,e,n){var r,i=[];n=!!n;for(var o=0,a=t.length;a>o;o++)r=!!e(t[o],o),n!==r&&i.push(t[o]);return i},map:function(t,n,r){var i,o,a=[],l=0,u=t.length,c=t instanceof s||u!==e&&"number"==typeof u&&(u>0&&t[0]&&t[u-1]||0===u||s.isArray(t));if(c)for(;u>l;l++)i=n(t[l],l,r),null!=i&&(a[a.length]=i);else for(o in t)i=n(t[o],o,r),null!=i&&(a[a.length]=i);return a.concat.apply([],a)},guid:1,proxy:function(t,n){if("string"==typeof n){var r=t[n];n=t,t=r}if(!s.isFunction(t))return e;var i=M.call(arguments,2),o=function(){return t.apply(n,i.concat(M.call(arguments)))};return o.guid=t.guid=t.guid||o.guid||s.guid++,o},access:function(t,n,r,i,o,a){var l=t.length;if("object"==typeof n){for(var u in n)s.access(t,u,n[u],i,o,r);return t}if(r!==e){i=!a&&i&&s.isFunction(r);for(var c=0;l>c;c++)o(t[c],n,i?r.call(t[c],c,o(t[c],n)):r,a);return t}return l?o(t[0],n):e},now:function(){return(new Date).getTime()},uaMatch:function(t){t=t.toLowerCase();var e=b.exec(t)||x.exec(t)||w.exec(t)||0>t.indexOf("compatible")&&C.exec(t)||[];return{browser:e[1]||"",version:e[2]||"0"}},sub:function(){function t(e,n){return new t.fn.init(e,n)}s.extend(!0,t,this),t.superclass=this,t.fn=t.prototype=this(),t.fn.constructor=t,t.sub=this.sub,t.fn.init=function(n,r){return r&&r instanceof s&&!(r instanceof t)&&(r=t(r)),s.fn.init.call(this,n,r,e)},t.fn.init.prototype=t.fn;var e=t(I);return t},browser:{}}),s.each("Boolean Number String Function Array Date RegExp Object".split(" "),function(t,e){L["[object "+e+"]"]=e.toLowerCase()}),i=s.uaMatch(S),i.browser&&(s.browser[i.browser]=!0,s.browser.version=i.version),s.browser.webkit&&(s.browser.safari=!0),d.test(" ")&&(h=/^[\s\xA0]+/,f=/[\s\xA0]+$/),r=s(I),I.addEventListener?a=function(){I.removeEventListener("DOMContentLoaded",a,!1),s.ready()}:I.attachEvent&&(a=function(){"complete"===I.readyState&&(I.detachEvent("onreadystatechange",a),s.ready())}),s}(),B={};P.Callbacks=function(t){t=t?B[t]||n(t):{};var r,i,o,a,s,l=[],u=[],c=function(e){var n,r,i,o;for(n=0,r=e.length;r>n;n++)i=e[n],o=P.type(i),"array"===o?c(i):"function"===o&&(t.unique&&h.has(i)||l.push(i))},d=function(e,n){for(n=n||[],r=!t.memory||[e,n],i=!0,s=o||0,o=0,a=l.length;l&&a>s;s++)if(l[s].apply(e,n)===!1&&t.stopOnFalse){r=!0;break}i=!1,l&&(t.once?r===!0?h.disable():l=[]:u&&u.length&&(r=u.shift(),h.fireWith(r[0],r[1])))},h={add:function(){if(l){var t=l.length;c(arguments),i?a=l.length:r&&r!==!0&&(o=t,d(r[0],r[1]))}return this},remove:function(){if(l)for(var e=arguments,n=0,r=e.length;r>n;n++)for(var o=0;l.length>o&&(e[n]!==l[o]||(i&&a>=o&&(a--,s>=o&&s--),l.splice(o--,1),!t.unique));o++);return this},has:function(t){if(l)for(var e=0,n=l.length;n>e;e++)if(t===l[e])return!0;return!1},empty:function(){return l=[],this},disable:function(){return l=u=r=e,this},disabled:function(){return!l},lock:function(){return u=e,r&&r!==!0||h.disable(),this},locked:function(){return!u},fireWith:function(e,n){return u&&(i?t.once||u.push([e,n]):t.once&&r||d(e,n)),this},fire:function(){return h.fireWith(this,arguments),this},fired:function(){return!!r}};return h};var j=[].slice;P.extend({Deferred:function(t){var e,n=P.Callbacks("once memory"),r=P.Callbacks("once memory"),i=P.Callbacks("memory"),o="pending",a={resolve:n,reject:r,notify:i},s={done:n.add,fail:r.add,progress:i.add,state:function(){return o},isResolved:n.fired,isRejected:r.fired,then:function(t,e,n){return l.done(t).fail(e).progress(n),this},always:function(){return l.done.apply(l,arguments).fail.apply(l,arguments),this},pipe:function(t,e,n){return P.Deferred(function(r){P.each({done:[t,"resolve"],fail:[e,"reject"],progress:[n,"notify"]},function(t,e){var n,i=e[0],o=e[1];P.isFunction(i)?l[t](function(){n=i.apply(this,arguments),n&&P.isFunction(n.promise)?n.promise().then(r.resolve,r.reject,r.notify):r[o+"With"](this===l?r:this,[n])}):l[t](r[o])})}).promise()},promise:function(t){if(null==t)t=s;else for(var e in s)t[e]=s[e];return t}},l=s.promise({});for(e in a)l[e]=a[e].fire,l[e+"With"]=a[e].fireWith;return l.done(function(){o="resolved"},r.disable,i.lock).fail(function(){o="rejected"},n.disable,i.lock),t&&t.call(l,l),l},when:function(t){function e(t){return function(e){r[t]=arguments.length>1?j.call(arguments,0):e,--s||l.resolveWith(l,r)}}function n(t){return function(e){a[t]=arguments.length>1?j.call(arguments,0):e,l.notifyWith(u,a)}}var r=j.call(arguments,0),i=0,o=r.length,a=Array(o),s=o,l=1>=o&&t&&P.isFunction(t.promise)?t:P.Deferred(),u=l.promise();if(o>1){for(;o>i;i++)r[i]&&r[i].promise&&P.isFunction(r[i].promise)?r[i].promise().then(e(i),l.reject,n(i)):--s;s||l.resolveWith(l,r)}else l!==t&&l.resolveWith(l,o?[t]:[]);return u}}),P.support=function(){var n,r,i,o,a,s,l,u,c,d,h,f,p=I.createElement("div");if(I.documentElement,p.setAttribute("className","t"),p.innerHTML="   <link/><table></table><a href='/a' style='top:1px;float:left;opacity:.55;'>a</a><input type='checkbox'/>",r=p.getElementsByTagName("*"),i=p.getElementsByTagName("a")[0],!r||!r.length||!i)return{};o=I.createElement("select"),a=o.appendChild(I.createElement("option")),s=p.getElementsByTagName("input")[0],n={leadingWhitespace:3===p.firstChild.nodeType,tbody:!p.getElementsByTagName("tbody").length,htmlSerialize:!!p.getElementsByTagName("link").length,style:/top/.test(i.getAttribute("style")),hrefNormalized:"/a"===i.getAttribute("href"),opacity:/^0.55/.test(i.style.opacity),cssFloat:!!i.style.cssFloat,checkOn:"on"===s.value,optSelected:a.selected,getSetAttribute:"t"!==p.className,enctype:!!I.createElement("form").enctype,html5Clone:"<:nav></:nav>"!==I.createElement("nav").cloneNode(!0).outerHTML,submitBubbles:!0,changeBubbles:!0,focusinBubbles:!1,deleteExpando:!0,noCloneEvent:!0,inlineBlockNeedsLayout:!1,shrinkWrapBlocks:!1,reliableMarginRight:!0},s.checked=!0,n.noCloneChecked=s.cloneNode(!0).checked,o.disabled=!0,n.optDisabled=!a.disabled;try{delete p.test}catch(g){n.deleteExpando=!1}if(!p.addEventListener&&p.attachEvent&&p.fireEvent&&(p.attachEvent("onclick",function(){n.noCloneEvent=!1}),p.cloneNode(!0).fireEvent("onclick")),s=I.createElement("input"),s.value="t",s.setAttribute("type","radio"),n.radioValue="t"===s.value,s.setAttribute("checked","checked"),p.appendChild(s),u=I.createDocumentFragment(),u.appendChild(p.lastChild),n.checkClone=u.cloneNode(!0).cloneNode(!0).lastChild.checked,n.appendChecked=s.checked,u.removeChild(s),u.appendChild(p),p.innerHTML="",t.getComputedStyle&&(l=I.createElement("div"),l.style.width="0",l.style.marginRight="0",p.style.width="2px",p.appendChild(l),n.reliableMarginRight=0===(parseInt((t.getComputedStyle(l,null)||{marginRight:0}).marginRight,10)||0)),p.attachEvent)for(h in{submit:1,change:1,focusin:1})d="on"+h,f=d in p,f||(p.setAttribute(d,"return;"),f="function"==typeof p[d]),n[h+"Bubbles"]=f;return u.removeChild(p),u=o=a=l=p=s=null,P(function(){var t,r,i,o,a,s,l,u,d,h,g=I.getElementsByTagName("body")[0];g&&(s=1,l="position:absolute;top:0;left:0;width:1px;height:1px;margin:0;",u="visibility:hidden;border:0;",d="style='"+l+"border:5px solid #000;padding:0;'",h="<div "+d+"><div></div></div>"+"<table "+d+" cellpadding='0' cellspacing='0'>"+"<tr><td></td></tr></table>",t=I.createElement("div"),t.style.cssText=u+"width:0;height:0;position:static;top:0;margin-top:"+s+"px",g.insertBefore(t,g.firstChild),p=I.createElement("div"),t.appendChild(p),p.innerHTML="<table><tr><td style='padding:0;border:0;display:none'></td><td>t</td></tr></table>",c=p.getElementsByTagName("td"),f=0===c[0].offsetHeight,c[0].style.display="",c[1].style.display="none",n.reliableHiddenOffsets=f&&0===c[0].offsetHeight,p.innerHTML="",p.style.width=p.style.paddingLeft="1px",P.boxModel=n.boxModel=2===p.offsetWidth,p.style.zoom!==e&&(p.style.display="inline",p.style.zoom=1,n.inlineBlockNeedsLayout=2===p.offsetWidth,p.style.display="",p.innerHTML="<div style='width:4px;'></div>",n.shrinkWrapBlocks=2!==p.offsetWidth),p.style.cssText=l+u,p.innerHTML=h,r=p.firstChild,i=r.firstChild,o=r.nextSibling.firstChild.firstChild,a={doesNotAddBorder:5!==i.offsetTop,doesAddBorderForTableAndCells:5===o.offsetTop},i.style.position="fixed",i.style.top="20px",a.fixedPosition=20===i.offsetTop||15===i.offsetTop,i.style.position=i.style.top="",r.style.overflow="hidden",r.style.position="relative",a.subtractsBorderForOverflowNotVisible=-5===i.offsetTop,a.doesNotIncludeMarginInBodyOffset=g.offsetTop!==s,g.removeChild(t),p=t=null,P.extend(n,a))}),n}();var H=/^(?:\{.*\}|\[.*\])$/,F=/([A-Z])/g;P.extend({cache:{},uuid:0,expando:"jQuery"+(P.fn.jquery+Math.random()).replace(/\D/g,""),noData:{embed:!0,object:"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000",applet:!0},hasData:function(t){return t=t.nodeType?P.cache[t[P.expando]]:t[P.expando],!!t&&!i(t)},data:function(t,n,r,i){if(P.acceptData(t)){var o,a,s,l=P.expando,u="string"==typeof n,c=t.nodeType,d=c?P.cache:t,h=c?t[l]:t[l]&&l,f="events"===n;if(h&&d[h]&&(f||i||d[h].data)||!u||r!==e)return h||(c?t[l]=h=++P.uuid:h=l),d[h]||(d[h]={},c||(d[h].toJSON=P.noop)),("object"==typeof n||"function"==typeof n)&&(i?d[h]=P.extend(d[h],n):d[h].data=P.extend(d[h].data,n)),o=a=d[h],i||(a.data||(a.data={}),a=a.data),r!==e&&(a[P.camelCase(n)]=r),f&&!a[n]?o.events:(u?(s=a[n],null==s&&(s=a[P.camelCase(n)])):s=a,s)}},removeData:function(t,e,n){if(P.acceptData(t)){var r,o,a,s=P.expando,l=t.nodeType,u=l?P.cache:t,c=l?t[s]:s;if(u[c]){if(e&&(r=n?u[c]:u[c].data)){P.isArray(e)||(e in r?e=[e]:(e=P.camelCase(e),e=e in r?[e]:e.split(" ")));for(o=0,a=e.length;a>o;o++)delete r[e[o]];if(!(n?i:P.isEmptyObject)(r))return}(n||(delete u[c].data,i(u[c])))&&(P.support.deleteExpando||!u.setInterval?delete u[c]:u[c]=null,l&&(P.support.deleteExpando?delete t[s]:t.removeAttribute?t.removeAttribute(s):t[s]=null))}}},_data:function(t,e,n){return P.data(t,e,n,!0)},acceptData:function(t){if(t.nodeName){var e=P.noData[t.nodeName.toLowerCase()];if(e)return!(e===!0||t.getAttribute("classid")!==e)}return!0}}),P.fn.extend({data:function(t,n){var i,o,a,s=null;if(t===e){if(this.length&&(s=P.data(this[0]),1===this[0].nodeType&&!P._data(this[0],"parsedAttrs"))){o=this[0].attributes;for(var l=0,u=o.length;u>l;l++)a=o[l].name,0===a.indexOf("data-")&&(a=P.camelCase(a.substring(5)),r(this[0],a,s[a]));P._data(this[0],"parsedAttrs",!0)}return s}return"object"==typeof t?this.each(function(){P.data(this,t)}):(i=t.split("."),i[1]=i[1]?"."+i[1]:"",n===e?(s=this.triggerHandler("getData"+i[1]+"!",[i[0]]),s===e&&this.length&&(s=P.data(this[0],t),s=r(this[0],t,s)),s===e&&i[1]?this.data(i[0]):s):this.each(function(){var e=P(this),r=[i[0],n];e.triggerHandler("setData"+i[1]+"!",r),P.data(this,t,n),e.triggerHandler("changeData"+i[1]+"!",r)}))},removeData:function(t){return this.each(function(){P.removeData(this,t)})}}),P.extend({_mark:function(t,e){t&&(e=(e||"fx")+"mark",P._data(t,e,(P._data(t,e)||0)+1))},_unmark:function(t,e,n){if(t!==!0&&(n=e,e=t,t=!1),e){n=n||"fx";var r=n+"mark",i=t?0:(P._data(e,r)||1)-1;i?P._data(e,r,i):(P.removeData(e,r,!0),o(e,n,"mark"))}},queue:function(t,n,r){var i;return t?(n=(n||"fx")+"queue",i=P._data(t,n),r&&(!i||P.isArray(r)?i=P._data(t,n,P.makeArray(r)):i.push(r)),i||[]):e},dequeue:function(t,e){e=e||"fx";var n=P.queue(t,e),r=n.shift(),i={};"inprogress"===r&&(r=n.shift()),r&&("fx"===e&&n.unshift("inprogress"),P._data(t,e+".run",i),r.call(t,function(){P.dequeue(t,e)},i)),n.length||(P.removeData(t,e+"queue "+e+".run",!0),o(t,e,"queue"))}}),P.fn.extend({queue:function(t,n){return"string"!=typeof t&&(n=t,t="fx"),n===e?P.queue(this[0],t):this.each(function(){var e=P.queue(this,t,n);"fx"===t&&"inprogress"!==e[0]&&P.dequeue(this,t)})},dequeue:function(t){return this.each(function(){P.dequeue(this,t)})},delay:function(t,e){return t=P.fx?P.fx.speeds[t]||t:t,e=e||"fx",this.queue(e,function(e,n){var r=setTimeout(e,t);n.stop=function(){clearTimeout(r)}})},clearQueue:function(t){return this.queue(t||"fx",[])},promise:function(t,n){function r(){--l||o.resolveWith(a,[a])}"string"!=typeof t&&(n=t,t=e),t=t||"fx";for(var i,o=P.Deferred(),a=this,s=a.length,l=1,u=t+"defer",c=t+"queue",d=t+"mark";s--;)(i=P.data(a[s],u,e,!0)||(P.data(a[s],c,e,!0)||P.data(a[s],d,e,!0))&&P.data(a[s],u,P.Callbacks("once memory"),!0))&&(l++,i.add(r));return r(),o.promise()}});var q,z,$,W=/[\n\t\r]/g,U=/\s+/,V=/\r/g,Y=/^(?:button|input)$/i,X=/^(?:button|input|object|select|textarea)$/i,K=/^a(?:rea)?$/i,G=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,Z=P.support.getSetAttribute;P.fn.extend({attr:function(t,e){return P.access(this,t,e,!0,P.attr)},removeAttr:function(t){return this.each(function(){P.removeAttr(this,t)})},prop:function(t,e){return P.access(this,t,e,!0,P.prop)},removeProp:function(t){return t=P.propFix[t]||t,this.each(function(){try{this[t]=e,delete this[t]}catch(n){}})},addClass:function(t){var e,n,r,i,o,a,s;if(P.isFunction(t))return this.each(function(e){P(this).addClass(t.call(this,e,this.className))});if(t&&"string"==typeof t)for(e=t.split(U),n=0,r=this.length;r>n;n++)if(i=this[n],1===i.nodeType)if(i.className||1!==e.length){for(o=" "+i.className+" ",a=0,s=e.length;s>a;a++)~o.indexOf(" "+e[a]+" ")||(o+=e[a]+" ");i.className=P.trim(o)}else i.className=t;return this},removeClass:function(t){var n,r,i,o,a,s,l;if(P.isFunction(t))return this.each(function(e){P(this).removeClass(t.call(this,e,this.className))});if(t&&"string"==typeof t||t===e)for(n=(t||"").split(U),r=0,i=this.length;i>r;r++)if(o=this[r],1===o.nodeType&&o.className)if(t){for(a=(" "+o.className+" ").replace(W," "),s=0,l=n.length;l>s;s++)a=a.replace(" "+n[s]+" "," ");o.className=P.trim(a)}else o.className="";return this},toggleClass:function(t,e){var n=typeof t,r="boolean"==typeof e;return P.isFunction(t)?this.each(function(n){P(this).toggleClass(t.call(this,n,this.className,e),e)}):this.each(function(){if("string"===n)for(var i,o=0,a=P(this),s=e,l=t.split(U);i=l[o++];)s=r?s:!a.hasClass(i),a[s?"addClass":"removeClass"](i);else("undefined"===n||"boolean"===n)&&(this.className&&P._data(this,"__className__",this.className),this.className=this.className||t===!1?"":P._data(this,"__className__")||"")})},hasClass:function(t){for(var e=" "+t+" ",n=0,r=this.length;r>n;n++)if(1===this[n].nodeType&&(" "+this[n].className+" ").replace(W," ").indexOf(e)>-1)return!0;return!1},val:function(t){var n,r,i,o=this[0];{if(arguments.length)return i=P.isFunction(t),this.each(function(r){var o,a=P(this);1===this.nodeType&&(o=i?t.call(this,r,a.val()):t,null==o?o="":"number"==typeof o?o+="":P.isArray(o)&&(o=P.map(o,function(t){return null==t?"":t+""})),n=P.valHooks[this.nodeName.toLowerCase()]||P.valHooks[this.type],n&&"set"in n&&n.set(this,o,"value")!==e||(this.value=o))});if(o)return n=P.valHooks[o.nodeName.toLowerCase()]||P.valHooks[o.type],n&&"get"in n&&(r=n.get(o,"value"))!==e?r:(r=o.value,"string"==typeof r?r.replace(V,""):null==r?"":r)}}}),P.extend({valHooks:{option:{get:function(t){var e=t.attributes.value;return!e||e.specified?t.value:t.text}},select:{get:function(t){var e,n,r,i,o=t.selectedIndex,a=[],s=t.options,l="select-one"===t.type;if(0>o)return null;for(n=l?o:0,r=l?o+1:s.length;r>n;n++)if(i=s[n],!(!i.selected||(P.support.optDisabled?i.disabled:null!==i.getAttribute("disabled"))||i.parentNode.disabled&&P.nodeName(i.parentNode,"optgroup"))){if(e=P(i).val(),l)return e;a.push(e)}return l&&!a.length&&s.length?P(s[o]).val():a},set:function(t,e){var n=P.makeArray(e);return P(t).find("option").each(function(){this.selected=P.inArray(P(this).val(),n)>=0}),n.length||(t.selectedIndex=-1),n}}},attrFn:{val:!0,css:!0,html:!0,text:!0,data:!0,width:!0,height:!0,offset:!0},attr:function(t,n,r,i){var o,a,s,l=t.nodeType;if(t&&3!==l&&8!==l&&2!==l)return i&&n in P.attrFn?P(t)[n](r):t.getAttribute===e?P.prop(t,n,r):(s=1!==l||!P.isXMLDoc(t),s&&(n=n.toLowerCase(),a=P.attrHooks[n]||(G.test(n)?z:q)),r!==e?null===r?(P.removeAttr(t,n),e):a&&"set"in a&&s&&(o=a.set(t,r,n))!==e?o:(t.setAttribute(n,""+r),r):a&&"get"in a&&s&&null!==(o=a.get(t,n))?o:(o=t.getAttribute(n),null===o?e:o))},removeAttr:function(t,e){var n,r,i,o,a=0;if(e&&1===t.nodeType)for(r=e.toLowerCase().split(U),o=r.length;o>a;a++)i=r[a],i&&(n=P.propFix[i]||i,P.attr(t,i,""),t.removeAttribute(Z?i:n),G.test(i)&&n in t&&(t[n]=!1))},attrHooks:{type:{set:function(t,e){if(Y.test(t.nodeName)&&t.parentNode)P.error("type property can't be changed");else if(!P.support.radioValue&&"radio"===e&&P.nodeName(t,"input")){var n=t.value;return t.setAttribute("type",e),n&&(t.value=n),e}}},value:{get:function(t,e){return q&&P.nodeName(t,"button")?q.get(t,e):e in t?t.value:null},set:function(t,n,r){return q&&P.nodeName(t,"button")?q.set(t,n,r):(t.value=n,e)}}},propFix:{tabindex:"tabIndex",readonly:"readOnly","for":"htmlFor","class":"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},prop:function(t,n,r){var i,o,a,s=t.nodeType;if(t&&3!==s&&8!==s&&2!==s)return a=1!==s||!P.isXMLDoc(t),a&&(n=P.propFix[n]||n,o=P.propHooks[n]),r!==e?o&&"set"in o&&(i=o.set(t,r,n))!==e?i:t[n]=r:o&&"get"in o&&null!==(i=o.get(t,n))?i:t[n]},propHooks:{tabIndex:{get:function(t){var n=t.getAttributeNode("tabindex");return n&&n.specified?parseInt(n.value,10):X.test(t.nodeName)||K.test(t.nodeName)&&t.href?0:e}}}}),P.attrHooks.tabindex=P.propHooks.tabIndex,z={get:function(t,n){var r,i=P.prop(t,n);return i===!0||"boolean"!=typeof i&&(r=t.getAttributeNode(n))&&r.nodeValue!==!1?n.toLowerCase():e},set:function(t,e,n){var r;return e===!1?P.removeAttr(t,n):(r=P.propFix[n]||n,r in t&&(t[r]=!0),t.setAttribute(n,n.toLowerCase())),n}},Z||($={name:!0,id:!0},q=P.valHooks.button={get:function(t,n){var r;return r=t.getAttributeNode(n),r&&($[n]?""!==r.nodeValue:r.specified)?r.nodeValue:e},set:function(t,e,n){var r=t.getAttributeNode(n);return r||(r=I.createAttribute(n),t.setAttributeNode(r)),r.nodeValue=e+""}},P.attrHooks.tabindex.set=q.set,P.each(["width","height"],function(t,n){P.attrHooks[n]=P.extend(P.attrHooks[n],{set:function(t,r){return""===r?(t.setAttribute(n,"auto"),r):e}})}),P.attrHooks.contenteditable={get:q.get,set:function(t,e,n){""===e&&(e="false"),q.set(t,e,n)}}),P.support.hrefNormalized||P.each(["href","src","width","height"],function(t,n){P.attrHooks[n]=P.extend(P.attrHooks[n],{get:function(t){var r=t.getAttribute(n,2);return null===r?e:r}})}),P.support.style||(P.attrHooks.style={get:function(t){return t.style.cssText.toLowerCase()||e},set:function(t,e){return t.style.cssText=""+e}}),P.support.optSelected||(P.propHooks.selected=P.extend(P.propHooks.selected,{get:function(t){var e=t.parentNode;return e&&(e.selectedIndex,e.parentNode&&e.parentNode.selectedIndex),null}})),P.support.enctype||(P.propFix.enctype="encoding"),P.support.checkOn||P.each(["radio","checkbox"],function(){P.valHooks[this]={get:function(t){return null===t.getAttribute("value")?"on":t.value}}}),P.each(["radio","checkbox"],function(){P.valHooks[this]=P.extend(P.valHooks[this],{set:function(t,n){return P.isArray(n)?t.checked=P.inArray(P(t).val(),n)>=0:e}})});var Q=/^(?:textarea|input|select)$/i,J=/^([^\.]*)?(?:\.(.+))?$/,te=/\bhover(\.\S+)?\b/,ee=/^key/,ne=/^(?:mouse|contextmenu)|click/,re=/^(?:focusinfocus|focusoutblur)$/,ie=/^(\w*)(?:#([\w\-]+))?(?:\.([\w\-]+))?$/,oe=function(t){var e=ie.exec(t);return e&&(e[1]=(e[1]||"").toLowerCase(),e[3]=e[3]&&RegExp("(?:^|\\s)"+e[3]+"(?:\\s|$)")),e},ae=function(t,e){var n=t.attributes||{};return!(e[1]&&t.nodeName.toLowerCase()!==e[1]||e[2]&&(n.id||{}).value!==e[2]||e[3]&&!e[3].test((n["class"]||{}).value))},se=function(t){return P.event.special.hover?t:t.replace(te,"mouseenter$1 mouseleave$1")};P.event={add:function(t,n,r,i,o){var a,s,l,u,c,d,h,f,p,g,m;if(3!==t.nodeType&&8!==t.nodeType&&n&&r&&(a=P._data(t))){for(r.handler&&(p=r,r=p.handler),r.guid||(r.guid=P.guid++),l=a.events,l||(a.events=l={}),s=a.handle,s||(a.handle=s=function(t){return P===e||t&&P.event.triggered===t.type?e:P.event.dispatch.apply(s.elem,arguments)
},s.elem=t),n=P.trim(se(n)).split(" "),u=0;n.length>u;u++)c=J.exec(n[u])||[],d=c[1],h=(c[2]||"").split(".").sort(),m=P.event.special[d]||{},d=(o?m.delegateType:m.bindType)||d,m=P.event.special[d]||{},f=P.extend({type:d,origType:c[1],data:i,handler:r,guid:r.guid,selector:o,quick:oe(o),namespace:h.join(".")},p),g=l[d],g||(g=l[d]=[],g.delegateCount=0,m.setup&&m.setup.call(t,i,h,s)!==!1||(t.addEventListener?t.addEventListener(d,s,!1):t.attachEvent&&t.attachEvent("on"+d,s))),m.add&&(m.add.call(t,f),f.handler.guid||(f.handler.guid=r.guid)),o?g.splice(g.delegateCount++,0,f):g.push(f),P.event.global[d]=!0;t=null}},global:{},remove:function(t,e,n,r,i){var o,a,s,l,u,c,d,h,f,p,g,m,v=P.hasData(t)&&P._data(t);if(v&&(h=v.events)){for(e=P.trim(se(e||"")).split(" "),o=0;e.length>o;o++)if(a=J.exec(e[o])||[],s=l=a[1],u=a[2],s){for(f=P.event.special[s]||{},s=(r?f.delegateType:f.bindType)||s,g=h[s]||[],c=g.length,u=u?RegExp("(^|\\.)"+u.split(".").sort().join("\\.(?:.*\\.)?")+"(\\.|$)"):null,d=0;g.length>d;d++)m=g[d],!i&&l!==m.origType||n&&n.guid!==m.guid||u&&!u.test(m.namespace)||r&&r!==m.selector&&("**"!==r||!m.selector)||(g.splice(d--,1),m.selector&&g.delegateCount--,f.remove&&f.remove.call(t,m));0===g.length&&c!==g.length&&(f.teardown&&f.teardown.call(t,u)!==!1||P.removeEvent(t,s,v.handle),delete h[s])}else for(s in h)P.event.remove(t,s+e[o],n,r,!0);P.isEmptyObject(h)&&(p=v.handle,p&&(p.elem=null),P.removeData(t,["events","handle"],!0))}},customEvent:{getData:!0,setData:!0,changeData:!0},trigger:function(n,r,i,o){if(!i||3!==i.nodeType&&8!==i.nodeType){var a,s,l,u,c,d,h,f,p,g,m=n.type||n,v=[];if(!re.test(m+P.event.triggered)&&(m.indexOf("!")>=0&&(m=m.slice(0,-1),s=!0),m.indexOf(".")>=0&&(v=m.split("."),m=v.shift(),v.sort()),i&&!P.event.customEvent[m]||P.event.global[m]))if(n="object"==typeof n?n[P.expando]?n:new P.Event(m,n):new P.Event(m),n.type=m,n.isTrigger=!0,n.exclusive=s,n.namespace=v.join("."),n.namespace_re=n.namespace?RegExp("(^|\\.)"+v.join("\\.(?:.*\\.)?")+"(\\.|$)"):null,d=0>m.indexOf(":")?"on"+m:"",i){if(n.result=e,n.target||(n.target=i),r=null!=r?P.makeArray(r):[],r.unshift(n),h=P.event.special[m]||{},!h.trigger||h.trigger.apply(i,r)!==!1){if(p=[[i,h.bindType||m]],!o&&!h.noBubble&&!P.isWindow(i)){for(g=h.delegateType||m,u=re.test(g+m)?i:i.parentNode,c=null;u;u=u.parentNode)p.push([u,g]),c=u;c&&c===i.ownerDocument&&p.push([c.defaultView||c.parentWindow||t,g])}for(l=0;p.length>l&&!n.isPropagationStopped();l++)u=p[l][0],n.type=p[l][1],f=(P._data(u,"events")||{})[n.type]&&P._data(u,"handle"),f&&f.apply(u,r),f=d&&u[d],f&&P.acceptData(u)&&f.apply(u,r)===!1&&n.preventDefault();return n.type=m,o||n.isDefaultPrevented()||h._default&&h._default.apply(i.ownerDocument,r)!==!1||"click"===m&&P.nodeName(i,"a")||!P.acceptData(i)||d&&i[m]&&("focus"!==m&&"blur"!==m||0!==n.target.offsetWidth)&&!P.isWindow(i)&&(c=i[d],c&&(i[d]=null),P.event.triggered=m,i[m](),P.event.triggered=e,c&&(i[d]=c)),n.result}}else{a=P.cache;for(l in a)a[l].events&&a[l].events[m]&&P.event.trigger(n,r,a[l].handle.elem,!0)}}},dispatch:function(n){n=P.event.fix(n||t.event);var r,i,o,a,s,l,u,c,d,h,f=(P._data(this,"events")||{})[n.type]||[],p=f.delegateCount,g=[].slice.call(arguments,0),m=!n.exclusive&&!n.namespace,v=[];if(g[0]=n,n.delegateTarget=this,p&&!n.target.disabled&&(!n.button||"click"!==n.type))for(a=P(this),a.context=this.ownerDocument||this,o=n.target;o!=this;o=o.parentNode||this){for(l={},c=[],a[0]=o,r=0;p>r;r++)d=f[r],h=d.selector,l[h]===e&&(l[h]=d.quick?ae(o,d.quick):a.is(h)),l[h]&&c.push(d);c.length&&v.push({elem:o,matches:c})}for(f.length>p&&v.push({elem:this,matches:f.slice(p)}),r=0;v.length>r&&!n.isPropagationStopped();r++)for(u=v[r],n.currentTarget=u.elem,i=0;u.matches.length>i&&!n.isImmediatePropagationStopped();i++)d=u.matches[i],(m||!n.namespace&&!d.namespace||n.namespace_re&&n.namespace_re.test(d.namespace))&&(n.data=d.data,n.handleObj=d,s=((P.event.special[d.origType]||{}).handle||d.handler).apply(u.elem,g),s!==e&&(n.result=s,s===!1&&(n.preventDefault(),n.stopPropagation())));return n.result},props:"attrChange attrName relatedNode srcElement altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(t,e){return null==t.which&&(t.which=null!=e.charCode?e.charCode:e.keyCode),t}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(t,n){var r,i,o,a=n.button,s=n.fromElement;return null==t.pageX&&null!=n.clientX&&(r=t.target.ownerDocument||I,i=r.documentElement,o=r.body,t.pageX=n.clientX+(i&&i.scrollLeft||o&&o.scrollLeft||0)-(i&&i.clientLeft||o&&o.clientLeft||0),t.pageY=n.clientY+(i&&i.scrollTop||o&&o.scrollTop||0)-(i&&i.clientTop||o&&o.clientTop||0)),!t.relatedTarget&&s&&(t.relatedTarget=s===t.target?n.toElement:s),t.which||a===e||(t.which=1&a?1:2&a?3:4&a?2:0),t}},fix:function(t){if(t[P.expando])return t;var n,r,i=t,o=P.event.fixHooks[t.type]||{},a=o.props?this.props.concat(o.props):this.props;for(t=P.Event(i),n=a.length;n;)r=a[--n],t[r]=i[r];return t.target||(t.target=i.srcElement||I),3===t.target.nodeType&&(t.target=t.target.parentNode),t.metaKey===e&&(t.metaKey=t.ctrlKey),o.filter?o.filter(t,i):t},special:{ready:{setup:P.bindReady},load:{noBubble:!0},focus:{delegateType:"focusin"},blur:{delegateType:"focusout"},beforeunload:{setup:function(t,e,n){P.isWindow(this)&&(this.onbeforeunload=n)},teardown:function(t,e){this.onbeforeunload===e&&(this.onbeforeunload=null)}}},simulate:function(t,e,n,r){var i=P.extend(new P.Event,n,{type:t,isSimulated:!0,originalEvent:{}});r?P.event.trigger(i,null,e):P.event.dispatch.call(e,i),i.isDefaultPrevented()&&n.preventDefault()}},P.event.handle=P.event.dispatch,P.removeEvent=I.removeEventListener?function(t,e,n){t.removeEventListener&&t.removeEventListener(e,n,!1)}:function(t,e,n){t.detachEvent&&t.detachEvent("on"+e,n)},P.Event=function(t,n){return this instanceof P.Event?(t&&t.type?(this.originalEvent=t,this.type=t.type,this.isDefaultPrevented=t.defaultPrevented||t.returnValue===!1||t.getPreventDefault&&t.getPreventDefault()?s:a):this.type=t,n&&P.extend(this,n),this.timeStamp=t&&t.timeStamp||P.now(),this[P.expando]=!0,e):new P.Event(t,n)},P.Event.prototype={preventDefault:function(){this.isDefaultPrevented=s;var t=this.originalEvent;t&&(t.preventDefault?t.preventDefault():t.returnValue=!1)},stopPropagation:function(){this.isPropagationStopped=s;var t=this.originalEvent;t&&(t.stopPropagation&&t.stopPropagation(),t.cancelBubble=!0)},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=s,this.stopPropagation()},isDefaultPrevented:a,isPropagationStopped:a,isImmediatePropagationStopped:a},P.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(t,e){P.event.special[t]={delegateType:e,bindType:e,handle:function(t){var n,r=this,i=t.relatedTarget,o=t.handleObj;return o.selector,(!i||i!==r&&!P.contains(r,i))&&(t.type=o.origType,n=o.handler.apply(this,arguments),t.type=e),n}}}),P.support.submitBubbles||(P.event.special.submit={setup:function(){return P.nodeName(this,"form")?!1:(P.event.add(this,"click._submit keypress._submit",function(t){var n=t.target,r=P.nodeName(n,"input")||P.nodeName(n,"button")?n.form:e;r&&!r._submit_attached&&(P.event.add(r,"submit._submit",function(t){this.parentNode&&!t.isTrigger&&P.event.simulate("submit",this.parentNode,t,!0)}),r._submit_attached=!0)}),e)},teardown:function(){return P.nodeName(this,"form")?!1:(P.event.remove(this,"._submit"),e)}}),P.support.changeBubbles||(P.event.special.change={setup:function(){return Q.test(this.nodeName)?(("checkbox"===this.type||"radio"===this.type)&&(P.event.add(this,"propertychange._change",function(t){"checked"===t.originalEvent.propertyName&&(this._just_changed=!0)}),P.event.add(this,"click._change",function(t){this._just_changed&&!t.isTrigger&&(this._just_changed=!1,P.event.simulate("change",this,t,!0))})),!1):(P.event.add(this,"beforeactivate._change",function(t){var e=t.target;Q.test(e.nodeName)&&!e._change_attached&&(P.event.add(e,"change._change",function(t){!this.parentNode||t.isSimulated||t.isTrigger||P.event.simulate("change",this.parentNode,t,!0)}),e._change_attached=!0)}),e)},handle:function(t){var n=t.target;return this!==n||t.isSimulated||t.isTrigger||"radio"!==n.type&&"checkbox"!==n.type?t.handleObj.handler.apply(this,arguments):e},teardown:function(){return P.event.remove(this,"._change"),Q.test(this.nodeName)}}),P.support.focusinBubbles||P.each({focus:"focusin",blur:"focusout"},function(t,e){var n=0,r=function(t){P.event.simulate(e,t.target,P.event.fix(t),!0)};P.event.special[e]={setup:function(){0===n++&&I.addEventListener(t,r,!0)},teardown:function(){0===--n&&I.removeEventListener(t,r,!0)}}}),P.fn.extend({on:function(t,n,r,i,o){var s,l;if("object"==typeof t){"string"!=typeof n&&(r=n,n=e);for(l in t)this.on(l,n,r,t[l],o);return this}if(null==r&&null==i?(i=n,r=n=e):null==i&&("string"==typeof n?(i=r,r=e):(i=r,r=n,n=e)),i===!1)i=a;else if(!i)return this;return 1===o&&(s=i,i=function(t){return P().off(t),s.apply(this,arguments)},i.guid=s.guid||(s.guid=P.guid++)),this.each(function(){P.event.add(this,t,i,r,n)})},one:function(t,e,n,r){return this.on.call(this,t,e,n,r,1)},off:function(t,n,r){if(t&&t.preventDefault&&t.handleObj){var i=t.handleObj;return P(t.delegateTarget).off(i.namespace?i.type+"."+i.namespace:i.type,i.selector,i.handler),this}if("object"==typeof t){for(var o in t)this.off(o,n,t[o]);return this}return(n===!1||"function"==typeof n)&&(r=n,n=e),r===!1&&(r=a),this.each(function(){P.event.remove(this,t,r,n)})},bind:function(t,e,n){return this.on(t,null,e,n)},unbind:function(t,e){return this.off(t,null,e)},live:function(t,e,n){return P(this.context).on(t,this.selector,e,n),this},die:function(t,e){return P(this.context).off(t,this.selector||"**",e),this},delegate:function(t,e,n,r){return this.on(e,t,n,r)},undelegate:function(t,e,n){return 1==arguments.length?this.off(t,"**"):this.off(e,t,n)},trigger:function(t,e){return this.each(function(){P.event.trigger(t,e,this)})},triggerHandler:function(t,n){return this[0]?P.event.trigger(t,n,this[0],!0):e},toggle:function(t){var e=arguments,n=t.guid||P.guid++,r=0,i=function(n){var i=(P._data(this,"lastToggle"+t.guid)||0)%r;return P._data(this,"lastToggle"+t.guid,i+1),n.preventDefault(),e[i].apply(this,arguments)||!1};for(i.guid=n;e.length>r;)e[r++].guid=n;return this.click(i)},hover:function(t,e){return this.mouseenter(t).mouseleave(e||t)}}),P.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(t,e){P.fn[e]=function(t,n){return null==n&&(n=t,t=null),arguments.length>0?this.on(e,null,t,n):this.trigger(e)},P.attrFn&&(P.attrFn[e]=!0),ee.test(e)&&(P.event.fixHooks[e]=P.event.keyHooks),ne.test(e)&&(P.event.fixHooks[e]=P.event.mouseHooks)}),function(){function t(t,e,n,r,o,a){for(var s=0,l=r.length;l>s;s++){var u=r[s];if(u){var c=!1;for(u=u[t];u;){if(u[i]===n){c=r[u.sizset];break}if(1!==u.nodeType||a||(u[i]=n,u.sizset=s),u.nodeName.toLowerCase()===e){c=u;break}u=u[t]}r[s]=c}}}function n(t,e,n,r,o,a){for(var s=0,l=r.length;l>s;s++){var u=r[s];if(u){var c=!1;for(u=u[t];u;){if(u[i]===n){c=r[u.sizset];break}if(1===u.nodeType)if(a||(u[i]=n,u.sizset=s),"string"!=typeof e){if(u===e){c=!0;break}}else if(h.filter(e,[u]).length>0){c=u;break}u=u[t]}r[s]=c}}}var r=/((?:\((?:\([^()]+\)|[^()]+)+\)|\[(?:\[[^\[\]]*\]|['"][^'"]*['"]|[^\[\]'"]+)+\]|\\.|[^ >+~,(\[\\]+)+|[>+~])(\s*,\s*)?((?:.|\r|\n)*)/g,i="sizcache"+(Math.random()+"").replace(".",""),o=0,a=Object.prototype.toString,s=!1,l=!0,u=/\\/g,c=/\r\n/g,d=/\W/;[0,0].sort(function(){return l=!1,0});var h=function(t,e,n,i){n=n||[],e=e||I;var o=e;if(1!==e.nodeType&&9!==e.nodeType)return[];if(!t||"string"!=typeof t)return n;var s,l,u,c,d,f,m,v,b=!0,x=h.isXML(e),w=[],k=t;do if(r.exec(""),s=r.exec(k),s&&(k=s[3],w.push(s[1]),s[2])){c=s[3];break}while(s);if(w.length>1&&g.exec(t))if(2===w.length&&p.relative[w[0]])l=C(w[0]+w[1],e,i);else for(l=p.relative[w[0]]?[e]:h(w.shift(),e);w.length;)t=w.shift(),p.relative[t]&&(t+=w.shift()),l=C(t,l,i);else if(!i&&w.length>1&&9===e.nodeType&&!x&&p.match.ID.test(w[0])&&!p.match.ID.test(w[w.length-1])&&(d=h.find(w.shift(),e,x),e=d.expr?h.filter(d.expr,d.set)[0]:d.set[0]),e)for(d=i?{expr:w.pop(),set:y(i)}:h.find(w.pop(),1!==w.length||"~"!==w[0]&&"+"!==w[0]||!e.parentNode?e:e.parentNode,x),l=d.expr?h.filter(d.expr,d.set):d.set,w.length>0?u=y(l):b=!1;w.length;)f=w.pop(),m=f,p.relative[f]?m=w.pop():f="",null==m&&(m=e),p.relative[f](u,m,x);else u=w=[];if(u||(u=l),u||h.error(f||t),"[object Array]"===a.call(u))if(b)if(e&&1===e.nodeType)for(v=0;null!=u[v];v++)u[v]&&(u[v]===!0||1===u[v].nodeType&&h.contains(e,u[v]))&&n.push(l[v]);else for(v=0;null!=u[v];v++)u[v]&&1===u[v].nodeType&&n.push(l[v]);else n.push.apply(n,u);else y(u,n);return c&&(h(c,o,n,i),h.uniqueSort(n)),n};h.uniqueSort=function(t){if(x&&(s=l,t.sort(x),s))for(var e=1;t.length>e;e++)t[e]===t[e-1]&&t.splice(e--,1);return t},h.matches=function(t,e){return h(t,null,null,e)},h.matchesSelector=function(t,e){return h(e,null,null,[t]).length>0},h.find=function(t,n,r){var i,o,a,s,l,c;if(!t)return[];for(o=0,a=p.order.length;a>o;o++)if(l=p.order[o],(s=p.leftMatch[l].exec(t))&&(c=s[1],s.splice(1,1),"\\"!==c.substr(c.length-1)&&(s[1]=(s[1]||"").replace(u,""),i=p.find[l](s,n,r),null!=i))){t=t.replace(p.match[l],"");break}return i||(i=n.getElementsByTagName!==e?n.getElementsByTagName("*"):[]),{set:i,expr:t}},h.filter=function(t,n,r,i){for(var o,a,s,l,u,c,d,f,g,m=t,v=[],y=n,b=n&&n[0]&&h.isXML(n[0]);t&&n.length;){for(s in p.filter)if(null!=(o=p.leftMatch[s].exec(t))&&o[2]){if(c=p.filter[s],d=o[1],a=!1,o.splice(1,1),"\\"===d.substr(d.length-1))continue;if(y===v&&(v=[]),p.preFilter[s])if(o=p.preFilter[s](o,y,r,v,i,b)){if(o===!0)continue}else a=l=!0;if(o)for(f=0;null!=(u=y[f]);f++)u&&(l=c(u,o,f,y),g=i^l,r&&null!=l?g?a=!0:y[f]=!1:g&&(v.push(u),a=!0));if(l!==e){if(r||(y=v),t=t.replace(p.match[s],""),!a)return[];break}}if(t===m){if(null!=a)break;h.error(t)}m=t}return y},h.error=function(t){throw Error("Syntax error, unrecognized expression: "+t)};var f=h.getText=function(t){var e,n,r=t.nodeType,i="";if(r){if(1===r||9===r){if("string"==typeof t.textContent)return t.textContent;if("string"==typeof t.innerText)return t.innerText.replace(c,"");for(t=t.firstChild;t;t=t.nextSibling)i+=f(t)}else if(3===r||4===r)return t.nodeValue}else for(e=0;n=t[e];e++)8!==n.nodeType&&(i+=f(n));return i},p=h.selectors={order:["ID","NAME","TAG"],match:{ID:/#((?:[\w\u00c0-\uFFFF\-]|\\.)+)/,CLASS:/\.((?:[\w\u00c0-\uFFFF\-]|\\.)+)/,NAME:/\[name=['"]*((?:[\w\u00c0-\uFFFF\-]|\\.)+)['"]*\]/,ATTR:/\[\s*((?:[\w\u00c0-\uFFFF\-]|\\.)+)\s*(?:(\S?=)\s*(?:(['"])(.*?)\3|(#?(?:[\w\u00c0-\uFFFF\-]|\\.)*)|)|)\s*\]/,TAG:/^((?:[\w\u00c0-\uFFFF\*\-]|\\.)+)/,CHILD:/:(only|nth|last|first)-child(?:\(\s*(even|odd|(?:[+\-]?\d+|(?:[+\-]?\d*)?n\s*(?:[+\-]\s*\d+)?))\s*\))?/,POS:/:(nth|eq|gt|lt|first|last|even|odd)(?:\((\d*)\))?(?=[^\-]|$)/,PSEUDO:/:((?:[\w\u00c0-\uFFFF\-]|\\.)+)(?:\((['"]?)((?:\([^\)]+\)|[^\(\)]*)+)\2\))?/},leftMatch:{},attrMap:{"class":"className","for":"htmlFor"},attrHandle:{href:function(t){return t.getAttribute("href")},type:function(t){return t.getAttribute("type")}},relative:{"+":function(t,e){var n="string"==typeof e,r=n&&!d.test(e),i=n&&!r;r&&(e=e.toLowerCase());for(var o,a=0,s=t.length;s>a;a++)if(o=t[a]){for(;(o=o.previousSibling)&&1!==o.nodeType;);t[a]=i||o&&o.nodeName.toLowerCase()===e?o||!1:o===e}i&&h.filter(e,t,!0)},">":function(t,e){var n,r="string"==typeof e,i=0,o=t.length;if(r&&!d.test(e)){for(e=e.toLowerCase();o>i;i++)if(n=t[i]){var a=n.parentNode;t[i]=a.nodeName.toLowerCase()===e?a:!1}}else{for(;o>i;i++)n=t[i],n&&(t[i]=r?n.parentNode:n.parentNode===e);r&&h.filter(e,t,!0)}},"":function(e,r,i){var a,s=o++,l=n;"string"!=typeof r||d.test(r)||(r=r.toLowerCase(),a=r,l=t),l("parentNode",r,s,e,a,i)},"~":function(e,r,i){var a,s=o++,l=n;"string"!=typeof r||d.test(r)||(r=r.toLowerCase(),a=r,l=t),l("previousSibling",r,s,e,a,i)}},find:{ID:function(t,n,r){if(n.getElementById!==e&&!r){var i=n.getElementById(t[1]);return i&&i.parentNode?[i]:[]}},NAME:function(t,n){if(n.getElementsByName!==e){for(var r=[],i=n.getElementsByName(t[1]),o=0,a=i.length;a>o;o++)i[o].getAttribute("name")===t[1]&&r.push(i[o]);return 0===r.length?null:r}},TAG:function(t,n){return n.getElementsByTagName!==e?n.getElementsByTagName(t[1]):e}},preFilter:{CLASS:function(t,e,n,r,i,o){if(t=" "+t[1].replace(u,"")+" ",o)return t;for(var a,s=0;null!=(a=e[s]);s++)a&&(i^(a.className&&(" "+a.className+" ").replace(/[\t\n\r]/g," ").indexOf(t)>=0)?n||r.push(a):n&&(e[s]=!1));return!1},ID:function(t){return t[1].replace(u,"")},TAG:function(t){return t[1].replace(u,"").toLowerCase()},CHILD:function(t){if("nth"===t[1]){t[2]||h.error(t[0]),t[2]=t[2].replace(/^\+|\s*/g,"");var e=/(-?)(\d*)(?:n([+\-]?\d*))?/.exec("even"===t[2]&&"2n"||"odd"===t[2]&&"2n+1"||!/\D/.test(t[2])&&"0n+"+t[2]||t[2]);t[2]=e[1]+(e[2]||1)-0,t[3]=e[3]-0}else t[2]&&h.error(t[0]);return t[0]=o++,t},ATTR:function(t,e,n,r,i,o){var a=t[1]=t[1].replace(u,"");return!o&&p.attrMap[a]&&(t[1]=p.attrMap[a]),t[4]=(t[4]||t[5]||"").replace(u,""),"~="===t[2]&&(t[4]=" "+t[4]+" "),t},PSEUDO:function(t,e,n,i,o){if("not"===t[1]){if(!((r.exec(t[3])||"").length>1||/^\w/.test(t[3]))){var a=h.filter(t[3],e,n,!0^o);return n||i.push.apply(i,a),!1}t[3]=h(t[3],null,null,e)}else if(p.match.POS.test(t[0])||p.match.CHILD.test(t[0]))return!0;return t},POS:function(t){return t.unshift(!0),t}},filters:{enabled:function(t){return t.disabled===!1&&"hidden"!==t.type},disabled:function(t){return t.disabled===!0},checked:function(t){return t.checked===!0},selected:function(t){return t.parentNode&&t.parentNode.selectedIndex,t.selected===!0},parent:function(t){return!!t.firstChild},empty:function(t){return!t.firstChild},has:function(t,e,n){return!!h(n[3],t).length},header:function(t){return/h\d/i.test(t.nodeName)},text:function(t){var e=t.getAttribute("type"),n=t.type;return"input"===t.nodeName.toLowerCase()&&"text"===n&&(e===n||null===e)},radio:function(t){return"input"===t.nodeName.toLowerCase()&&"radio"===t.type},checkbox:function(t){return"input"===t.nodeName.toLowerCase()&&"checkbox"===t.type},file:function(t){return"input"===t.nodeName.toLowerCase()&&"file"===t.type},password:function(t){return"input"===t.nodeName.toLowerCase()&&"password"===t.type},submit:function(t){var e=t.nodeName.toLowerCase();return("input"===e||"button"===e)&&"submit"===t.type},image:function(t){return"input"===t.nodeName.toLowerCase()&&"image"===t.type},reset:function(t){var e=t.nodeName.toLowerCase();return("input"===e||"button"===e)&&"reset"===t.type},button:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&"button"===t.type||"button"===e},input:function(t){return/input|select|textarea|button/i.test(t.nodeName)},focus:function(t){return t===t.ownerDocument.activeElement}},setFilters:{first:function(t,e){return 0===e},last:function(t,e,n,r){return e===r.length-1},even:function(t,e){return 0===e%2},odd:function(t,e){return 1===e%2},lt:function(t,e,n){return n[3]-0>e},gt:function(t,e,n){return e>n[3]-0},nth:function(t,e,n){return n[3]-0===e},eq:function(t,e,n){return n[3]-0===e}},filter:{PSEUDO:function(t,e,n,r){var i=e[1],o=p.filters[i];if(o)return o(t,n,e,r);if("contains"===i)return(t.textContent||t.innerText||f([t])||"").indexOf(e[3])>=0;if("not"===i){for(var a=e[3],s=0,l=a.length;l>s;s++)if(a[s]===t)return!1;return!0}h.error(i)},CHILD:function(t,e){var n,r,o,a,s,l,u=e[1],c=t;switch(u){case"only":case"first":for(;c=c.previousSibling;)if(1===c.nodeType)return!1;if("first"===u)return!0;c=t;case"last":for(;c=c.nextSibling;)if(1===c.nodeType)return!1;return!0;case"nth":if(n=e[2],r=e[3],1===n&&0===r)return!0;if(o=e[0],a=t.parentNode,a&&(a[i]!==o||!t.nodeIndex)){for(s=0,c=a.firstChild;c;c=c.nextSibling)1===c.nodeType&&(c.nodeIndex=++s);a[i]=o}return l=t.nodeIndex-r,0===n?0===l:0===l%n&&l/n>=0}},ID:function(t,e){return 1===t.nodeType&&t.getAttribute("id")===e},TAG:function(t,e){return"*"===e&&1===t.nodeType||!!t.nodeName&&t.nodeName.toLowerCase()===e},CLASS:function(t,e){return(" "+(t.className||t.getAttribute("class"))+" ").indexOf(e)>-1},ATTR:function(t,e){var n=e[1],r=h.attr?h.attr(t,n):p.attrHandle[n]?p.attrHandle[n](t):null!=t[n]?t[n]:t.getAttribute(n),i=r+"",o=e[2],a=e[4];return null==r?"!="===o:!o&&h.attr?null!=r:"="===o?i===a:"*="===o?i.indexOf(a)>=0:"~="===o?(" "+i+" ").indexOf(a)>=0:a?"!="===o?i!==a:"^="===o?0===i.indexOf(a):"$="===o?i.substr(i.length-a.length)===a:"|="===o?i===a||i.substr(0,a.length+1)===a+"-":!1:i&&r!==!1},POS:function(t,n,r,i){var o=n[2],a=p.setFilters[o];return a?a(t,r,n,i):e}}},g=p.match.POS,m=function(t,e){return"\\"+(e-0+1)};for(var v in p.match)p.match[v]=RegExp(p.match[v].source+/(?![^\[]*\])(?![^\(]*\))/.source),p.leftMatch[v]=RegExp(/(^(?:.|\r|\n)*?)/.source+p.match[v].source.replace(/\\(\d+)/g,m));var y=function(t,e){return t=Array.prototype.slice.call(t,0),e?(e.push.apply(e,t),e):t};try{Array.prototype.slice.call(I.documentElement.childNodes,0)[0].nodeType}catch(b){y=function(t,e){var n=0,r=e||[];if("[object Array]"===a.call(t))Array.prototype.push.apply(r,t);else if("number"==typeof t.length)for(var i=t.length;i>n;n++)r.push(t[n]);else for(;t[n];n++)r.push(t[n]);return r}}var x,w;I.documentElement.compareDocumentPosition?x=function(t,e){return t===e?(s=!0,0):t.compareDocumentPosition&&e.compareDocumentPosition?4&t.compareDocumentPosition(e)?-1:1:t.compareDocumentPosition?-1:1}:(x=function(t,e){if(t===e)return s=!0,0;if(t.sourceIndex&&e.sourceIndex)return t.sourceIndex-e.sourceIndex;var n,r,i=[],o=[],a=t.parentNode,l=e.parentNode,u=a;if(a===l)return w(t,e);if(!a)return-1;if(!l)return 1;for(;u;)i.unshift(u),u=u.parentNode;for(u=l;u;)o.unshift(u),u=u.parentNode;n=i.length,r=o.length;for(var c=0;n>c&&r>c;c++)if(i[c]!==o[c])return w(i[c],o[c]);return c===n?w(t,o[c],-1):w(i[c],e,1)},w=function(t,e,n){if(t===e)return n;for(var r=t.nextSibling;r;){if(r===e)return-1;r=r.nextSibling}return 1}),function(){var t=I.createElement("div"),n="script"+(new Date).getTime(),r=I.documentElement;t.innerHTML="<a name='"+n+"'/>",r.insertBefore(t,r.firstChild),I.getElementById(n)&&(p.find.ID=function(t,n,r){if(n.getElementById!==e&&!r){var i=n.getElementById(t[1]);return i?i.id===t[1]||i.getAttributeNode!==e&&i.getAttributeNode("id").nodeValue===t[1]?[i]:e:[]}},p.filter.ID=function(t,n){var r=t.getAttributeNode!==e&&t.getAttributeNode("id");return 1===t.nodeType&&r&&r.nodeValue===n}),r.removeChild(t),r=t=null}(),function(){var t=I.createElement("div");t.appendChild(I.createComment("")),t.getElementsByTagName("*").length>0&&(p.find.TAG=function(t,e){var n=e.getElementsByTagName(t[1]);if("*"===t[1]){for(var r=[],i=0;n[i];i++)1===n[i].nodeType&&r.push(n[i]);n=r}return n}),t.innerHTML="<a href='#'></a>",t.firstChild&&t.firstChild.getAttribute!==e&&"#"!==t.firstChild.getAttribute("href")&&(p.attrHandle.href=function(t){return t.getAttribute("href",2)}),t=null}(),I.querySelectorAll&&function(){var t=h,e=I.createElement("div"),n="__sizzle__";if(e.innerHTML="<p class='TEST'></p>",!e.querySelectorAll||0!==e.querySelectorAll(".TEST").length){h=function(e,r,i,o){if(r=r||I,!o&&!h.isXML(r)){var a=/^(\w+$)|^\.([\w\-]+$)|^#([\w\-]+$)/.exec(e);if(a&&(1===r.nodeType||9===r.nodeType)){if(a[1])return y(r.getElementsByTagName(e),i);if(a[2]&&p.find.CLASS&&r.getElementsByClassName)return y(r.getElementsByClassName(a[2]),i)}if(9===r.nodeType){if("body"===e&&r.body)return y([r.body],i);if(a&&a[3]){var s=r.getElementById(a[3]);if(!s||!s.parentNode)return y([],i);if(s.id===a[3])return y([s],i)}try{return y(r.querySelectorAll(e),i)}catch(l){}}else if(1===r.nodeType&&"object"!==r.nodeName.toLowerCase()){var u=r,c=r.getAttribute("id"),d=c||n,f=r.parentNode,g=/^\s*[+~]/.test(e);c?d=d.replace(/'/g,"\\$&"):r.setAttribute("id",d),g&&f&&(r=r.parentNode);try{if(!g||f)return y(r.querySelectorAll("[id='"+d+"'] "+e),i)}catch(m){}finally{c||u.removeAttribute("id")}}}return t(e,r,i,o)};for(var r in t)h[r]=t[r];e=null}}(),function(){var t=I.documentElement,e=t.matchesSelector||t.mozMatchesSelector||t.webkitMatchesSelector||t.msMatchesSelector;if(e){var n=!e.call(I.createElement("div"),"div"),r=!1;try{e.call(I.documentElement,"[test!='']:sizzle")}catch(i){r=!0}h.matchesSelector=function(t,i){if(i=i.replace(/\=\s*([^'"\]]*)\s*\]/g,"='$1']"),!h.isXML(t))try{if(r||!p.match.PSEUDO.test(i)&&!/!=/.test(i)){var o=e.call(t,i);if(o||!n||t.document&&11!==t.document.nodeType)return o}}catch(a){}return h(i,null,null,[t]).length>0}}}(),function(){var t=I.createElement("div");t.innerHTML="<div class='test e'></div><div class='test'></div>",t.getElementsByClassName&&0!==t.getElementsByClassName("e").length&&(t.lastChild.className="e",1!==t.getElementsByClassName("e").length&&(p.order.splice(1,0,"CLASS"),p.find.CLASS=function(t,n,r){return n.getElementsByClassName===e||r?e:n.getElementsByClassName(t[1])},t=null))}(),h.contains=I.documentElement.contains?function(t,e){return t!==e&&(t.contains?t.contains(e):!0)}:I.documentElement.compareDocumentPosition?function(t,e){return!!(16&t.compareDocumentPosition(e))}:function(){return!1},h.isXML=function(t){var e=(t?t.ownerDocument||t:0).documentElement;return e?"HTML"!==e.nodeName:!1};var C=function(t,e,n){for(var r,i=[],o="",a=e.nodeType?[e]:e;r=p.match.PSEUDO.exec(t);)o+=r[0],t=t.replace(p.match.PSEUDO,"");t=p.relative[t]?t+"*":t;for(var s=0,l=a.length;l>s;s++)h(t,a[s],i,n);return h.filter(o,i)};h.attr=P.attr,h.selectors.attrMap={},P.find=h,P.expr=h.selectors,P.expr[":"]=P.expr.filters,P.unique=h.uniqueSort,P.text=h.getText,P.isXMLDoc=h.isXML,P.contains=h.contains}();var le=/Until$/,ue=/^(?:parents|prevUntil|prevAll)/,ce=/,/,de=/^.[^:#\[\.,]*$/,he=Array.prototype.slice,fe=P.expr.match.POS,pe={children:!0,contents:!0,next:!0,prev:!0};P.fn.extend({find:function(t){var e,n,r=this;if("string"!=typeof t)return P(t).filter(function(){for(e=0,n=r.length;n>e;e++)if(P.contains(r[e],this))return!0});var i,o,a,s=this.pushStack("","find",t);for(e=0,n=this.length;n>e;e++)if(i=s.length,P.find(t,this[e],s),e>0)for(o=i;s.length>o;o++)for(a=0;i>a;a++)if(s[a]===s[o]){s.splice(o--,1);break}return s},has:function(t){var e=P(t);return this.filter(function(){for(var t=0,n=e.length;n>t;t++)if(P.contains(this,e[t]))return!0})},not:function(t){return this.pushStack(u(this,t,!1),"not",t)},filter:function(t){return this.pushStack(u(this,t,!0),"filter",t)},is:function(t){return!!t&&("string"==typeof t?fe.test(t)?P(t,this.context).index(this[0])>=0:P.filter(t,this).length>0:this.filter(t).length>0)},closest:function(t,e){var n,r,i=[],o=this[0];if(P.isArray(t)){for(var a=1;o&&o.ownerDocument&&o!==e;){for(n=0;t.length>n;n++)P(o).is(t[n])&&i.push({selector:t[n],elem:o,level:a});o=o.parentNode,a++}return i}var s=fe.test(t)||"string"!=typeof t?P(t,e||this.context):0;for(n=0,r=this.length;r>n;n++)for(o=this[n];o;){if(s?s.index(o)>-1:P.find.matchesSelector(o,t)){i.push(o);break}if(o=o.parentNode,!o||!o.ownerDocument||o===e||11===o.nodeType)break}return i=i.length>1?P.unique(i):i,this.pushStack(i,"closest",t)},index:function(t){return t?"string"==typeof t?P.inArray(this[0],P(t)):P.inArray(t.jquery?t[0]:t,this):this[0]&&this[0].parentNode?this.prevAll().length:-1},add:function(t,e){var n="string"==typeof t?P(t,e):P.makeArray(t&&t.nodeType?[t]:t),r=P.merge(this.get(),n);return this.pushStack(l(n[0])||l(r[0])?r:P.unique(r))},andSelf:function(){return this.add(this.prevObject)}}),P.each({parent:function(t){var e=t.parentNode;return e&&11!==e.nodeType?e:null},parents:function(t){return P.dir(t,"parentNode")},parentsUntil:function(t,e,n){return P.dir(t,"parentNode",n)},next:function(t){return P.nth(t,2,"nextSibling")},prev:function(t){return P.nth(t,2,"previousSibling")},nextAll:function(t){return P.dir(t,"nextSibling")},prevAll:function(t){return P.dir(t,"previousSibling")},nextUntil:function(t,e,n){return P.dir(t,"nextSibling",n)},prevUntil:function(t,e,n){return P.dir(t,"previousSibling",n)},siblings:function(t){return P.sibling(t.parentNode.firstChild,t)},children:function(t){return P.sibling(t.firstChild)},contents:function(t){return P.nodeName(t,"iframe")?t.contentDocument||t.contentWindow.document:P.makeArray(t.childNodes)}},function(t,e){P.fn[t]=function(n,r){var i=P.map(this,e,n);return le.test(t)||(r=n),r&&"string"==typeof r&&(i=P.filter(r,i)),i=this.length>1&&!pe[t]?P.unique(i):i,(this.length>1||ce.test(r))&&ue.test(t)&&(i=i.reverse()),this.pushStack(i,t,he.call(arguments).join(","))}}),P.extend({filter:function(t,e,n){return n&&(t=":not("+t+")"),1===e.length?P.find.matchesSelector(e[0],t)?[e[0]]:[]:P.find.matches(t,e)},dir:function(t,n,r){for(var i=[],o=t[n];o&&9!==o.nodeType&&(r===e||1!==o.nodeType||!P(o).is(r));)1===o.nodeType&&i.push(o),o=o[n];return i},nth:function(t,e,n){e=e||1;for(var r=0;t&&(1!==t.nodeType||++r!==e);t=t[n]);return t},sibling:function(t,e){for(var n=[];t;t=t.nextSibling)1===t.nodeType&&t!==e&&n.push(t);return n}});var ge="abbr|article|aside|audio|canvas|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",me=/ jQuery\d+="(?:\d+|null)"/g,ve=/^\s+/,ye=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,be=/<([\w:]+)/,xe=/<tbody/i,we=/<|&#?\w+;/,Ce=/<(?:script|style)/i,ke=/<(?:script|object|embed|option|style)/i,Ae=RegExp("<(?:"+ge+")","i"),Te=/checked\s*(?:[^=]|=\s*.checked.)/i,Se=/\/(java|ecma)script/i,Ee=/^\s*<!(?:\[CDATA\[|\-\-)/,_e={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],area:[1,"<map>","</map>"],_default:[0,"",""]},Ne=c(I);_e.optgroup=_e.option,_e.tbody=_e.tfoot=_e.colgroup=_e.caption=_e.thead,_e.th=_e.td,P.support.htmlSerialize||(_e._default=[1,"div<div>","</div>"]),P.fn.extend({text:function(t){return P.isFunction(t)?this.each(function(e){var n=P(this);n.text(t.call(this,e,n.text()))}):"object"!=typeof t&&t!==e?this.empty().append((this[0]&&this[0].ownerDocument||I).createTextNode(t)):P.text(this)},wrapAll:function(t){if(P.isFunction(t))return this.each(function(e){P(this).wrapAll(t.call(this,e))});if(this[0]){var e=P(t,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&e.insertBefore(this[0]),e.map(function(){for(var t=this;t.firstChild&&1===t.firstChild.nodeType;)t=t.firstChild;return t}).append(this)}return this},wrapInner:function(t){return P.isFunction(t)?this.each(function(e){P(this).wrapInner(t.call(this,e))}):this.each(function(){var e=P(this),n=e.contents();n.length?n.wrapAll(t):e.append(t)})},wrap:function(t){var e=P.isFunction(t);return this.each(function(n){P(this).wrapAll(e?t.call(this,n):t)})},unwrap:function(){return this.parent().each(function(){P.nodeName(this,"body")||P(this).replaceWith(this.childNodes)}).end()},append:function(){return this.domManip(arguments,!0,function(t){1===this.nodeType&&this.appendChild(t)})},prepend:function(){return this.domManip(arguments,!0,function(t){1===this.nodeType&&this.insertBefore(t,this.firstChild)})},before:function(){if(this[0]&&this[0].parentNode)return this.domManip(arguments,!1,function(t){this.parentNode.insertBefore(t,this)});if(arguments.length){var t=P.clean(arguments);return t.push.apply(t,this.toArray()),this.pushStack(t,"before",arguments)}},after:function(){if(this[0]&&this[0].parentNode)return this.domManip(arguments,!1,function(t){this.parentNode.insertBefore(t,this.nextSibling)});if(arguments.length){var t=this.pushStack(this,"after",arguments);return t.push.apply(t,P.clean(arguments)),t}},remove:function(t,e){for(var n,r=0;null!=(n=this[r]);r++)(!t||P.filter(t,[n]).length)&&(e||1!==n.nodeType||(P.cleanData(n.getElementsByTagName("*")),P.cleanData([n])),n.parentNode&&n.parentNode.removeChild(n));return this
},empty:function(){for(var t,e=0;null!=(t=this[e]);e++)for(1===t.nodeType&&P.cleanData(t.getElementsByTagName("*"));t.firstChild;)t.removeChild(t.firstChild);return this},clone:function(t,e){return t=null==t?!1:t,e=null==e?t:e,this.map(function(){return P.clone(this,t,e)})},html:function(t){if(t===e)return this[0]&&1===this[0].nodeType?this[0].innerHTML.replace(me,""):null;if("string"!=typeof t||Ce.test(t)||!P.support.leadingWhitespace&&ve.test(t)||_e[(be.exec(t)||["",""])[1].toLowerCase()])P.isFunction(t)?this.each(function(e){var n=P(this);n.html(t.call(this,e,n.html()))}):this.empty().append(t);else{t=t.replace(ye,"<$1></$2>");try{for(var n=0,r=this.length;r>n;n++)1===this[n].nodeType&&(P.cleanData(this[n].getElementsByTagName("*")),this[n].innerHTML=t)}catch(i){this.empty().append(t)}}return this},replaceWith:function(t){return this[0]&&this[0].parentNode?P.isFunction(t)?this.each(function(e){var n=P(this),r=n.html();n.replaceWith(t.call(this,e,r))}):("string"!=typeof t&&(t=P(t).detach()),this.each(function(){var e=this.nextSibling,n=this.parentNode;P(this).remove(),e?P(e).before(t):P(n).append(t)})):this.length?this.pushStack(P(P.isFunction(t)?t():t),"replaceWith",t):this},detach:function(t){return this.remove(t,!0)},domManip:function(t,n,r){var i,o,a,s,l=t[0],u=[];if(!P.support.checkClone&&3===arguments.length&&"string"==typeof l&&Te.test(l))return this.each(function(){P(this).domManip(t,n,r,!0)});if(P.isFunction(l))return this.each(function(i){var o=P(this);t[0]=l.call(this,i,n?o.html():e),o.domManip(t,n,r)});if(this[0]){if(s=l&&l.parentNode,i=P.support.parentNode&&s&&11===s.nodeType&&s.childNodes.length===this.length?{fragment:s}:P.buildFragment(t,this,u),a=i.fragment,o=1===a.childNodes.length?a=a.firstChild:a.firstChild){n=n&&P.nodeName(o,"tr");for(var c=0,h=this.length,f=h-1;h>c;c++)r.call(n?d(this[c],o):this[c],i.cacheable||h>1&&f>c?P.clone(a,!0,!0):a)}u.length&&P.each(u,y)}return this}}),P.buildFragment=function(t,e,n){var r,i,o,a,s=t[0];return e&&e[0]&&(a=e[0].ownerDocument||e[0]),a.createDocumentFragment||(a=I),!(1===t.length&&"string"==typeof s&&512>s.length&&a===I&&"<"===s.charAt(0))||ke.test(s)||!P.support.checkClone&&Te.test(s)||!P.support.html5Clone&&Ae.test(s)||(i=!0,o=P.fragments[s],o&&1!==o&&(r=o)),r||(r=a.createDocumentFragment(),P.clean(t,a,r,n)),i&&(P.fragments[s]=o?r:1),{fragment:r,cacheable:i}},P.fragments={},P.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(t,e){P.fn[t]=function(n){var r=[],i=P(n),o=1===this.length&&this[0].parentNode;if(o&&11===o.nodeType&&1===o.childNodes.length&&1===i.length)return i[e](this[0]),this;for(var a=0,s=i.length;s>a;a++){var l=(a>0?this.clone(!0):this).get();P(i[a])[e](l),r=r.concat(l)}return this.pushStack(r,t,i.selector)}}),P.extend({clone:function(t,e,n){var r,i,o,a=P.support.html5Clone||!Ae.test("<"+t.nodeName)?t.cloneNode(!0):v(t);if(!(P.support.noCloneEvent&&P.support.noCloneChecked||1!==t.nodeType&&11!==t.nodeType||P.isXMLDoc(t)))for(f(t,a),r=p(t),i=p(a),o=0;r[o];++o)i[o]&&f(r[o],i[o]);if(e&&(h(t,a),n))for(r=p(t),i=p(a),o=0;r[o];++o)h(r[o],i[o]);return r=i=null,a},clean:function(t,n,r,i){var o;n=n||I,n.createElement===e&&(n=n.ownerDocument||n[0]&&n[0].ownerDocument||I);for(var a,s,l=[],u=0;null!=(s=t[u]);u++)if("number"==typeof s&&(s+=""),s){if("string"==typeof s)if(we.test(s)){s=s.replace(ye,"<$1></$2>");var d=(be.exec(s)||["",""])[1].toLowerCase(),h=_e[d]||_e._default,f=h[0],p=n.createElement("div");for(n===I?Ne.appendChild(p):c(n).appendChild(p),p.innerHTML=h[1]+s+h[2];f--;)p=p.lastChild;if(!P.support.tbody){var g=xe.test(s),v="table"!==d||g?"<table>"!==h[1]||g?[]:p.childNodes:p.firstChild&&p.firstChild.childNodes;for(a=v.length-1;a>=0;--a)P.nodeName(v[a],"tbody")&&!v[a].childNodes.length&&v[a].parentNode.removeChild(v[a])}!P.support.leadingWhitespace&&ve.test(s)&&p.insertBefore(n.createTextNode(ve.exec(s)[0]),p.firstChild),s=p.childNodes}else s=n.createTextNode(s);var y;if(!P.support.appendChecked)if(s[0]&&"number"==typeof(y=s.length))for(a=0;y>a;a++)m(s[a]);else m(s);s.nodeType?l.push(s):l=P.merge(l,s)}if(r)for(o=function(t){return!t.type||Se.test(t.type)},u=0;l[u];u++)if(!i||!P.nodeName(l[u],"script")||l[u].type&&"text/javascript"!==l[u].type.toLowerCase()){if(1===l[u].nodeType){var b=P.grep(l[u].getElementsByTagName("script"),o);l.splice.apply(l,[u+1,0].concat(b))}r.appendChild(l[u])}else i.push(l[u].parentNode?l[u].parentNode.removeChild(l[u]):l[u]);return l},cleanData:function(t){for(var e,n,r,i=P.cache,o=P.event.special,a=P.support.deleteExpando,s=0;null!=(r=t[s]);s++)if((!r.nodeName||!P.noData[r.nodeName.toLowerCase()])&&(n=r[P.expando])){if(e=i[n],e&&e.events){for(var l in e.events)o[l]?P.event.remove(r,l):P.removeEvent(r,l,e.handle);e.handle&&(e.handle.elem=null)}a?delete r[P.expando]:r.removeAttribute&&r.removeAttribute(P.expando),delete i[n]}}});var Me,Oe,Re,Ie=/alpha\([^)]*\)/i,De=/opacity=([^)]*)/,Le=/([A-Z]|^ms)/g,Pe=/^-?\d+(?:px)?$/i,Be=/^-?\d/,je=/^([\-+])=([\-+.\de]+)/,He={position:"absolute",visibility:"hidden",display:"block"},Fe=["Left","Right"],qe=["Top","Bottom"];P.fn.css=function(t,n){return 2===arguments.length&&n===e?this:P.access(this,t,n,!0,function(t,n,r){return r!==e?P.style(t,n,r):P.css(t,n)})},P.extend({cssHooks:{opacity:{get:function(t,e){if(e){var n=Me(t,"opacity","opacity");return""===n?"1":n}return t.style.opacity}}},cssNumber:{fillOpacity:!0,fontWeight:!0,lineHeight:!0,opacity:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":P.support.cssFloat?"cssFloat":"styleFloat"},style:function(t,n,r,i){if(t&&3!==t.nodeType&&8!==t.nodeType&&t.style){var o,a,s=P.camelCase(n),l=t.style,u=P.cssHooks[s];if(n=P.cssProps[s]||s,r===e)return u&&"get"in u&&(o=u.get(t,!1,i))!==e?o:l[n];if(a=typeof r,"string"===a&&(o=je.exec(r))&&(r=+(o[1]+1)*+o[2]+parseFloat(P.css(t,n)),a="number"),!(null==r||"number"===a&&isNaN(r)||("number"!==a||P.cssNumber[s]||(r+="px"),u&&"set"in u&&(r=u.set(t,r))===e)))try{l[n]=r}catch(c){}}},css:function(t,n,r){var i,o;return n=P.camelCase(n),o=P.cssHooks[n],n=P.cssProps[n]||n,"cssFloat"===n&&(n="float"),o&&"get"in o&&(i=o.get(t,!0,r))!==e?i:Me?Me(t,n):e},swap:function(t,e,n){var r={};for(var i in e)r[i]=t.style[i],t.style[i]=e[i];n.call(t);for(i in e)t.style[i]=r[i]}}),P.curCSS=P.css,P.each(["height","width"],function(t,n){P.cssHooks[n]={get:function(t,r,i){var o;return r?0!==t.offsetWidth?b(t,n,i):(P.swap(t,He,function(){o=b(t,n,i)}),o):e},set:function(t,n){return Pe.test(n)?(n=parseFloat(n),n>=0?n+"px":e):n}}}),P.support.opacity||(P.cssHooks.opacity={get:function(t,e){return De.test((e&&t.currentStyle?t.currentStyle.filter:t.style.filter)||"")?parseFloat(RegExp.$1)/100+"":e?"1":""},set:function(t,e){var n=t.style,r=t.currentStyle,i=P.isNumeric(e)?"alpha(opacity="+100*e+")":"",o=r&&r.filter||n.filter||"";n.zoom=1,e>=1&&""===P.trim(o.replace(Ie,""))&&n.removeAttribute&&(n.removeAttribute("filter"),r&&!r.filter)||(n.filter=Ie.test(o)?o.replace(Ie,i):o+" "+i)}}),P(function(){P.support.reliableMarginRight||(P.cssHooks.marginRight={get:function(t,e){var n;return P.swap(t,{display:"inline-block"},function(){n=e?Me(t,"margin-right","marginRight"):t.style.marginRight}),n}})}),I.defaultView&&I.defaultView.getComputedStyle&&(Oe=function(t,e){var n,r,i;return e=e.replace(Le,"-$1").toLowerCase(),(r=t.ownerDocument.defaultView)&&(i=r.getComputedStyle(t,null))&&(n=i.getPropertyValue(e),""!==n||P.contains(t.ownerDocument.documentElement,t)||(n=P.style(t,e))),n}),I.documentElement.currentStyle&&(Re=function(t,e){var n,r,i,o=t.currentStyle&&t.currentStyle[e],a=t.style;return null===o&&a&&(i=a[e])&&(o=i),!Pe.test(o)&&Be.test(o)&&(n=a.left,r=t.runtimeStyle&&t.runtimeStyle.left,r&&(t.runtimeStyle.left=t.currentStyle.left),a.left="fontSize"===e?"1em":o||0,o=a.pixelLeft+"px",a.left=n,r&&(t.runtimeStyle.left=r)),""===o?"auto":o}),Me=Oe||Re,P.expr&&P.expr.filters&&(P.expr.filters.hidden=function(t){var e=t.offsetWidth,n=t.offsetHeight;return 0===e&&0===n||!P.support.reliableHiddenOffsets&&"none"===(t.style&&t.style.display||P.css(t,"display"))},P.expr.filters.visible=function(t){return!P.expr.filters.hidden(t)});var ze,$e,We=/%20/g,Ue=/\[\]$/,Ve=/\r?\n/g,Ye=/#.*$/,Xe=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,Ke=/^(?:color|date|datetime|datetime-local|email|hidden|month|number|password|range|search|tel|text|time|url|week)$/i,Ge=/^(?:about|app|app\-storage|.+\-extension|file|res|widget):$/,Ze=/^(?:GET|HEAD)$/,Qe=/^\/\//,Je=/\?/,tn=/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,en=/^(?:select|textarea)/i,nn=/\s+/,rn=/([?&])_=[^&]*/,on=/^([\w\+\.\-]+:)(?:\/\/([^\/?#:]*)(?::(\d+))?)?/,an=P.fn.load,sn={},ln={},un=["*/"]+["*"];try{ze=L.href}catch(cn){ze=I.createElement("a"),ze.href="",ze=ze.href}$e=on.exec(ze.toLowerCase())||[],P.fn.extend({load:function(t,n,r){if("string"!=typeof t&&an)return an.apply(this,arguments);if(!this.length)return this;var i=t.indexOf(" ");if(i>=0){var o=t.slice(i,t.length);t=t.slice(0,i)}var a="GET";n&&(P.isFunction(n)?(r=n,n=e):"object"==typeof n&&(n=P.param(n,P.ajaxSettings.traditional),a="POST"));var s=this;return P.ajax({url:t,type:a,dataType:"html",data:n,complete:function(t,e,n){n=t.responseText,t.isResolved()&&(t.done(function(t){n=t}),s.html(o?P("<div>").append(n.replace(tn,"")).find(o):n)),r&&s.each(r,[n,e,t])}}),this},serialize:function(){return P.param(this.serializeArray())},serializeArray:function(){return this.map(function(){return this.elements?P.makeArray(this.elements):this}).filter(function(){return this.name&&!this.disabled&&(this.checked||en.test(this.nodeName)||Ke.test(this.type))}).map(function(t,e){var n=P(this).val();return null==n?null:P.isArray(n)?P.map(n,function(t){return{name:e.name,value:t.replace(Ve,"\r\n")}}):{name:e.name,value:n.replace(Ve,"\r\n")}}).get()}}),P.each("ajaxStart ajaxStop ajaxComplete ajaxError ajaxSuccess ajaxSend".split(" "),function(t,e){P.fn[e]=function(t){return this.on(e,t)}}),P.each(["get","post"],function(t,n){P[n]=function(t,r,i,o){return P.isFunction(r)&&(o=o||i,i=r,r=e),P.ajax({type:n,url:t,data:r,success:i,dataType:o})}}),P.extend({getScript:function(t,n){return P.get(t,e,n,"script")},getJSON:function(t,e,n){return P.get(t,e,n,"json")},ajaxSetup:function(t,e){return e?C(t,P.ajaxSettings):(e=t,t=P.ajaxSettings),C(t,e),t},ajaxSettings:{url:ze,isLocal:Ge.test($e[1]),global:!0,type:"GET",contentType:"application/x-www-form-urlencoded",processData:!0,async:!0,accepts:{xml:"application/xml, text/xml",html:"text/html",text:"text/plain",json:"application/json, text/javascript","*":un},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText"},converters:{"* text":t.String,"text html":!0,"text json":P.parseJSON,"text xml":P.parseXML},flatOptions:{context:!0,url:!0}},ajaxPrefilter:x(sn),ajaxTransport:x(ln),ajax:function(t,n){function r(t,n,r,a){if(2!==x){x=2,l&&clearTimeout(l),s=e,o=a||"",C.readyState=t>0?4:0;var u,d,y,b,w,k=n,S=r?A(h,C,r):e;if(t>=200&&300>t||304===t)if(h.ifModified&&((b=C.getResponseHeader("Last-Modified"))&&(P.lastModified[i]=b),(w=C.getResponseHeader("Etag"))&&(P.etag[i]=w)),304===t)k="notmodified",u=!0;else try{d=T(h,S),k="success",u=!0}catch(E){k="parsererror",y=E}else y=k,(!k||t)&&(k="error",0>t&&(t=0));C.status=t,C.statusText=""+(n||k),u?g.resolveWith(f,[d,k,C]):g.rejectWith(f,[C,k,y]),C.statusCode(v),v=e,c&&p.trigger("ajax"+(u?"Success":"Error"),[C,h,u?d:y]),m.fireWith(f,[C,k]),c&&(p.trigger("ajaxComplete",[C,h]),--P.active||P.event.trigger("ajaxStop"))}}"object"==typeof t&&(n=t,t=e),n=n||{};var i,o,a,s,l,u,c,d,h=P.ajaxSetup({},n),f=h.context||h,p=f!==h&&(f.nodeType||f instanceof P)?P(f):P.event,g=P.Deferred(),m=P.Callbacks("once memory"),v=h.statusCode||{},y={},b={},x=0,C={readyState:0,setRequestHeader:function(t,e){if(!x){var n=t.toLowerCase();t=b[n]=b[n]||t,y[t]=e}return this},getAllResponseHeaders:function(){return 2===x?o:null},getResponseHeader:function(t){var n;if(2===x){if(!a)for(a={};n=Xe.exec(o);)a[n[1].toLowerCase()]=n[2];n=a[t.toLowerCase()]}return n===e?null:n},overrideMimeType:function(t){return x||(h.mimeType=t),this},abort:function(t){return t=t||"abort",s&&s.abort(t),r(0,t),this}};if(g.promise(C),C.success=C.done,C.error=C.fail,C.complete=m.add,C.statusCode=function(t){if(t){var e;if(2>x)for(e in t)v[e]=[v[e],t[e]];else e=t[C.status],C.then(e,e)}return this},h.url=((t||h.url)+"").replace(Ye,"").replace(Qe,$e[1]+"//"),h.dataTypes=P.trim(h.dataType||"*").toLowerCase().split(nn),null==h.crossDomain&&(u=on.exec(h.url.toLowerCase()),h.crossDomain=!(!u||u[1]==$e[1]&&u[2]==$e[2]&&(u[3]||("http:"===u[1]?80:443))==($e[3]||("http:"===$e[1]?80:443)))),h.data&&h.processData&&"string"!=typeof h.data&&(h.data=P.param(h.data,h.traditional)),w(sn,h,n,C),2===x)return!1;if(c=h.global,h.type=h.type.toUpperCase(),h.hasContent=!Ze.test(h.type),c&&0===P.active++&&P.event.trigger("ajaxStart"),!h.hasContent&&(h.data&&(h.url+=(Je.test(h.url)?"&":"?")+h.data,delete h.data),i=h.url,h.cache===!1)){var k=P.now(),S=h.url.replace(rn,"$1_="+k);h.url=S+(S===h.url?(Je.test(h.url)?"&":"?")+"_="+k:"")}(h.data&&h.hasContent&&h.contentType!==!1||n.contentType)&&C.setRequestHeader("Content-Type",h.contentType),h.ifModified&&(i=i||h.url,P.lastModified[i]&&C.setRequestHeader("If-Modified-Since",P.lastModified[i]),P.etag[i]&&C.setRequestHeader("If-None-Match",P.etag[i])),C.setRequestHeader("Accept",h.dataTypes[0]&&h.accepts[h.dataTypes[0]]?h.accepts[h.dataTypes[0]]+("*"!==h.dataTypes[0]?", "+un+"; q=0.01":""):h.accepts["*"]);for(d in h.headers)C.setRequestHeader(d,h.headers[d]);if(h.beforeSend&&(h.beforeSend.call(f,C,h)===!1||2===x))return C.abort(),!1;for(d in{success:1,error:1,complete:1})C[d](h[d]);if(s=w(ln,h,n,C)){C.readyState=1,c&&p.trigger("ajaxSend",[C,h]),h.async&&h.timeout>0&&(l=setTimeout(function(){C.abort("timeout")},h.timeout));try{x=1,s.send(y,r)}catch(E){if(!(2>x))throw E;r(-1,E)}}else r(-1,"No Transport");return C},param:function(t,n){var r=[],i=function(t,e){e=P.isFunction(e)?e():e,r[r.length]=encodeURIComponent(t)+"="+encodeURIComponent(e)};if(n===e&&(n=P.ajaxSettings.traditional),P.isArray(t)||t.jquery&&!P.isPlainObject(t))P.each(t,function(){i(this.name,this.value)});else for(var o in t)k(o,t[o],n,i);return r.join("&").replace(We,"+")}}),P.extend({active:0,lastModified:{},etag:{}});var dn=P.now(),hn=/(\=)\?(&|$)|\?\?/i;P.ajaxSetup({jsonp:"callback",jsonpCallback:function(){return P.expando+"_"+dn++}}),P.ajaxPrefilter("json jsonp",function(e,n,r){var i="application/x-www-form-urlencoded"===e.contentType&&"string"==typeof e.data;if("jsonp"===e.dataTypes[0]||e.jsonp!==!1&&(hn.test(e.url)||i&&hn.test(e.data))){var o,a=e.jsonpCallback=P.isFunction(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,s=t[a],l=e.url,u=e.data,c="$1"+a+"$2";return e.jsonp!==!1&&(l=l.replace(hn,c),e.url===l&&(i&&(u=u.replace(hn,c)),e.data===u&&(l+=(/\?/.test(l)?"&":"?")+e.jsonp+"="+a))),e.url=l,e.data=u,t[a]=function(t){o=[t]},r.always(function(){t[a]=s,o&&P.isFunction(s)&&t[a](o[0])}),e.converters["script json"]=function(){return o||P.error(a+" was not called"),o[0]},e.dataTypes[0]="json","script"}}),P.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/javascript|ecmascript/},converters:{"text script":function(t){return P.globalEval(t),t}}}),P.ajaxPrefilter("script",function(t){t.cache===e&&(t.cache=!1),t.crossDomain&&(t.type="GET",t.global=!1)}),P.ajaxTransport("script",function(t){if(t.crossDomain){var n,r=I.head||I.getElementsByTagName("head")[0]||I.documentElement;return{send:function(i,o){n=I.createElement("script"),n.async="async",t.scriptCharset&&(n.charset=t.scriptCharset),n.src=t.url,n.onload=n.onreadystatechange=function(t,i){(i||!n.readyState||/loaded|complete/.test(n.readyState))&&(n.onload=n.onreadystatechange=null,r&&n.parentNode&&r.removeChild(n),n=e,i||o(200,"success"))},r.insertBefore(n,r.firstChild)},abort:function(){n&&n.onload(0,1)}}}});var fn,pn=t.ActiveXObject?function(){for(var t in fn)fn[t](0,1)}:!1,gn=0;P.ajaxSettings.xhr=t.ActiveXObject?function(){return!this.isLocal&&S()||E()}:S,function(t){P.extend(P.support,{ajax:!!t,cors:!!t&&"withCredentials"in t})}(P.ajaxSettings.xhr()),P.support.ajax&&P.ajaxTransport(function(n){if(!n.crossDomain||P.support.cors){var r;return{send:function(i,o){var a,s,l=n.xhr();if(n.username?l.open(n.type,n.url,n.async,n.username,n.password):l.open(n.type,n.url,n.async),n.xhrFields)for(s in n.xhrFields)l[s]=n.xhrFields[s];n.mimeType&&l.overrideMimeType&&l.overrideMimeType(n.mimeType),n.crossDomain||i["X-Requested-With"]||(i["X-Requested-With"]="XMLHttpRequest");try{for(s in i)l.setRequestHeader(s,i[s])}catch(u){}l.send(n.hasContent&&n.data||null),r=function(t,i){var s,u,c,d,h;try{if(r&&(i||4===l.readyState))if(r=e,a&&(l.onreadystatechange=P.noop,pn&&delete fn[a]),i)4!==l.readyState&&l.abort();else{s=l.status,c=l.getAllResponseHeaders(),d={},h=l.responseXML,h&&h.documentElement&&(d.xml=h),d.text=l.responseText;try{u=l.statusText}catch(f){u=""}s||!n.isLocal||n.crossDomain?1223===s&&(s=204):s=d.text?200:404}}catch(p){i||o(-1,p)}d&&o(s,u,d,c)},n.async&&4!==l.readyState?(a=++gn,pn&&(fn||(fn={},P(t).unload(pn)),fn[a]=r),l.onreadystatechange=r):r()},abort:function(){r&&r(0,1)}}}});var mn,vn,yn,bn,xn={},wn=/^(?:toggle|show|hide)$/,Cn=/^([+\-]=)?([\d+.\-]+)([a-z%]*)$/i,kn=[["height","marginTop","marginBottom","paddingTop","paddingBottom"],["width","marginLeft","marginRight","paddingLeft","paddingRight"],["opacity"]];P.fn.extend({show:function(t,e,n){var r,i;if(t||0===t)return this.animate(M("show",3),t,e,n);for(var o=0,a=this.length;a>o;o++)r=this[o],r.style&&(i=r.style.display,P._data(r,"olddisplay")||"none"!==i||(i=r.style.display=""),""===i&&"none"===P.css(r,"display")&&P._data(r,"olddisplay",O(r.nodeName)));for(o=0;a>o;o++)r=this[o],r.style&&(i=r.style.display,(""===i||"none"===i)&&(r.style.display=P._data(r,"olddisplay")||""));return this},hide:function(t,e,n){if(t||0===t)return this.animate(M("hide",3),t,e,n);for(var r,i,o=0,a=this.length;a>o;o++)r=this[o],r.style&&(i=P.css(r,"display"),"none"===i||P._data(r,"olddisplay")||P._data(r,"olddisplay",i));for(o=0;a>o;o++)this[o].style&&(this[o].style.display="none");return this},_toggle:P.fn.toggle,toggle:function(t,e,n){var r="boolean"==typeof t;return P.isFunction(t)&&P.isFunction(e)?this._toggle.apply(this,arguments):null==t||r?this.each(function(){var e=r?t:P(this).is(":hidden");P(this)[e?"show":"hide"]()}):this.animate(M("toggle",3),t,e,n),this},fadeTo:function(t,e,n,r){return this.filter(":hidden").css("opacity",0).show().end().animate({opacity:e},t,n,r)},animate:function(t,e,n,r){function i(){o.queue===!1&&P._mark(this);var e,n,r,i,a,s,l,u,c,d=P.extend({},o),h=1===this.nodeType,f=h&&P(this).is(":hidden");d.animatedProperties={};for(r in t){if(e=P.camelCase(r),r!==e&&(t[e]=t[r],delete t[r]),n=t[e],P.isArray(n)?(d.animatedProperties[e]=n[1],n=t[e]=n[0]):d.animatedProperties[e]=d.specialEasing&&d.specialEasing[e]||d.easing||"swing","hide"===n&&f||"show"===n&&!f)return d.complete.call(this);!h||"height"!==e&&"width"!==e||(d.overflow=[this.style.overflow,this.style.overflowX,this.style.overflowY],"inline"===P.css(this,"display")&&"none"===P.css(this,"float")&&(P.support.inlineBlockNeedsLayout&&"inline"!==O(this.nodeName)?this.style.zoom=1:this.style.display="inline-block"))}null!=d.overflow&&(this.style.overflow="hidden");for(r in t)i=new P.fx(this,d,r),n=t[r],wn.test(n)?(c=P._data(this,"toggle"+r)||("toggle"===n?f?"show":"hide":0),c?(P._data(this,"toggle"+r,"show"===c?"hide":"show"),i[c]()):i[n]()):(a=Cn.exec(n),s=i.cur(),a?(l=parseFloat(a[2]),u=a[3]||(P.cssNumber[r]?"":"px"),"px"!==u&&(P.style(this,r,(l||1)+u),s=(l||1)/i.cur()*s,P.style(this,r,s+u)),a[1]&&(l=("-="===a[1]?-1:1)*l+s),i.custom(s,l,u)):i.custom(s,n,""));return!0}var o=P.speed(e,n,r);return P.isEmptyObject(t)?this.each(o.complete,[!1]):(t=P.extend({},t),o.queue===!1?this.each(i):this.queue(o.queue,i))},stop:function(t,n,r){return"string"!=typeof t&&(r=n,n=t,t=e),n&&t!==!1&&this.queue(t||"fx",[]),this.each(function(){function e(t,e,n){var i=e[n];P.removeData(t,n,!0),i.stop(r)}var n,i=!1,o=P.timers,a=P._data(this);if(r||P._unmark(!0,this),null==t)for(n in a)a[n]&&a[n].stop&&n.indexOf(".run")===n.length-4&&e(this,a,n);else a[n=t+".run"]&&a[n].stop&&e(this,a,n);for(n=o.length;n--;)o[n].elem!==this||null!=t&&o[n].queue!==t||(r?o[n](!0):o[n].saveState(),i=!0,o.splice(n,1));r&&i||P.dequeue(this,t)})}}),P.each({slideDown:M("show",1),slideUp:M("hide",1),slideToggle:M("toggle",1),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(t,e){P.fn[t]=function(t,n,r){return this.animate(e,t,n,r)}}),P.extend({speed:function(t,e,n){var r=t&&"object"==typeof t?P.extend({},t):{complete:n||!n&&e||P.isFunction(t)&&t,duration:t,easing:n&&e||e&&!P.isFunction(e)&&e};return r.duration=P.fx.off?0:"number"==typeof r.duration?r.duration:r.duration in P.fx.speeds?P.fx.speeds[r.duration]:P.fx.speeds._default,(null==r.queue||r.queue===!0)&&(r.queue="fx"),r.old=r.complete,r.complete=function(t){P.isFunction(r.old)&&r.old.call(this),r.queue?P.dequeue(this,r.queue):t!==!1&&P._unmark(this)},r},easing:{linear:function(t,e,n,r){return n+r*t},swing:function(t,e,n,r){return(-Math.cos(t*Math.PI)/2+.5)*r+n}},timers:[],fx:function(t,e,n){this.options=e,this.elem=t,this.prop=n,e.orig=e.orig||{}}}),P.fx.prototype={update:function(){this.options.step&&this.options.step.call(this.elem,this.now,this),(P.fx.step[this.prop]||P.fx.step._default)(this)},cur:function(){if(null!=this.elem[this.prop]&&(!this.elem.style||null==this.elem.style[this.prop]))return this.elem[this.prop];var t,e=P.css(this.elem,this.prop);return isNaN(t=parseFloat(e))?e&&"auto"!==e?e:0:t},custom:function(t,n,r){function i(t){return o.step(t)}var o=this,a=P.fx;this.startTime=bn||_(),this.end=n,this.now=this.start=t,this.pos=this.state=0,this.unit=r||this.unit||(P.cssNumber[this.prop]?"":"px"),i.queue=this.options.queue,i.elem=this.elem,i.saveState=function(){o.options.hide&&P._data(o.elem,"fxshow"+o.prop)===e&&P._data(o.elem,"fxshow"+o.prop,o.start)},i()&&P.timers.push(i)&&!yn&&(yn=setInterval(a.tick,a.interval))},show:function(){var t=P._data(this.elem,"fxshow"+this.prop);this.options.orig[this.prop]=t||P.style(this.elem,this.prop),this.options.show=!0,t!==e?this.custom(this.cur(),t):this.custom("width"===this.prop||"height"===this.prop?1:0,this.cur()),P(this.elem).show()},hide:function(){this.options.orig[this.prop]=P._data(this.elem,"fxshow"+this.prop)||P.style(this.elem,this.prop),this.options.hide=!0,this.custom(this.cur(),0)},step:function(t){var e,n,r,i=bn||_(),o=!0,a=this.elem,s=this.options;if(t||i>=s.duration+this.startTime){this.now=this.end,this.pos=this.state=1,this.update(),s.animatedProperties[this.prop]=!0;for(e in s.animatedProperties)s.animatedProperties[e]!==!0&&(o=!1);if(o){if(null==s.overflow||P.support.shrinkWrapBlocks||P.each(["","X","Y"],function(t,e){a.style["overflow"+e]=s.overflow[t]}),s.hide&&P(a).hide(),s.hide||s.show)for(e in s.animatedProperties)P.style(a,e,s.orig[e]),P.removeData(a,"fxshow"+e,!0),P.removeData(a,"toggle"+e,!0);r=s.complete,r&&(s.complete=!1,r.call(a))}return!1}return 1/0==s.duration?this.now=i:(n=i-this.startTime,this.state=n/s.duration,this.pos=P.easing[s.animatedProperties[this.prop]](this.state,n,0,1,s.duration),this.now=this.start+(this.end-this.start)*this.pos),this.update(),!0}},P.extend(P.fx,{tick:function(){for(var t,e=P.timers,n=0;e.length>n;n++)t=e[n],t()||e[n]!==t||e.splice(n--,1);e.length||P.fx.stop()},interval:13,stop:function(){clearInterval(yn),yn=null},speeds:{slow:600,fast:200,_default:400},step:{opacity:function(t){P.style(t.elem,"opacity",t.now)},_default:function(t){t.elem.style&&null!=t.elem.style[t.prop]?t.elem.style[t.prop]=t.now+t.unit:t.elem[t.prop]=t.now}}}),P.each(["width","height"],function(t,e){P.fx.step[e]=function(t){P.style(t.elem,e,Math.max(0,t.now)+t.unit)}}),P.expr&&P.expr.filters&&(P.expr.filters.animated=function(t){return P.grep(P.timers,function(e){return t===e.elem}).length});var An=/^t(?:able|d|h)$/i,Tn=/^(?:body|html)$/i;P.fn.offset="getBoundingClientRect"in I.documentElement?function(t){var e,n=this[0];if(t)return this.each(function(e){P.offset.setOffset(this,t,e)});if(!n||!n.ownerDocument)return null;if(n===n.ownerDocument.body)return P.offset.bodyOffset(n);try{e=n.getBoundingClientRect()}catch(r){}var i=n.ownerDocument,o=i.documentElement;if(!e||!P.contains(o,n))return e?{top:e.top,left:e.left}:{top:0,left:0};var a=i.body,s=R(i),l=o.clientTop||a.clientTop||0,u=o.clientLeft||a.clientLeft||0,c=s.pageYOffset||P.support.boxModel&&o.scrollTop||a.scrollTop,d=s.pageXOffset||P.support.boxModel&&o.scrollLeft||a.scrollLeft,h=e.top+c-l,f=e.left+d-u;return{top:h,left:f}}:function(t){var e=this[0];if(t)return this.each(function(e){P.offset.setOffset(this,t,e)});if(!e||!e.ownerDocument)return null;if(e===e.ownerDocument.body)return P.offset.bodyOffset(e);for(var n,r=e.offsetParent,i=e,o=e.ownerDocument,a=o.documentElement,s=o.body,l=o.defaultView,u=l?l.getComputedStyle(e,null):e.currentStyle,c=e.offsetTop,d=e.offsetLeft;(e=e.parentNode)&&e!==s&&e!==a&&(!P.support.fixedPosition||"fixed"!==u.position);)n=l?l.getComputedStyle(e,null):e.currentStyle,c-=e.scrollTop,d-=e.scrollLeft,e===r&&(c+=e.offsetTop,d+=e.offsetLeft,!P.support.doesNotAddBorder||P.support.doesAddBorderForTableAndCells&&An.test(e.nodeName)||(c+=parseFloat(n.borderTopWidth)||0,d+=parseFloat(n.borderLeftWidth)||0),i=r,r=e.offsetParent),P.support.subtractsBorderForOverflowNotVisible&&"visible"!==n.overflow&&(c+=parseFloat(n.borderTopWidth)||0,d+=parseFloat(n.borderLeftWidth)||0),u=n;return("relative"===u.position||"static"===u.position)&&(c+=s.offsetTop,d+=s.offsetLeft),P.support.fixedPosition&&"fixed"===u.position&&(c+=Math.max(a.scrollTop,s.scrollTop),d+=Math.max(a.scrollLeft,s.scrollLeft)),{top:c,left:d}},P.offset={bodyOffset:function(t){var e=t.offsetTop,n=t.offsetLeft;return P.support.doesNotIncludeMarginInBodyOffset&&(e+=parseFloat(P.css(t,"marginTop"))||0,n+=parseFloat(P.css(t,"marginLeft"))||0),{top:e,left:n}},setOffset:function(t,e,n){var r=P.css(t,"position");"static"===r&&(t.style.position="relative");var i,o,a=P(t),s=a.offset(),l=P.css(t,"top"),u=P.css(t,"left"),c=("absolute"===r||"fixed"===r)&&P.inArray("auto",[l,u])>-1,d={},h={};c?(h=a.position(),i=h.top,o=h.left):(i=parseFloat(l)||0,o=parseFloat(u)||0),P.isFunction(e)&&(e=e.call(t,n,s)),null!=e.top&&(d.top=e.top-s.top+i),null!=e.left&&(d.left=e.left-s.left+o),"using"in e?e.using.call(t,d):a.css(d)}},P.fn.extend({position:function(){if(!this[0])return null;var t=this[0],e=this.offsetParent(),n=this.offset(),r=Tn.test(e[0].nodeName)?{top:0,left:0}:e.offset();return n.top-=parseFloat(P.css(t,"marginTop"))||0,n.left-=parseFloat(P.css(t,"marginLeft"))||0,r.top+=parseFloat(P.css(e[0],"borderTopWidth"))||0,r.left+=parseFloat(P.css(e[0],"borderLeftWidth"))||0,{top:n.top-r.top,left:n.left-r.left}},offsetParent:function(){return this.map(function(){for(var t=this.offsetParent||I.body;t&&!Tn.test(t.nodeName)&&"static"===P.css(t,"position");)t=t.offsetParent;return t})}}),P.each(["Left","Top"],function(t,n){var r="scroll"+n;P.fn[r]=function(n){var i,o;return n===e?(i=this[0])?(o=R(i),o?"pageXOffset"in o?o[t?"pageYOffset":"pageXOffset"]:P.support.boxModel&&o.document.documentElement[r]||o.document.body[r]:i[r]):null:this.each(function(){o=R(this),o?o.scrollTo(t?P(o).scrollLeft():n,t?n:P(o).scrollTop()):this[r]=n})}}),P.each(["Height","Width"],function(t,n){var r=n.toLowerCase();P.fn["inner"+n]=function(){var t=this[0];return t?t.style?parseFloat(P.css(t,r,"padding")):this[r]():null},P.fn["outer"+n]=function(t){var e=this[0];return e?e.style?parseFloat(P.css(e,r,t?"margin":"border")):this[r]():null},P.fn[r]=function(t){var i=this[0];if(!i)return null==t?null:this;if(P.isFunction(t))return this.each(function(e){var n=P(this);n[r](t.call(this,e,n[r]()))});if(P.isWindow(i)){var o=i.document.documentElement["client"+n],a=i.document.body;return"CSS1Compat"===i.document.compatMode&&o||a&&a["client"+n]||o}if(9===i.nodeType)return Math.max(i.documentElement["client"+n],i.body["scroll"+n],i.documentElement["scroll"+n],i.body["offset"+n],i.documentElement["offset"+n]);if(t===e){var s=P.css(i,r),l=parseFloat(s);return P.isNumeric(l)?l:s}return this.css(r,"string"==typeof t?t:t+"px")}}),t.jQuery=t.$=P,"function"==typeof define&&define.amd&&define.amd.jQuery&&define("jquery",[],function(){return P})})(window);
(function(){function t(e,n,r){if(e===n)return 0!==e||1/e==1/n;if(null==e||null==n)return e===n;if(e._chain&&(e=e._wrapped),n._chain&&(n=n._wrapped),e.isEqual&&k.isFunction(e.isEqual))return e.isEqual(n);if(n.isEqual&&k.isFunction(n.isEqual))return n.isEqual(e);var i=u.call(e);if(i!=u.call(n))return!1;switch(i){case"[object String]":return e==n+"";case"[object Number]":return e!=+e?n!=+n:0==e?1/e==1/n:e==+n;case"[object Date]":case"[object Boolean]":return+e==+n;case"[object RegExp]":return e.source==n.source&&e.global==n.global&&e.multiline==n.multiline&&e.ignoreCase==n.ignoreCase}if("object"!=typeof e||"object"!=typeof n)return!1;for(var o=r.length;o--;)if(r[o]==e)return!0;r.push(e);var a=0,s=!0;if("[object Array]"==i){if(a=e.length,s=a==n.length)for(;a--&&(s=a in e==a in n&&t(e[a],n[a],r)););}else{if("constructor"in e!="constructor"in n||e.constructor!=n.constructor)return!1;for(var l in e)if(k.has(e,l)&&(a++,!(s=k.has(n,l)&&t(e[l],n[l],r))))break;if(s){for(l in n)if(k.has(n,l)&&!a--)break;s=!a}}return r.pop(),s}var e=this,n=e._,r={},i=Array.prototype,o=Object.prototype,a=Function.prototype,s=i.slice,l=i.unshift,u=o.toString,c=o.hasOwnProperty,d=i.forEach,h=i.map,f=i.reduce,p=i.reduceRight,g=i.filter,m=i.every,v=i.some,y=i.indexOf,b=i.lastIndexOf,w=Array.isArray,x=Object.keys,C=a.bind,k=function(t){return new M(t)};"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=k),exports._=k):e._=k,k.VERSION="1.3.1";var A=k.each=k.forEach=function(t,e,n){if(null!=t)if(d&&t.forEach===d)t.forEach(e,n);else if(t.length===+t.length){for(var i=0,o=t.length;o>i;i++)if(i in t&&e.call(n,t[i],i,t)===r)return}else for(var a in t)if(k.has(t,a)&&e.call(n,t[a],a,t)===r)return};k.map=k.collect=function(t,e,n){var r=[];return null==t?r:h&&t.map===h?t.map(e,n):(A(t,function(t,i,o){r[r.length]=e.call(n,t,i,o)}),t.length===+t.length&&(r.length=t.length),r)},k.reduce=k.foldl=k.inject=function(t,e,n,r){var i=arguments.length>2;if(null==t&&(t=[]),f&&t.reduce===f)return r&&(e=k.bind(e,r)),i?t.reduce(e,n):t.reduce(e);if(A(t,function(t,o,a){i?n=e.call(r,n,t,o,a):(n=t,i=!0)}),!i)throw new TypeError("Reduce of empty array with no initial value");return n},k.reduceRight=k.foldr=function(t,e,n,r){var i=arguments.length>2;if(null==t&&(t=[]),p&&t.reduceRight===p)return r&&(e=k.bind(e,r)),i?t.reduceRight(e,n):t.reduceRight(e);var o=k.toArray(t).reverse();return r&&!i&&(e=k.bind(e,r)),i?k.reduce(o,e,n,r):k.reduce(o,e)},k.find=k.detect=function(t,e,n){var r;return T(t,function(t,i,o){return e.call(n,t,i,o)?(r=t,!0):void 0}),r},k.filter=k.select=function(t,e,n){var r=[];return null==t?r:g&&t.filter===g?t.filter(e,n):(A(t,function(t,i,o){e.call(n,t,i,o)&&(r[r.length]=t)}),r)},k.reject=function(t,e,n){var r=[];return null==t?r:(A(t,function(t,i,o){e.call(n,t,i,o)||(r[r.length]=t)}),r)},k.every=k.all=function(t,e,n){var i=!0;return null==t?i:m&&t.every===m?t.every(e,n):(A(t,function(t,o,a){return(i=i&&e.call(n,t,o,a))?void 0:r}),i)};var T=k.some=k.any=function(t,e,n){e||(e=k.identity);var i=!1;return null==t?i:v&&t.some===v?t.some(e,n):(A(t,function(t,o,a){return i||(i=e.call(n,t,o,a))?r:void 0}),!!i)};k.include=k.contains=function(t,e){var n=!1;return null==t?n:y&&t.indexOf===y?-1!=t.indexOf(e):n=T(t,function(t){return t===e})},k.invoke=function(t,e){var n=s.call(arguments,2);return k.map(t,function(t){return(k.isFunction(e)?e||t:t[e]).apply(t,n)})},k.pluck=function(t,e){return k.map(t,function(t){return t[e]})},k.max=function(t,e,n){if(!e&&k.isArray(t))return Math.max.apply(Math,t);if(!e&&k.isEmpty(t))return-1/0;var r={computed:-1/0};return A(t,function(t,i,o){var a=e?e.call(n,t,i,o):t;a>=r.computed&&(r={value:t,computed:a})}),r.value},k.min=function(t,e,n){if(!e&&k.isArray(t))return Math.min.apply(Math,t);if(!e&&k.isEmpty(t))return 1/0;var r={computed:1/0};return A(t,function(t,i,o){var a=e?e.call(n,t,i,o):t;r.computed>a&&(r={value:t,computed:a})}),r.value},k.shuffle=function(t){var e,n=[];return A(t,function(t,r){0==r?n[0]=t:(e=Math.floor(Math.random()*(r+1)),n[r]=n[e],n[e]=t)}),n},k.sortBy=function(t,e,n){return k.pluck(k.map(t,function(t,r,i){return{value:t,criteria:e.call(n,t,r,i)}}).sort(function(t,e){var n=t.criteria,r=e.criteria;return r>n?-1:n>r?1:0}),"value")},k.groupBy=function(t,e){var n={},r=k.isFunction(e)?e:function(t){return t[e]};return A(t,function(t,e){var i=r(t,e);(n[i]||(n[i]=[])).push(t)}),n},k.sortedIndex=function(t,e,n){n||(n=k.identity);for(var r=0,i=t.length;i>r;){var o=r+i>>1;n(t[o])<n(e)?r=o+1:i=o}return r},k.toArray=function(t){return t?t.toArray?t.toArray():k.isArray(t)?s.call(t):k.isArguments(t)?s.call(t):k.values(t):[]},k.size=function(t){return k.toArray(t).length},k.first=k.head=function(t,e,n){return null==e||n?t[0]:s.call(t,0,e)},k.initial=function(t,e,n){return s.call(t,0,t.length-(null==e||n?1:e))},k.last=function(t,e,n){return null==e||n?t[t.length-1]:s.call(t,Math.max(t.length-e,0))},k.rest=k.tail=function(t,e,n){return s.call(t,null==e||n?1:e)},k.compact=function(t){return k.filter(t,function(t){return!!t})},k.flatten=function(t,e){return k.reduce(t,function(t,n){return k.isArray(n)?t.concat(e?n:k.flatten(n)):(t[t.length]=n,t)},[])},k.without=function(t){return k.difference(t,s.call(arguments,1))},k.uniq=k.unique=function(t,e,n){var r=n?k.map(t,n):t,i=[];return k.reduce(r,function(n,r,o){return 0!=o&&(e===!0?k.last(n)==r:k.include(n,r))||(n[n.length]=r,i[i.length]=t[o]),n},[]),i},k.union=function(){return k.uniq(k.flatten(arguments,!0))},k.intersection=k.intersect=function(t){var e=s.call(arguments,1);return k.filter(k.uniq(t),function(t){return k.every(e,function(e){return k.indexOf(e,t)>=0})})},k.difference=function(t){var e=k.flatten(s.call(arguments,1));return k.filter(t,function(t){return!k.include(e,t)})},k.zip=function(){for(var t=s.call(arguments),e=k.max(k.pluck(t,"length")),n=Array(e),r=0;e>r;r++)n[r]=k.pluck(t,""+r);return n},k.indexOf=function(t,e,n){if(null==t)return-1;var r,i;if(n)return r=k.sortedIndex(t,e),t[r]===e?r:-1;if(y&&t.indexOf===y)return t.indexOf(e);for(r=0,i=t.length;i>r;r++)if(r in t&&t[r]===e)return r;return-1},k.lastIndexOf=function(t,e){if(null==t)return-1;if(b&&t.lastIndexOf===b)return t.lastIndexOf(e);for(var n=t.length;n--;)if(n in t&&t[n]===e)return n;return-1},k.range=function(t,e,n){1>=arguments.length&&(e=t||0,t=0),n=arguments[2]||1;for(var r=Math.max(Math.ceil((e-t)/n),0),i=0,o=Array(r);r>i;)o[i++]=t,t+=n;return o};var S=function(){};k.bind=function(t,e){var n,r;if(t.bind===C&&C)return C.apply(t,s.call(arguments,1));if(!k.isFunction(t))throw new TypeError;return r=s.call(arguments,2),n=function(){if(!(this instanceof n))return t.apply(e,r.concat(s.call(arguments)));S.prototype=t.prototype;var i=new S,o=t.apply(i,r.concat(s.call(arguments)));return Object(o)===o?o:i}},k.bindAll=function(t){var e=s.call(arguments,1);return 0==e.length&&(e=k.functions(t)),A(e,function(e){t[e]=k.bind(t[e],t)}),t},k.memoize=function(t,e){var n={};return e||(e=k.identity),function(){var r=e.apply(this,arguments);return k.has(n,r)?n[r]:n[r]=t.apply(this,arguments)}},k.delay=function(t,e){var n=s.call(arguments,2);return setTimeout(function(){return t.apply(t,n)},e)},k.defer=function(t){return k.delay.apply(k,[t,1].concat(s.call(arguments,1)))},k.throttle=function(t,e){var n,r,i,o,a,s=k.debounce(function(){a=o=!1},e);return function(){n=this,r=arguments;var l=function(){i=null,a&&t.apply(n,r),s()};i||(i=setTimeout(l,e)),o?a=!0:t.apply(n,r),s(),o=!0}},k.debounce=function(t,e){var n;return function(){var r=this,i=arguments,o=function(){n=null,t.apply(r,i)};clearTimeout(n),n=setTimeout(o,e)}},k.once=function(t){var e,n=!1;return function(){return n?e:(n=!0,e=t.apply(this,arguments))}},k.wrap=function(t,e){return function(){var n=[t].concat(s.call(arguments,0));return e.apply(this,n)}},k.compose=function(){var t=arguments;return function(){for(var e=arguments,n=t.length-1;n>=0;n--)e=[t[n].apply(this,e)];return e[0]}},k.after=function(t,e){return 0>=t?e():function(){return 1>--t?e.apply(this,arguments):void 0}},k.keys=x||function(t){if(t!==Object(t))throw new TypeError("Invalid object");var e=[];for(var n in t)k.has(t,n)&&(e[e.length]=n);return e},k.values=function(t){return k.map(t,k.identity)},k.functions=k.methods=function(t){var e=[];for(var n in t)k.isFunction(t[n])&&e.push(n);return e.sort()},k.extend=function(t){return A(s.call(arguments,1),function(e){for(var n in e)t[n]=e[n]}),t},k.defaults=function(t){return A(s.call(arguments,1),function(e){for(var n in e)null==t[n]&&(t[n]=e[n])}),t},k.clone=function(t){return k.isObject(t)?k.isArray(t)?t.slice():k.extend({},t):t},k.tap=function(t,e){return e(t),t},k.isEqual=function(e,n){return t(e,n,[])},k.isEmpty=function(t){if(k.isArray(t)||k.isString(t))return 0===t.length;for(var e in t)if(k.has(t,e))return!1;return!0},k.isElement=function(t){return!(!t||1!=t.nodeType)},k.isArray=w||function(t){return"[object Array]"==u.call(t)},k.isObject=function(t){return t===Object(t)},k.isArguments=function(t){return"[object Arguments]"==u.call(t)},k.isArguments(arguments)||(k.isArguments=function(t){return!(!t||!k.has(t,"callee"))}),k.isFunction=function(t){return"[object Function]"==u.call(t)},k.isString=function(t){return"[object String]"==u.call(t)},k.isNumber=function(t){return"[object Number]"==u.call(t)},k.isNaN=function(t){return t!==t},k.isBoolean=function(t){return t===!0||t===!1||"[object Boolean]"==u.call(t)},k.isDate=function(t){return"[object Date]"==u.call(t)},k.isRegExp=function(t){return"[object RegExp]"==u.call(t)},k.isNull=function(t){return null===t},k.isUndefined=function(t){return void 0===t},k.has=function(t,e){return c.call(t,e)},k.noConflict=function(){return e._=n,this},k.identity=function(t){return t},k.times=function(t,e,n){for(var r=0;t>r;r++)e.call(n,r)},k.escape=function(t){return(""+t).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;")},k.mixin=function(t){A(k.functions(t),function(e){R(e,k[e]=t[e])})};var E=0;k.uniqueId=function(t){var e=E++;return t?t+e:e},k.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var _=/.^/,N=function(t){return t.replace(/\\\\/g,"\\").replace(/\\'/g,"'")};k.template=function(t,e){var n=k.templateSettings,r="var __p=[],print=function(){__p.push.apply(__p,arguments);};with(obj||{}){__p.push('"+t.replace(/\\/g,"\\\\").replace(/'/g,"\\'").replace(n.escape||_,function(t,e){return"',_.escape("+N(e)+"),'"}).replace(n.interpolate||_,function(t,e){return"',"+N(e)+",'"}).replace(n.evaluate||_,function(t,e){return"');"+N(e).replace(/[\r\n\t]/g," ")+";__p.push('"}).replace(/\r/g,"\\r").replace(/\n/g,"\\n").replace(/\t/g,"\\t")+"');}return __p.join('');",i=Function("obj","_",r);return e?i(e,k):function(t){return i.call(this,t,k)}},k.chain=function(t){return k(t).chain()};var M=function(t){this._wrapped=t};k.prototype=M.prototype;var O=function(t,e){return e?k(t).chain():t},R=function(t,e){M.prototype[t]=function(){var t=s.call(arguments);return l.call(t,this._wrapped),O(e.apply(k,t),this._chain)}};k.mixin(k),A(["pop","push","reverse","shift","sort","splice","unshift"],function(t){var e=i[t];M.prototype[t]=function(){var n=this._wrapped;e.apply(n,arguments);var r=n.length;return"shift"!=t&&"splice"!=t||0!==r||delete n[0],O(n,this._chain)}}),A(["concat","join","slice"],function(t){var e=i[t];M.prototype[t]=function(){return O(e.apply(this._wrapped,arguments),this._chain)}}),M.prototype.chain=function(){return this._chain=!0,this},M.prototype.value=function(){return this._wrapped}}).call(this);
define("underscore", (function (global) {
    return function () {
        var ret, fn;
        return ret || global._;
    };
}(this)));

(function(){var t,e=this,n=e.Backbone,r=Array.prototype.slice,i=Array.prototype.splice;t="undefined"!=typeof exports?exports:e.Backbone={},t.VERSION="0.9.2";var o=e._;o||"undefined"==typeof require||(o=require("underscore"));var a=e.jQuery||e.Zepto||e.ender;t.setDomLibrary=function(t){a=t},t.noConflict=function(){return e.Backbone=n,this},t.emulateHTTP=!1,t.emulateJSON=!1;var s=/\s+/,l=t.Events={on:function(t,e,n){var r,i,o,a,l;if(!e)return this;for(t=t.split(s),r=this._callbacks||(this._callbacks={});i=t.shift();)l=r[i],o=l?l.tail:{},o.next=a={},o.context=n,o.callback=e,r[i]={tail:a,next:l?l.next:o};return this},off:function(t,e,n){var r,i,a,l,u,c;if(i=this._callbacks){if(!(t||e||n))return delete this._callbacks,this;for(t=t?t.split(s):o.keys(i);r=t.shift();)if(a=i[r],delete i[r],a&&(e||n))for(l=a.tail;(a=a.next)!==l;)u=a.callback,c=a.context,(e&&u!==e||n&&c!==n)&&this.on(r,u,c);return this}},trigger:function(t){var e,n,i,o,a,l,u;if(!(i=this._callbacks))return this;for(l=i.all,t=t.split(s),u=r.call(arguments,1);e=t.shift();){if(n=i[e])for(o=n.tail;(n=n.next)!==o;)n.callback.apply(n.context||this,u);if(n=l)for(o=n.tail,a=[e].concat(u);(n=n.next)!==o;)n.callback.apply(n.context||this,a)}return this}};l.bind=l.on,l.unbind=l.off;var u=t.Model=function(t,e){var n;t||(t={}),e&&e.parse&&(t=this.parse(t)),(n=S(this,"defaults"))&&(t=o.extend({},n,t)),e&&e.collection&&(this.collection=e.collection),this.attributes={},this._escapedAttributes={},this.cid=o.uniqueId("c"),this.changed={},this._silent={},this._pending={},this.set(t,{silent:!0}),this.changed={},this._silent={},this._pending={},this._previousAttributes=o.clone(this.attributes),this.initialize.apply(this,arguments)};o.extend(u.prototype,l,{changed:null,_silent:null,_pending:null,idAttribute:"id",initialize:function(){},toJSON:function(){return o.clone(this.attributes)},get:function(t){return this.attributes[t]},escape:function(t){var e;if(e=this._escapedAttributes[t])return e;var n=this.get(t);return this._escapedAttributes[t]=o.escape(null==n?"":""+n)},has:function(t){return null!=this.get(t)},set:function(t,e,n){var r,i,a;if(o.isObject(t)||null==t?(r=t,n=e):(r={},r[t]=e),n||(n={}),!r)return this;if(r instanceof u&&(r=r.attributes),n.unset)for(i in r)r[i]=void 0;if(!this._validate(r,n))return!1;this.idAttribute in r&&(this.id=r[this.idAttribute]);var s=n.changes={},l=this.attributes,c=this._escapedAttributes,d=this._previousAttributes||{};for(i in r)a=r[i],(!o.isEqual(l[i],a)||n.unset&&o.has(l,i))&&(delete c[i],(n.silent?this._silent:s)[i]=!0),n.unset?delete l[i]:l[i]=a,o.isEqual(d[i],a)&&o.has(l,i)==o.has(d,i)?(delete this.changed[i],delete this._pending[i]):(this.changed[i]=a,n.silent||(this._pending[i]=!0));return n.silent||this.change(n),this},unset:function(t,e){return(e||(e={})).unset=!0,this.set(t,null,e)},clear:function(t){return(t||(t={})).unset=!0,this.set(o.clone(this.attributes),t)},fetch:function(e){e=e?o.clone(e):{};var n=this,r=e.success;return e.success=function(t,i,o){return n.set(n.parse(t,o),e)?(r&&r(n,t),void 0):!1},e.error=t.wrapError(e.error,n,e),(this.sync||t.sync).call(this,"read",this,e)},save:function(e,n,r){var i,a;if(o.isObject(e)||null==e?(i=e,r=n):(i={},i[e]=n),r=r?o.clone(r):{},r.wait){if(!this._validate(i,r))return!1;a=o.clone(this.attributes)}var s=o.extend({},r,{silent:!0});if(i&&!this.set(i,r.wait?s:r))return!1;var l=this,u=r.success;r.success=function(t,e,n){var a=l.parse(t,n);return r.wait&&(delete r.wait,a=o.extend(i||{},a)),l.set(a,r)?(u?u(l,t):l.trigger("sync",l,t,r),void 0):!1},r.error=t.wrapError(r.error,l,r);var c=this.isNew()?"create":"update",d=(this.sync||t.sync).call(this,c,this,r);return r.wait&&this.set(a,s),d},destroy:function(e){e=e?o.clone(e):{};var n=this,r=e.success,i=function(){n.trigger("destroy",n,n.collection,e)};if(this.isNew())return i(),!1;e.success=function(t){e.wait&&i(),r?r(n,t):n.trigger("sync",n,t,e)},e.error=t.wrapError(e.error,n,e);var a=(this.sync||t.sync).call(this,"delete",this,e);return e.wait||i(),a},url:function(){var t=S(this,"urlRoot")||S(this.collection,"url")||E();return this.isNew()?t:t+("/"==t.charAt(t.length-1)?"":"/")+encodeURIComponent(this.id)},parse:function(t){return t},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return null==this.id},change:function(t){t||(t={});var e=this._changing;this._changing=!0;for(var n in this._silent)this._pending[n]=!0;var r=o.extend({},t.changes,this._silent);this._silent={};for(var n in r)this.trigger("change:"+n,this,this.get(n),t);if(e)return this;for(;!o.isEmpty(this._pending);){this._pending={},this.trigger("change",this,t);for(var n in this.changed)this._pending[n]||this._silent[n]||delete this.changed[n];this._previousAttributes=o.clone(this.attributes)}return this._changing=!1,this},hasChanged:function(t){return arguments.length?o.has(this.changed,t):!o.isEmpty(this.changed)},changedAttributes:function(t){if(!t)return this.hasChanged()?o.clone(this.changed):!1;var e,n=!1,r=this._previousAttributes;for(var i in t)o.isEqual(r[i],e=t[i])||((n||(n={}))[i]=e);return n},previous:function(t){return arguments.length&&this._previousAttributes?this._previousAttributes[t]:null},previousAttributes:function(){return o.clone(this._previousAttributes)},isValid:function(){return!this.validate(this.attributes)},_validate:function(t,e){if(e.silent||!this.validate)return!0;t=o.extend({},this.attributes,t);var n=this.validate(t,e);return n?(e&&e.error?e.error(this,n,e):this.trigger("error",this,n,e),!1):!0}});var c=t.Collection=function(t,e){e||(e={}),e.model&&(this.model=e.model),e.comparator&&(this.comparator=e.comparator),this._reset(),this.initialize.apply(this,arguments),t&&this.reset(t,{silent:!0,parse:e.parse})};o.extend(c.prototype,l,{model:u,initialize:function(){},toJSON:function(t){return this.map(function(e){return e.toJSON(t)})},add:function(t,e){var n,r,a,s,l,u,c={},d={},h=[];for(e||(e={}),t=o.isArray(t)?t.slice():[t],n=0,a=t.length;a>n;n++){if(!(s=t[n]=this._prepareModel(t[n],e)))throw Error("Can't add an invalid model to a collection");l=s.cid,u=s.id,c[l]||this._byCid[l]||null!=u&&(d[u]||this._byId[u])?h.push(n):c[l]=d[u]=s}for(n=h.length;n--;)t.splice(h[n],1);for(n=0,a=t.length;a>n;n++)(s=t[n]).on("all",this._onModelEvent,this),this._byCid[s.cid]=s,null!=s.id&&(this._byId[s.id]=s);if(this.length+=a,r=null!=e.at?e.at:this.models.length,i.apply(this.models,[r,0].concat(t)),this.comparator&&this.sort({silent:!0}),e.silent)return this;for(n=0,a=this.models.length;a>n;n++)c[(s=this.models[n]).cid]&&(e.index=n,s.trigger("add",s,this,e));return this},remove:function(t,e){var n,r,i,a;for(e||(e={}),t=o.isArray(t)?t.slice():[t],n=0,r=t.length;r>n;n++)a=this.getByCid(t[n])||this.get(t[n]),a&&(delete this._byId[a.id],delete this._byCid[a.cid],i=this.indexOf(a),this.models.splice(i,1),this.length--,e.silent||(e.index=i,a.trigger("remove",a,this,e)),this._removeReference(a));return this},push:function(t,e){return t=this._prepareModel(t,e),this.add(t,e),t},pop:function(t){var e=this.at(this.length-1);return this.remove(e,t),e},unshift:function(t,e){return t=this._prepareModel(t,e),this.add(t,o.extend({at:0},e)),t},shift:function(t){var e=this.at(0);return this.remove(e,t),e},get:function(t){return null==t?void 0:this._byId[null!=t.id?t.id:t]},getByCid:function(t){return t&&this._byCid[t.cid||t]},at:function(t){return this.models[t]},where:function(t){return o.isEmpty(t)?[]:this.filter(function(e){for(var n in t)if(t[n]!==e.get(n))return!1;return!0})},sort:function(t){if(t||(t={}),!this.comparator)throw Error("Cannot sort a set without a comparator");var e=o.bind(this.comparator,this);return 1==this.comparator.length?this.models=this.sortBy(e):this.models.sort(e),t.silent||this.trigger("reset",this,t),this},pluck:function(t){return o.map(this.models,function(e){return e.get(t)})},reset:function(t,e){t||(t=[]),e||(e={});for(var n=0,r=this.models.length;r>n;n++)this._removeReference(this.models[n]);return this._reset(),this.add(t,o.extend({silent:!0},e)),e.silent||this.trigger("reset",this,e),this},fetch:function(e){e=e?o.clone(e):{},void 0===e.parse&&(e.parse=!0);var n=this,r=e.success;return e.success=function(t,i,o){n[e.add?"add":"reset"](n.parse(t,o),e),r&&r(n,t)},e.error=t.wrapError(e.error,n,e),(this.sync||t.sync).call(this,"read",this,e)},create:function(t,e){var n=this;if(e=e?o.clone(e):{},t=this._prepareModel(t,e),!t)return!1;e.wait||n.add(t,e);var r=e.success;return e.success=function(i,o){e.wait&&n.add(i,e),r?r(i,o):i.trigger("sync",t,o,e)},t.save(null,e),t},parse:function(t){return t},chain:function(){return o(this.models).chain()},_reset:function(){this.length=0,this.models=[],this._byId={},this._byCid={}},_prepareModel:function(t,e){if(e||(e={}),t instanceof u)t.collection||(t.collection=this);else{var n=t;e.collection=this,t=new this.model(n,e),t._validate(t.attributes,e)||(t=!1)}return t},_removeReference:function(t){this==t.collection&&delete t.collection,t.off("all",this._onModelEvent,this)},_onModelEvent:function(t,e,n,r){("add"!=t&&"remove"!=t||n==this)&&("destroy"==t&&this.remove(e,r),e&&t==="change:"+e.idAttribute&&(delete this._byId[e.previous(e.idAttribute)],this._byId[e.id]=e),this.trigger.apply(this,arguments))}});var d=["forEach","each","map","reduce","reduceRight","find","detect","filter","select","reject","every","all","some","any","include","contains","invoke","max","min","sortBy","sortedIndex","toArray","size","first","initial","rest","last","without","indexOf","shuffle","lastIndexOf","isEmpty","groupBy"];o.each(d,function(t){c.prototype[t]=function(){return o[t].apply(o,[this.models].concat(o.toArray(arguments)))}});var h=t.Router=function(t){t||(t={}),t.routes&&(this.routes=t.routes),this._bindRoutes(),this.initialize.apply(this,arguments)},f=/:\w+/g,p=/\*\w+/g,g=/[-[\]{}()+?.,\\^$|#\s]/g;o.extend(h.prototype,l,{initialize:function(){},route:function(e,n,r){return t.history||(t.history=new m),o.isRegExp(e)||(e=this._routeToRegExp(e)),r||(r=this[n]),t.history.route(e,o.bind(function(i){var o=this._extractParameters(e,i);r&&r.apply(this,o),this.trigger.apply(this,["route:"+n].concat(o)),t.history.trigger("route",this,n,o)},this)),this},navigate:function(e,n){t.history.navigate(e,n)},_bindRoutes:function(){if(this.routes){var t=[];for(var e in this.routes)t.unshift([e,this.routes[e]]);for(var n=0,r=t.length;r>n;n++)this.route(t[n][0],t[n][1],this[t[n][1]])}},_routeToRegExp:function(t){return t=t.replace(g,"\\$&").replace(f,"([^/]+)").replace(p,"(.*?)"),RegExp("^"+t+"$")},_extractParameters:function(t,e){return t.exec(e).slice(1)}});var m=t.History=function(){this.handlers=[],o.bindAll(this,"checkUrl")},v=/^[#\/]/,y=/msie [\w.]+/;m.started=!1,o.extend(m.prototype,l,{interval:50,getHash:function(t){var e=t?t.location:window.location,n=e.href.match(/#(.*)$/);return n?n[1]:""},getFragment:function(t,e){if(null==t)if(this._hasPushState||e){t=window.location.pathname;var n=window.location.search;n&&(t+=n)}else t=this.getHash();return t.indexOf(this.options.root)||(t=t.substr(this.options.root.length)),t.replace(v,"")},start:function(t){if(m.started)throw Error("Backbone.history has already been started");m.started=!0,this.options=o.extend({},{root:"/"},this.options,t),this._wantsHashChange=this.options.hashChange!==!1,this._wantsPushState=!!this.options.pushState,this._hasPushState=!!(this.options.pushState&&window.history&&window.history.pushState);var e=this.getFragment(),n=document.documentMode,r=y.exec(navigator.userAgent.toLowerCase())&&(!n||7>=n);r&&(this.iframe=a('<iframe src="javascript:0" tabindex="-1" />').hide().appendTo("body")[0].contentWindow,this.navigate(e)),this._hasPushState?a(window).bind("popstate",this.checkUrl):this._wantsHashChange&&"onhashchange"in window&&!r?a(window).bind("hashchange",this.checkUrl):this._wantsHashChange&&(this._checkUrlInterval=setInterval(this.checkUrl,this.interval)),this.fragment=e;var i=window.location,s=i.pathname==this.options.root;return this._wantsHashChange&&this._wantsPushState&&!this._hasPushState&&!s?(this.fragment=this.getFragment(null,!0),window.location.replace(this.options.root+"#"+this.fragment),!0):(this._wantsPushState&&this._hasPushState&&s&&i.hash&&(this.fragment=this.getHash().replace(v,""),window.history.replaceState({},document.title,i.protocol+"//"+i.host+this.options.root+this.fragment)),this.options.silent?void 0:this.loadUrl())},stop:function(){a(window).unbind("popstate",this.checkUrl).unbind("hashchange",this.checkUrl),clearInterval(this._checkUrlInterval),m.started=!1},route:function(t,e){this.handlers.unshift({route:t,callback:e})},checkUrl:function(){var t=this.getFragment();return t==this.fragment&&this.iframe&&(t=this.getFragment(this.getHash(this.iframe))),t==this.fragment?!1:(this.iframe&&this.navigate(t),this.loadUrl()||this.loadUrl(this.getHash()),void 0)},loadUrl:function(t){var e=this.fragment=this.getFragment(t),n=o.any(this.handlers,function(t){return t.route.test(e)?(t.callback(e),!0):void 0});return n},navigate:function(t,e){if(!m.started)return!1;e&&e!==!0||(e={trigger:e});var n=(t||"").replace(v,"");this.fragment!=n&&(this._hasPushState?(0!=n.indexOf(this.options.root)&&(n=this.options.root+n),this.fragment=n,window.history[e.replace?"replaceState":"pushState"]({},document.title,n)):this._wantsHashChange?(this.fragment=n,this._updateHash(window.location,n,e.replace),this.iframe&&n!=this.getFragment(this.getHash(this.iframe))&&(e.replace||this.iframe.document.open().close(),this._updateHash(this.iframe.location,n,e.replace))):window.location.assign(this.options.root+t),e.trigger&&this.loadUrl(t))},_updateHash:function(t,e,n){n?t.replace((""+t).replace(/(javascript:|#).*$/,"")+"#"+e):t.hash=e}});var b=t.View=function(t){this.cid=o.uniqueId("view"),this._configure(t||{}),this._ensureElement(),this.initialize.apply(this,arguments),this.delegateEvents()},x=/^(\S+)\s*(.*)$/,w=["model","collection","el","id","attributes","className","tagName"];o.extend(b.prototype,l,{tagName:"div",$:function(t){return this.$el.find(t)},initialize:function(){},render:function(){return this},remove:function(){return this.$el.remove(),this},make:function(t,e,n){var r=document.createElement(t);return e&&a(r).attr(e),n&&a(r).html(n),r},setElement:function(t,e){return this.$el&&this.undelegateEvents(),this.$el=t instanceof a?t:a(t),this.el=this.$el[0],e!==!1&&this.delegateEvents(),this},delegateEvents:function(t){if(t||(t=S(this,"events"))){this.undelegateEvents();for(var e in t){var n=t[e];if(o.isFunction(n)||(n=this[t[e]]),!n)throw Error('Method "'+t[e]+'" does not exist');var r=e.match(x),i=r[1],a=r[2];n=o.bind(n,this),i+=".delegateEvents"+this.cid,""===a?this.$el.bind(i,n):this.$el.delegate(a,i,n)}}},undelegateEvents:function(){this.$el.unbind(".delegateEvents"+this.cid)},_configure:function(t){this.options&&(t=o.extend({},this.options,t));for(var e=0,n=w.length;n>e;e++){var r=w[e];t[r]&&(this[r]=t[r])}this.options=t},_ensureElement:function(){if(this.el)this.setElement(this.el,!1);else{var t=S(this,"attributes")||{};this.id&&(t.id=this.id),this.className&&(t["class"]=this.className),this.setElement(this.make(this.tagName,t),!1)}}});var C=function(t,e){var n=T(this,t,e);return n.extend=this.extend,n};u.extend=c.extend=h.extend=b.extend=C;var k={create:"POST",update:"PUT","delete":"DELETE",read:"GET"};t.sync=function(e,n,r){var i=k[e];r||(r={});var s={type:i,dataType:"json"};return r.url||(s.url=S(n,"url")||E()),r.data||!n||"create"!=e&&"update"!=e||(s.contentType="application/json",s.data=JSON.stringify(n.toJSON())),t.emulateJSON&&(s.contentType="application/x-www-form-urlencoded",s.data=s.data?{model:s.data}:{}),t.emulateHTTP&&("PUT"===i||"DELETE"===i)&&(t.emulateJSON&&(s.data._method=i),s.type="POST",s.beforeSend=function(t){t.setRequestHeader("X-HTTP-Method-Override",i)}),"GET"===s.type||t.emulateJSON||(s.processData=!1),a.ajax(o.extend(s,r))},t.wrapError=function(t,e,n){return function(r,i){i=r===e?i:r,t?t(e,i,n):e.trigger("error",e,i,n)}};var A=function(){},T=function(t,e,n){var r;return r=e&&e.hasOwnProperty("constructor")?e.constructor:function(){t.apply(this,arguments)},o.extend(r,t),A.prototype=t.prototype,r.prototype=new A,e&&o.extend(r.prototype,e),n&&o.extend(r,n),r.prototype.constructor=r,r.__super__=t.prototype,r},S=function(t,e){return t&&t[e]?o.isFunction(t[e])?t[e]():t[e]:null},E=function(){throw Error('A "url" property or function must be specified')}}).call(this);
define("backbone", ["underscore","jquery"], (function (global) {
    return function () {
        var ret, fn;
       fn = function (_, $) {
            _.noConflict();
            $.noConflict();
            return Backbone.noConflict();
          };
        ret = fn.apply(global, arguments);
        return ret || global.Backbone;
    };
}(this)));

(function(t){"function"==typeof define&&define.amd?define('js/lib/lucid',t):"object"!=typeof module&&"function"!=typeof module||!module.exports?window.LucidJS=t():module.exports=t()})(function(){function t(t){function e(t){function n(){if(h[t]){for(o=0;s.length>o;o+=1)h[t].splice(h[t].indexOf(s[o]),1);1>h[t].length&&delete h[t]}}function r(t,n){function r(){var t;for(t=0;a.length>t;t+=1)a[t].clear()}var i,o={},a=[];for(i=0;t.length>i;i+=1)n.unshift(t[i]),a.push(e.apply(this,n)),n.shift();return o.clear=r,o}var o,a,s=Array.prototype.slice.apply(arguments,[1]),l={};if("object"==typeof t&&"function"==typeof t.push)return r(t,s);if("emitter"!==t.slice(0,7)&&i("emitter.listener",t,s),p[t]){for(o=0;s.length>o;o+=1){if("function"!=typeof s[o])throw Error("Cannot bind event. All callbacks must be functions.");for(a=0;p[t].length>a;a+=1)s[o].apply(this,p[t][a])}return l.clear=function(){},l}for(h[t]||(h[t]=[]),o=0;s.length>o;o+=1){if("function"!=typeof s[o])throw Error("Cannot bind event. All callbacks must be functions.");h[t].push(s[o])}return l.clear=n,l}function n(t){var e,r,i=Array.prototype.slice.apply(arguments,[1]);if("object"!=typeof t||"function"!=typeof t.push){if(!h[t])throw Error('Tried to remove an event from a non-existant event of type "'+t+'".');for(e=0;i.length>e;e+=1){if("function"!=typeof i[e])throw Error("Tried to remove a non-function.");var o=h[t].indexOf(i[e]);h[t].splice(o,1)}}else for(r=0;t.length>r;r+=1)n.apply(null,[t[r]].concat(i))}function r(t){var n,r=Array.prototype.slice.apply(arguments,[1]),i=!0;return n=e(t,function(){var t,e=Array.prototype.slice.apply(arguments);for(n.clear(),t=0;r.length>t;t+=1)r[t].apply(this,e)===!1&&(i=!1);return i})}function i(t,e,n,r,o,a){function s(t,e,n,r,o,a){var s,u=!0;for(a!==void 0&&(l=Array.prototype.slice.apply(arguments,[1])),s=0;t.length>s;s+=1)l?(args.unshift(t[s]),i.apply(this,args)===!1&&(u=!1),args.shift()):i(t[s],e,n,r,o)===!1&&(u=!1);return u}var l,u,c,d=!0;if(a!==void 0&&(l=Array.prototype.slice.apply(arguments,[1])),"object"==typeof t&&"function"==typeof t.push)return l?s.apply(null,arguments):s(t,e,n,r,o);for(t=t.split(".");t.length;){if(c=h[t.join(".")],"emitter"!==t[0]&&(l?i.apply(this,[].concat("emitter.event",t.join("."),l)):i("emitter.event",e,n,r,o)),c)for(c=[].concat(c),u=0;c.length>u;u+=1)l?c[u].apply(this,l)===!1&&(d=!1):c[u](e,n,r,o)===!1&&(d=!1);t.pop()}return d}function o(t){function e(t,e){var n,r=!0;for(n=0;t.length>n;n+=1)e.unshift(t[n]),i.apply(this,e)===!1&&(r=!1),e.shift();return r}function n(){p[t]&&(p[t].splice(p[t].indexOf(r),1),1>p[t].length&&delete p[t])}var r=Array.prototype.slice.apply(arguments),o={};return"object"==typeof t&&"function"==typeof t.push?e(t,r):(i.apply(this,r),c(t),p[t]||(p[t]=[]),p[t].push(r.slice(1)),o.clear=n,o)}function a(t){t?delete p[t]:p={}}function s(t){function n(t,n){t.listenerBinding=e("emitter.listener",function(e){-1===t.events.indexOf(e)&&(t.bindings.push(r(n,e)),t.events.push(e))})}function r(t,e){return t.on(e,function(){var t=Array.prototype.slice.apply(arguments);return t.unshift(e),i.apply(this,t)})}function o(){if(y.length)for(;y.length;)y[0].clear(),y.splice(0,1)}function a(){for(;v.length;){for(v[0].listenerBinding&&v[0].listenerBinding.clear();v[0].bindings.length;)v[0].bindings[0].clear(),v[0].bindings.splice(0,1);m.splice(m.indexOf(v[0]),1),v.splice(0,1)}}var l,u,c,d,f,p={},g=Array.prototype.slice.apply(arguments),v=[],y=[];if("object"==typeof t&&"function"==typeof t.push&&"string"==typeof t[0]){for(l=0;t.length>l;l+=1)y.push(s.apply(null,[t[l]].concat(g)));return p.clear=o,p}if("object"==typeof t&&"function"==typeof t.on?t=!1:g.shift(),t!==!1&&"string"!=typeof t)throw Error("Cannot create pipe. The first argument must be an event string or an emitter.");for(u=0;g.length>u;u+=1){for(c=0;m.length>c;c+=1)if(m[c].emitter===g[u]){d=m[c];break}if((!d||2!==d.type)&&(d||(d={},d.emitter=g[u],d.bindings=[],d.events=[],d.type=t?1:2),-1===d.events.indexOf(t))){if(d.events.push(t),1===d.type)f=r(g[u],t),f.event=t,d.bindings.push(f);else if(2===d.type){for(t in h)h.hasOwnProperty(t)&&(f=g[u].on(t,r),f.event=t,d.bindings.push(f),d.events.push(t));n(d,g[u])}v.push(d),m.push(d)}}return p.clear=a,p}function l(t){var e,n;for(e=0;m.length>e;e+=1){if(t){if(2===m[e].type)continue;if(-1===m[e].events.indexOf(t))continue;m[e].events.splice(m[e].events.indexOf(t),1)}for(2===m[e].type&&m[e].listenerBinding.clear(),n=0;m[e].bindings.length>n;n+=1)t&&m[e].bindings[n].event!==t||(m[e].bindings[n].clear(),m[e].bindings.splice(n,1),n-=1);1>m[e].bindings.length&&(m.splice(e,1),e-=1)}}function u(t){return t?h[t]:h}function c(t){t?delete h[t]:h={}}function d(t){function n(){var e;for(e=0;a.length>e;e+=1)try{t.removeEventListener?t.removeEventListener(a[e].event,a[e].listener,!1):t.detachEvent&&t.detachEvent("on"+a[e].event,a[e].listener)}catch(n){console.error(n)}o=[],r.clear()}var r,o=[],a=[];r=e("emitter.listener",function(e){function n(t){var n=Array.prototype.slice.apply(arguments);n.unshift([e,"dom."+e]),i.apply(this,n)===!1&&(t.preventDefault(),t.stopPropagation())}if(!(o.indexOf(e)>-1)){o.push(e);try{t.addEventListener?(t.addEventListener(e,n,!1),a.push({event:e,listener:n})):t.attachEvent&&(t.attachEvent("on"+e,n),a.push({event:e,listener:n}))}catch(r){console.error(r)}}}),f.clearNodeEmitter=n}var f=t||{},h={},p={},m=[];return f.on||f.once||f.trigger||f.set||f.pipe||f.listeners?f:(f.on=e,f.off=n,f.once=r,f.trigger=i,f.set=o,f.set.clear=a,f.pipe=s,f.pipe.clear=l,f.listeners=u,f.listeners.clear=c,(f.addEventListener||f.attachEvent)&&d(f),f)}var e;return e={emitter:t},[].indexOf||(Array.prototype.indexOf=function(t,e,n){for(n=this.length,e=(n+~~e)%n;n>e&&(!(e in this)||this[e]!==t);e++);return e^n?e:-1}),e});
(function(){var t=function(t){var e=function(e,n,r){var i={},o=r||"";for(var a in n){var s=o+a.replace(/\./g,"-"),l=t(e).attr(s);i[a]=void 0===l?n[a]:"string"==typeof l&&0===l.length||/^\s*true\s*$/.test(l)||s==l?!0:/^\s*false\s*$/.test(l)?!1:l}return i},n={parse:e};return n};"function"==typeof define&&define.amd?define('js/lib/data.attributes',["jquery"],function(e){return t(e)}):"undefined"!=typeof window&&"undefined"==typeof ender&&(window.DataAttributes=t(window.$))})();
(function(){var t=function(t,o,i,e){var s=0,a=1,n={defaults:{"bind.open":"click","bind.close":"click","bind.esc":!0,"attribute.open":"data-modal","attribute.close":"data-modal-close","attribute.iframe":"data-modal-iframe","animate.modal.open":null,"animate.modal.close":null,"animate.modal.duration":250,"animate.overlay.open":null,"animate.overlay.close":null,"animate.overlay.duration":250,"overlay.show":!0,"overlay.class":"overlay","overlay.close":!1,"close.selector":!1,"close.esc":!0,"z.index":9999,"position.top":"50%","position.left":"50%",position:"fixed","iframe.autoclose":!0},$overlay:null,prevScroll:null,prevModal:null,getModal:function(o,i){var e=t(o).data("modal.me");return e&&e.constructor==l.prototype.constructor?i?e.customize(i):e:null},makeModal:function(o,i){var e=t(o),s=n.getModal(e);return s||(s=new l(e,i),e.data("modal.me",s)),s},setOverlayHeight:function(){t(window).height()<t(document).height()?n.$overlay.css({height:t(document).height()+"px"}):n.$overlay.css({height:"100%"})},observeKeyPress:function(t){(27==t.keyCode||27==t.DOM_VK_ESCAPE&&0===t.which)&&this.options["bind.esc"]&&this.close()},open:function(){if("fixed"!=this.options.position&&(n.prevScroll={top:t(document).scrollTop(),left:t(document).scrollLeft()},window.scrollTo(0,0)),this.$iframe){var o=this.options["iframe.url"]||t(this.anchor).attr(this.options["attribute.iframe"]);this.$iframe.attr("src",o),this.$iframe.focus()}else this.$el.focus();this.state=a,this.emitter.trigger("open")},close:function(){var t=this.$el.find("iframe");this.$el.off(".modal").hide(),this.options["iframe.autoclose"]&&t.size()&&t.attr({src:"about:blank"}),n.prevScroll&&(window.scrollTo(n.prevScroll.left,n.prevScroll.top),n.prevScroll=null),this.anchor=null,this.$parent.append(this.$el),this.state=s,this.emitter.trigger("close")}},l=function(i,e){this.$el=t(i),this.state=s,this.$parent=this.$el.parent(),this.customize(e),this.emitter=o.emitter(this)};l.prototype.customize=function(t){return this.options=i.extend({},e.parse(this.$el,n.defaults,"data-modal-"),t),this},l.prototype.open=function(){var o,e=this;return this.anchor&&(o=t(this.anchor).attr(this.options["attribute.iframe"])),this.options["iframe.url"]&&(o=this.options["iframe.url"]),o&&(this.$iframe=this.$el.find("iframe"),/^https?:\/\/|^\/|^\.\.\//.test(o)&&(this.$iframe.size()&&this.$iframe.attr("src")==o||(this.$iframe.attr("src","about:blank").remove(),this.$iframe=t("<iframe>").css({height:"100%",width:"100%"}).attr({scrolling:"no",frameborder:0}),this.$el.append(this.$iframe),this.state!=s&&this.$iframe.attr("src",o)))),this.state==s?(this.options["overlay.show"]&&(n.$overlay&&"none"!=n.$overlay.css("display")&&n.$overlay.hasClass(this.options["overlay.class"])?this.$overlay=n.$overlay:(n.$overlay&&n.$overlay.off(".modal").hide().remove(),this.$overlay=n.$overlay=t("<div>").addClass(this.options["overlay.class"]).hide(),this.$overlay.css({position:"fixed",width:"100%",top:0,left:0,right:0,bottom:0,zIndex:this.options["z.index"]++}),t("body").append(this.$overlay)),n.setOverlayHeight(),this.reposition(),this.options["animate.overlay.open"]?this.$overlay.animate(this.options["animate.overlay.open"],{duration:this.options["animate.overlay.duration"]}):this.$overlay.show(),this.$overlay.data("modal",this)),this.emitter.trigger("opening"),("fixed"!=this.options.position||0===this.$el.closest("html").length)&&this.$el.appendTo("body"),this.reposition(),this.$el.show(),this.options["animate.modal.open"]?this.$el.animate(this.options["animate.modal.open"],{duration:this.options["animate.modal.duration"],complete:function(){n.open.call(e)}}):n.open.call(this),t(window).on("resize.modal",i.bind(n.setOverlayHeight,e)).on("resize.modal",i.bind(e.reposition,e)).on("scroll.modal",i.bind(e.reposition,e)).on("keyup.modal",i.bind(n.observeKeyPress,e)),this.options["overlay.close"]&&this.$overlay.on(this.options["bind.close"]+".modal",function(){e.close()}),this.options["attribute.close"]&&this.$el.on(this.options["bind.close"]+".modal","["+this.options["attribute.close"]+"]",function(){"disabled"!=e.$el.attr("disabled")&&e.close()}),this):void 0},l.prototype.reposition=function(){var t=this.options["position.left"],o=this.options["position.top"];return t&&this.$el.css({position:this.options.position,left:t,marginLeft:/%/.test(t)?-1*(this.$el.outerWidth()/2):0,zIndex:this.options["z.index"]++}),o&&this.$el.css({position:this.options.position,top:o,marginTop:/%/.test(o)?-1*(this.$el.outerHeight()/2):0,zIndex:this.options["z.index"]++}),this},l.prototype.close=function(){var o=this;if(this.state==a)return this.$el.off(".modal"),t(window).off(".modal"),this.options["overlay.show"]&&this.$overlay&&(this.$overlay.off(".modal"),this.options["animate.overlay.close"]?this.$overlay.animate(this.options["animate.overlay.close"],{duration:this.options["animate.overlay.duration"],complete:function(){this.$overlay.hide().remove()}}):this.$overlay.hide().remove()),this.emitter.trigger("closing"),this.options["animate.modal.close"]?this.$el.animate(this.options["animate.modal.close"],{duration:this.options["animate.modal.duration"],complete:function(){n.close.call(o)}}):n.close.call(this),this};var r=function(){return n.getModal.apply(null,arguments)||n.makeModal.apply(this,arguments)};return r.start=function(o,s){var a=t(o),l=i.extend({},n.defaults,s);a.attr("modals-initialized")||(a.attr("modals-initialized",1),a.on(l["bind.open"]+".modal","["+l["attribute.open"]+"]",function(o){var s=t(this),r=s.attr(l["attribute.open"]),h=a.find(r);l=i.extend({},l,e.parse(h,n.defaults,"data-modal-"));var d=n.getModal(h,l)||n.makeModal(h,l);!/^https?:\/\/|^\/|^\.\.\//.test(s.attr("href"))||o.ctrlKey||o.metaKey||o.preventDefault(),d.anchor=this,n.prevModal=h[0],d.open()}))},r.stop=function(o){var i=t(o);i.unbind(".modal"),n.prevModal&&l(n.prevModal).close()},r.start("body"),r};"function"==typeof define&&define.amd?define('js/lib/modals',["jquery","js/lib/lucid","underscore","js/lib/data.attributes"],function(o,i,e,s){return t(o,i,e,s)}):"undefined"!=typeof window&&"undefined"==typeof ender&&(window.Modal=t(window.$,window.LucidJS,window._,window.DataAttributes))})();
define('js/lib/jade',[],function(){function r(r){return null!==r}var e={};return Array.isArray||(Array.isArray=function(r){return"[object Array]"==Object.prototype.toString.call(r)}),Object.keys||(Object.keys=function(r){var e=[];for(var t in r)r.hasOwnProperty(t)&&e.push(t);return e}),e.merge=function(e,t){var a=e["class"],n=t["class"];(a||n)&&(a=a||[],n=n||[],Array.isArray(a)||(a=[a]),Array.isArray(n)||(n=[n]),a=a.filter(r),n=n.filter(r),e["class"]=a.concat(n).join(" "));for(var s in t)"class"!=s&&(e[s]=t[s]);return e},e.attrs=function(r,t){var a=[],n=r.terse;delete r.terse;var s=Object.keys(r),c=s.length;if(c){a.push("");for(var i=0;c>i;++i){var o=s[i],u=r[o];"boolean"==typeof u||null===u?u&&(n?a.push(o):a.push(o+'="'+o+'"')):0===o.indexOf("data")&&"string"!=typeof u?a.push(o+"='"+JSON.stringify(u)+"'"):"class"==o&&Array.isArray(u)?a.push(o+'="'+e.escape(u.join(" "))+'"'):t&&t[o]?a.push(o+'="'+e.escape(u)+'"'):a.push(o+'="'+u+'"')}}return a.join(" ")},e.escape=function(r){return(r+"").replace(/&(?!(\w+|\#\d+);)/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")},e.rethrow=function(r,e,t){if(!e)throw r;throw r.path=e,r.message=(e||"Jade")+":"+t+"\n"+3+"\n\n"+r.message,r},e});
(function(wndw){var jadify=function(jade){return function anonymous(locals,attrs,escape,rethrow,merge){attrs=attrs||jade.attrs,escape=escape||jade.escape,rethrow=rethrow||jade.rethrow,merge=merge||jade.merge;var buf=[];with(locals||{})buf.push('<div class="hide confirm-navigation modal"><div class="modal-header"><h3>Confirm Navigation</h3></div><div class="modal-body"><div class="confirm-navigation-message"></div><div>Are you sure you want to leave this page?</div></div><div class="modal-footer"><button data-modal-close="data-modal-close" class="btn confirm-navigation-stay">Stay on this Page</button><button data-modal-close="data-modal-close" class="btn btn-danger confirm-navigation-leave">Leave this Page</button></div></div>');return buf.join("")}};"function"==typeof define&&define.amd?define('js/core/confirmNavigation.html',["js/lib/jade"],function(t){return jadify(t)}):wndw.jade.templates.confirmNavigation=jadify(wndw.jade.helpers)})(window);
define('js/core/origami',["jquery","underscore","backbone","require","js/lib/modals","js/core/confirmNavigation.html"],function(t,e,n,r,i,o){n.View.prototype._super=function(t){return this.constructor.__super__[t].apply(this,e.rest(arguments))};var a={current:null,body:"#origami",views:{},beforeUnloadMessage:"There are unsaved changes that will be lost if you reload or leave this page.",regionHasUnsavedModel:function(t){if(!t)return!1;var e=t.view.hasUnsavedModel?t.view.hasUnsavedModel():!1;if(e)return!0;for(var n in t.regions){var r=t.regions[n];if(a.regionHasUnsavedModel(r))return!0}return!1}},s=n.Router.extend({initialize:function(){var e=this;e.routePrefix="",e.linkClass="internal",t("body").on("click","a.internal",function(n){n.ctrlKey||n.metaKey||(n.preventDefault(),e.navigate(t(n.currentTarget).attr("href"),!0))}),this.$confirmNavigation=t(o()),t("body").append(this.$confirmNavigation),t(window).on("beforeunload.origami",function(){return a.regionHasUnsavedModel(a.current)?a.beforeUnloadMessage:void 0})},setupLinks:function(e,n){var r=this;this.routePrefix=e,this.linkClass=n,t("body").on("click","a."+this.linkClass,function(e){e.ctrlKey||e.metaKey||(e.preventDefault(),r.navigateTo(t(e.currentTarget).attr("href"),!0))})},navigateTo:function(t,e){this.navigate(t.replace(this.routePrefix,""),e)},navigate:function(e,r){if(a.current&&a.regionHasUnsavedModel(a.current)){var o=t(".confirm-navigation-message");o.text(a.beforeUnloadMessage);var s=t(".confirm-navigation-leave");s.one("click",function(){n.Router.prototype.navigate.call(this,e,r)});var l={"overlay.class":"coursera-overlay"};i(".confirm-navigation",l).open()}else n.Router.prototype.navigate.call(this,e,r)},addRoutes:function(t){var e=this;for(var r in t)e.route(r,r,t[r]),e.route(r+"/",r+"/",function(){var t=n.history.getFragment(),r=t.replace(/\/(?:\?.*)*$/,"");e.navigate(r,{trigger:!0,replace:!0})})}}),l={resize:function(e,n,r){t("body").append(n.$el.css({visibility:"hidden"}));var i={from:e.$el.outerHeight(),to:n.$el.outerHeight()};e.$el.animate({height:i.to},300,function(){e.$el.replaceWith(n.$el.css({visibility:"visible"})),n.$el.find("img").on("load",function(){n.$el.animate({height:n.$el.outerHeight()})}),r&&r()})},slideLeft:function(e,n,r){var i=e.$el,o=n.$el,a=i.position(),s=i.outerWidth(),l=i.outerHeight(),u=t("<div>").css({position:"relative",width:s,height:l}),c={position:o.css("absolute")||"static",width:o.get(0).style.width,left:o.get(0).style.left},d={position:i.css("absolute")||"static",width:i.get(0).style.width,left:i.get(0).style.left};i.wrap(u),i.css({width:s,left:a.left,position:"absolute"}),o.css({width:s,left:a.left+s,position:"absolute"}),i.parent().append(o),i.animate({left:-s},{duration:500,step:function(t){o.css({left:a.left+s+t})},complete:function(){o.css(c),i.css(d).hide(),i.unwrap(),r&&r()}})},slideRight:function(e,n,r){var i=e.$el,o=n.$el,a=i.position(),s=i.outerWidth(),l=i.outerHeight(),u=t("<div>").css({position:"relative",width:s,height:l}),c={position:o.css("absolute")||"static",width:o.get(0).style.width,left:o.get(0).style.left},d={position:i.css("absolute")||"static",width:i.get(0).style.width,left:i.get(0).style.left};i.wrap(u),i.css({width:s,left:a.left,position:"absolute"}),o.css({width:s,left:-(a.left+s),position:"absolute"}),i.parent().append(o),i.animate({left:s},{duration:500,step:function(t){o.css({left:-(a.left+s)+t})},complete:function(){o.css(c),i.css(d).hide(),i.unwrap(),r&&r()}})},replace:function(t,e,n){t.$el.replaceWith(e.el),n&&n()}},u=function(e,n){var r=this,i=n||{};r.type=e,r.animate=i.animate||{},r.regions=i.regions||{},r.initialize=i.initialize||{},r.options={},r.id=i.id||e.prototype.name,r.name=e.prototype.name,r.view=null,r.regions=t.extend(!0,{},e.prototype.subregions,i.regions||{})};u.prototype.close=function(t){var n=this;e.each(n.regions,function(e,r){delete n.regions[r],e.close(t)}),t||n.view.remove(),n.view.undelegateEvents(),n.view.trigger("view:closed"),n.view.off("view")},u.prototype.closing=function(){this.view.trigger("view:closing"),delete a.views[this.view.cid]},u.prototype.render=function(t){var n=this;return e.each(n.regions,function(t){t.render(),t.parent=n}),n.view=new n.type(n.initialize),n.view.region=n,n.view.render(n.render),t&&n.view.on("view:appended",function(){t.trigger("region:appended",{name:n.name})}),n},u.prototype.appended=function(){var t=this;t.view&&setTimeout(function(){t.view.trigger("view:appended")},0)},u.prototype.is=function(t){return t.type==this.type&&t.id==this.id},u.prototype.replace=function(t,n){var r=this,i="replace",o={incoming:t.view.animate,outgoing:r.view.animate};e.isString(o.incoming)?i=o.incoming:e.isFunction(o.incoming)?i=o.incoming():e.isString(o.outgoing)?i=o.outgoing:e.isFunction(o.outgoing)&&(i=o.outgoing()),l[i]||(i="replace"),l[i](r.view,t.view,n)},u.prototype.merge=function(t,n){var r=this;r.is(t)?e.each(t.regions,function(t,e){r.regions[e].view.trigger("view:merging",t.initialize),r.regions[e].merge(t,n),r.regions[e].view.trigger("view:merged",t.initialize)}):r.name==t.name&&(r.closing(),t.render(n),r.replace(t,function(){r.parent&&(r.parent.regions[t.name]=t,t.parent=r.parent,r.parent.appended()),r.close(),t.appended()}))};var c=function(n,i){var o=this;a.body=n,a.current=i,t(window).on("resize",function(){for(var t in a.views)a.views[t].trigger("view:resize")}),this.region={make:function(t,e){return new u(t,e)},fetch:function(t,n,i){var a=e.uniqueId();o.trigger("region:fetching",{name:t,uid:a}),r([t],function(e){o.trigger("region:fetched",{name:t,uid:a}),i(new u(e,n))})},append:function(t,e,n,r){t||(t={regions:{}});var i=function(n){for(var i=e,a=0;t.regions[i];)i+=++a;return t.regions[i]=n,n.render(o),r&&r(n),n.appended(),o.trigger("region:rendered",{name:n}),n};return"string"!=typeof e?i(new u(e,n)):(o.region.fetch(e,n,i),void 0)},open:function(n,r){var i=n,s={};e.isObject(n)&&(i=e.keys(n)[0],s=n[i]),o.region.fetch(i,s,r||function(n){var r=e.after(e.keys(n.regions||{}).length,function(){if(a.current){if(a.current.is(n))return a.current.merge(n,o),void 0;if(a.current.name==n.name)return n.render(o),a.current.replace(n,function(){a.current.close(),a.current=n,a.current.appended()}),void 0;a.current.close(!0)}a.current=n,t(a.body).html(a.current.render(o).view.el),a.current.appended(),e.each(a.current.regions,function(t){t.appended()})});e.each(n.regions,function(t,e){o.region.open(t,function(t){n.regions[e]=t,r(o)})})})}},this.animate=l,this.router=new s,this.store={},this.tracker=[]};return e.extend(c.prototype,n.Events),c});
(function(wndw) {    var config = {"out":"js/core/config.js","debug":false,"url":{"maestro":"/maestro/api/","base":"https://www.coursera.org/","api":"/maestro/api/","cloudfront_api":"https://d1hpa2gdx2lr6r.cloudfront.net/maestro/api/","assets":"https://dt5zaw6a98blc.cloudfront.net/site-static/","app_assets":"https://dt5zaw6a98blc.cloudfront.net/site-static/b7464ac7970b5276d2b79b5445438b53426f27b0/"},"dir":{"home":"/"}};   if(typeof define === "function" && define.amd) {     define('js/core/config',[], function() {       return config;     });   } else {     return wndw.configure = config;    }})(window);
define('js/lib/supports',[],function(){var t={},e="supports-";return document.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#Image","1.1")&&(document.documentElement.className=e+"svg",t.svg=!0),window.XMLHttpRequest&&"withCredentials"in new window.XMLHttpRequest&&0>navigator.userAgent.indexOf("MSIE 10.0")&&(t.cors=!0),t});
define('js/lib/third-parties',["underscore","jquery"],function(t){var n={loadScript:function(t,n,e){var o=document.createElement("script"),i=document.getElementsByTagName("script");o.type="text/javascript",o.async=!0,o.src=t,e&&(o.innerHTML=e),n&&(o.onload=o.onreadystatechange=function(){o.onreadystatechange=o.onload=null,n()}),i&&i.length?i[0].parentNode.insertBefore(o,i[0]):window.document&&window.document.body&&window.document.body.appendChild(o)},isDefined:function(t,n){for(var e=n.split("."),o=e.shift(),i=t;o;)i[o]?(i=i[o],o=e.shift()):(i=null,o=null);return null!==i},ready:function(o,a){if(n.isDefined(window,o))a.call();else{var l=o.split(".")[0];t.isArray(e[o])?e[o].push(a):(e[o]=[a],i[l].call(null,o))}}},e={},o=function(t){if(n.isDefined(window,t))for(t.split(".")[0];e[t]&&e[t].length;)e[t].pop().call();else window.setTimeout(function(){o(t)},100)},i={IN:function(t){var e="itsThirdPartyTime"+(new Date).getTime();window[e]=function(){delete window[e],o(t)},n.loadScript("https://platform.linkedin.com/in.js",function(){},"onLoad:"+e+"\napi_key: "+"v7ah6tdxsqt6")},google:function(t){var e;/^google\.maps.places/.test(t)&&(e="itsThirdPartyTime"+(new Date).getTime(),window[e]=function(){delete window[e],o(t)},n.loadScript("https://maps.googleapis.com/maps/api/js?sensor=false&key=AIzaSyCzodUI0p0hH-8n6tZ45vMNlaNfKEpuEMU&libraries=places&callback="+e)),/^google\.maps\.Map/.test(t)&&(e="itsThirdPartyTime"+(new Date).getTime(),window[e]=function(){delete window[e],o(t)},n.loadScript("https://maps.googleapis.com/maps/api/js?sensor=false&key=AIzaSyCzodUI0p0hH-8n6tZ45vMNlaNfKEpuEMU&callback="+e))},FB:function(t){n.loadScript("https://connect.facebook.net/en_US/all.js#xfbml=1&appId=274998519252278",function(){o(t)})},gapi:function(t){window.___gcfg={lang:"en-US",parsetags:"explicit"},n.loadScript("https://apis.google.com/js/plusone.js",function(){delete window.___gcfg,o(t)})},twttr:function(t){n.loadScript("https://platform.twitter.com/widgets.js",function(){o(t)})},MathJax:function(t){n.loadScript("https://d2265nx4vomwra.cloudfront.net/2.1/MathJax.js?delayStartupUntil=configured",function(){o(t)})}};return n});
define('js/core/coursera',["js/core/origami","js/core/config","jquery","underscore","backbone","js/lib/supports","js/lib/third-parties"],function(e,t,n,r,o,i,a){var s=new e("#origami");return s.config=t,s.supports=i,window.console=window.console||{},window.console.log=window.console.log||function(){},window.onerror=function(e,t,n){if(t=t||window.location.href,void 0!==n&&null!=n){e.target&&e.type&&(e=e.type),e.indexOf||(e="Non-string, non-event error: "+typeof e);var r={message:e,script:t,line:n,url:document.URL};s.tracker.push("page.error.javascript",r)}},requirejs.onError=function(e){s.tracker.push("page.error.requirejs",{url:location.href,message:e.message,type:e.requireType,modules:e.requireModules});var t=e.message.match(/context:\s*(.*)\s*\n/);if(t&&"_"==t[1]){var r="<div>oooops! something unexpected happened, please <a href='"+location.href+"'>refresh</a> your browser</div>",o=n("<div>").addClass("fullscreen");s.message.add(n(r).addClass("message")),o.appendTo("body").show()}},n(document).ready(function(){s.config.debug||(requirejs.config({context:"204js",paths:{_204:"https://eventing.coursera.org/204.min"}})(["_204"],function(e){e&&(s.tracker=e.batch(s.tracker),s.multitracker&&(s.multitracker.courseraTracker=e.batch(s.multitracker.courseraTracker)))}),window._gaq=[["_setAccount","UA-28377374-1"],["_setDomainName","coursera.org"],["_setAllowLinker",!0],["_trackPageview"]],a.loadScript(("https:"==document.location.protocol?"https://ssl":"http://www")+".google-analytics.com/ga.js"),s.router.on("all",function(){window._gaq.push(["_trackPageview",s.config.dir.home+o.history.getFragment()]),s.tracker.push({key:"pageview"})}))}),o.noConflict(),n.noConflict(),r.noConflict(),s});
(function(t){var e=function(t){var e=function(e,n,r){if(arguments.length>1&&(!/Object/.test(Object.prototype.toString.call(n))||null===n||void 0===n)){if(r=t.extend({},r),(null===n||void 0===n)&&(r.expires=-1),r.path||(r.path="/"),"number"==typeof r.expires){var i=r.expires,o=r.expires=new Date;o.setDate(o.getDate()+i)}return n+="",document.cookie=[encodeURIComponent(e),"=",r.raw?n:encodeURIComponent(n),r.expires?"; expires="+r.expires.toUTCString():"",r.path?"; path="+r.path:"",r.domain?"; domain="+r.domain:"",r.secure?"; secure":""].join("")}r=n||{};for(var a,s=r.raw?function(t){return t}:decodeURIComponent,l=document.cookie.split("; "),u=0;l[u];u++)if(a=l[u].split("="),s(a[0])===e)return s(a[1]||"");return null};return{get:e,set:e,clear:function(t,n){for(var r=document.cookie.split("; "),i=0;r.length>i;i++){var o=r[i].indexOf("="),a=o>-1?r[i].substr(0,o):r[i];t&&t!=a||e(a,null,n)}}}};"function"==typeof define&&define.amd?define('js/lib/cookie',["jquery"],function(t){return e(t)}):"undefined"!=typeof window&&"undefined"==typeof ender&&(t.Cookie=e(t.$))})(window);
(function(){var JSON;JSON||(JSON={});var json=function(){function f(t){return 10>t?"0"+t:t}function quote(t){return escapable.lastIndex=0,escapable.test(t)?'"'+t.replace(escapable,function(t){var e=meta[t];return"string"==typeof e?e:"\\u"+("0000"+t.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+t+'"'}function str(t,e){var n,r,i,o,a,s=gap,u=e[t];switch(u&&"object"==typeof u&&"function"==typeof u.toJSON&&(u=u.toJSON(t)),"function"==typeof rep&&(u=rep.call(e,t,u)),typeof u){case"string":return quote(u);case"number":return isFinite(u)?u+"":"null";case"boolean":case"null":return u+"";case"object":if(!u)return"null";if(gap+=indent,a=[],"[object Array]"===Object.prototype.toString.apply(u)){for(o=u.length,n=0;o>n;n+=1)a[n]=str(n,u)||"null";return i=0===a.length?"[]":gap?"[\n"+gap+a.join(",\n"+gap)+"\n"+s+"]":"["+a.join(",")+"]",gap=s,i}if(rep&&"object"==typeof rep)for(o=rep.length,n=0;o>n;n+=1)"string"==typeof rep[n]&&(r=rep[n],i=str(r,u),i&&a.push(quote(r)+(gap?": ":":")+i));else for(r in u)Object.prototype.hasOwnProperty.call(u,r)&&(i=str(r,u),i&&a.push(quote(r)+(gap?": ":":")+i));return i=0===a.length?"{}":gap?"{\n"+gap+a.join(",\n"+gap)+"\n"+s+"}":"{"+a.join(",")+"}",gap=s,i}}"function"!=typeof Date.prototype.toJSON&&(Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z":null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(){return this.valueOf()});var cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,escapable=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,gap,indent,meta={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},rep;"function"!=typeof JSON.stringify&&(JSON.stringify=function(t,e,n){var r;if(gap="",indent="","number"==typeof n)for(r=0;n>r;r+=1)indent+=" ";else"string"==typeof n&&(indent=n);if(rep=e,e&&"function"!=typeof e&&("object"!=typeof e||"number"!=typeof e.length))throw Error("JSON.stringify");return str("",{"":t})}),"function"!=typeof JSON.parse&&(JSON.parse=function(text,reviver){function walk(t,e){var n,r,i=t[e];if(i&&"object"==typeof i)for(n in i)Object.prototype.hasOwnProperty.call(i,n)&&(r=walk(i,n),void 0!==r?i[n]=r:delete i[n]);return reviver.call(t,e,i)}var j;if(text+="",cx.lastIndex=0,cx.test(text)&&(text=text.replace(cx,function(t){return"\\u"+("0000"+t.charCodeAt(0).toString(16)).slice(-4)})),/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return j=eval("("+text+")"),"function"==typeof reviver?walk({"":j},""):j;throw new SyntaxError("JSON.parse")})};"function"==typeof define&&define.amd?define('js/lib/json2',[],function(){return json(),JSON}):"undefined"!=typeof window&&"undefined"==typeof ender&&(json(),window.JSON=JSON)})();
(function(t){var e=0,n=function(t,n,i,r){var o={defaults:{type:"normal","csrf.token":"X-CSRFToken","csrf.cookie":"csrftoken","csrf.path":null,"csrf.domain":null,"emulate.patch":!0,"emulate.put":!1,"emulate.delete":!1},csrfGet:function(){var t=i.get(this.options["csrf.cookie"]);return t?t:o.csrfSet.call(this,o.csrfMake())},csrfClear:function(){i.clear(this.options["csrf.cookie"],{secure:this.options["csrf.secure"],path:this.options["csrf.path"],domain:this.options["csrf.domain"]})},csrfSet:function(t){return i.set(this.options["csrf.cookie"],t,{secure:this.options["csrf.secure"],path:this.options["csrf.path"],domain:this.options["csrf.domain"],expires:new Date((new Date).getTime()+6e4)}),t},csrfMake:function(t,e){var n=[];e=e||"0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",t=t||24;for(var i=0;t>i;i++)n.push(e[Math.floor(Math.random()*e.length)]);return n.join("")},invoke:function(i,r){var a,s=r||{},l="GET"==s.type?s.data:null;a=0!==i.indexOf("http")?this.root+i:i;var u=function(t,e){this.remove(e.options.id)},c=s.message||{},d=c.codes?n.keys(c.codes):[],f=this.options.message,h=this;delete s.message,"GET"!=s.type&&"rest"==this.options.type&&(s.contentType="application/json; charset=utf-8",s.processData=!1,s.data=JSON.stringify(s.data)),s.beforeSend=function(){e++};var p=t.ajax(a,s);if(f){if(c.waiting){var m=f.add(t("<div>").append(c.waiting).addClass("waiting"),{delay:1500});p.always(function(){f.remove(m)})}(c.success||c.codes&&300>n.min(d))&&p.done(function(e){c.codes&&c.codes[e.status]?f.add(t("<div>").append(c.codes[e.status]).addClass("success"),{timeout:500}):c.success&&f.add(t("<div>").append(c.success).addClass("success"),{timeout:500})}),(c.error||c.timeout||c.codes&&n.max(d)>=300)&&p.fail(function(e,n){c.timeout&&"timeout"==n?f.add(t("<div>").append(c.timeout).addClass("error"),{events:{click:u}}):c.codes&&c.codes[e.status]?f.add(t("<div>").append(c.codes[jsXHR.status]).addClass("error"),{events:{click:u}}):c.error&&f.add(t("<div>").append(c.error).addClass("error"),{events:{click:u}})})}var g=(new Date).getTime();return h.trigger("send",{xhr:p,url:a}),p.always(function(){0===--e&&o.csrfClear.call(h),h.trigger("always",{xhr:p,url:a,params:l,timing:(new Date).getTime()-g})}),p.fail(function(){h.trigger("fail",{xhr:p,url:a,params:l})}),p},restify:function(t,e){var n=e||{};switch(n.data=n.data||{},n.headers=n.headers||{},t){case"POST":n.type="POST";break;case"PATCH":this.options["emulate.patch"]?(n.type="POST",n.headers["X-HTTP-Method-Override"]="PATCH"):n.type="PATCH";break;case"PUT":this.options["emulate.put"]?(n.type="POST",n.headers["X-HTTP-Method-Override"]="PUT"):n.type="PUT";break;case"DELETE":this.options["emulate.delete"]?(n.type="POST",n.headers["X-HTTP-Method-Override"]="DELETE"):n.type="DELETE";break;default:n.type="GET"}return"GET"!=n.type&&(n.headers[this.options["csrf.token"]]=o.csrfGet.call(this)),n}},a=function(t,e){this.root=t,this.options=n.extend({},o.defaults,e)};return a.prototype.get=function(t,e){return o.invoke.call(this,t,o.restify.call(this,"GET",e))},a.prototype.patch=function(t,e){return o.invoke.call(this,t,o.restify.call(this,"PATCH",e))},a.prototype["delete"]=function(t,e){return o.invoke.call(this,t,o.restify.call(this,"DELETE",e))},a.prototype.post=function(t,e){return o.invoke.call(this,t,o.restify.call(this,"POST",e))},a.prototype.put=function(t,e){return o.invoke.call(this,t,o.restify.call(this,"PUT",e))},n.extend(a.prototype,r.Events),function(t,e){return new a(t,e)}};"function"==typeof define&&define.amd?define('js/lib/api',["jquery","underscore","js/lib/cookie","backbone","js/lib/json2"],function(t,e,i,r){return n(t,e,i,r)}):t.API=n(t.$,t._,t.Cookie,t.Backbone)})(window);
define('js/lib/asyncMessages',["jquery","underscore","js/lib/cookie","backbone"],function(t,e,n,i){var r={defaults:{selector:null},defaults_item:{timeout:0},item_remove:function(t){var n=e.indexOf(this.stack,t.options.id);if(-1!=n){this.stack.splice(n,1);for(var i in t.options.events)t.$ele.off(i+".asyncMessage");t.$ele.remove()}delete this.items[t.options.id]},item_show:function(t){var e=this;if(this.stack.length){var n=this.items[this.stack[0]];n&&n.$ele.remove()}this.$container.append(t.$ele),this.trigger("showing",t.$ele),this.$container.show(),this.stack.unshift(t.options.id),this.trigger("show",t),t.options.timeout&&setTimeout(function(){e.trigger("hiding",t),e.remove(t.options.id),e.trigger("hide",t)},t.options.timeout);for(var i in t.options.events)t.$ele.on(i+".asyncMessage",function(n){t.options.events[i].call(e,n,t)})}},o=function(e,n){this.options=t.extend({},r.defaults,n),this.$ele=t(e||t("<div>").appendTo("body")),this.$container=this.options.selector?this.$ele.find(this.options.selector):this.$ele,this.stack=[],this.items={}};return o.prototype.add=function(n,i){var o=t(n),a=t.extend({},r.defaults_item,i),s=this;if(a.id=a.id||e.uniqueId(),e.has(this.items,a.id))return a.id;this.items[a.id]={$ele:o,options:a,timer:null};var l=function(){s.stack.length||s.trigger("opening"),r.item_show.call(s,s.items[a.id]),1==s.stack.length&&s.trigger("open")};return a.delay?this.items[a.id].timer=setTimeout(l,a.delay):l(),a.id},o.prototype.remove=function(t){var e=this.items[t];if(e)if(clearTimeout(e.timer),1==this.stack.length)this.trigger("closing"),r.item_remove.call(this,e),this.$container.hide(),this.trigger("close");else{if(this.stack.length){var n=this.items[this.stack.shift()];n&&r.item_show.call(this,n)}r.item_remove.call(this,e)}},e.extend(o.prototype,i.Events),{create:function(t,e){return new o(t,e)}}});
(function(t,e){function n(t,e){this._d=t,this._isUTC=!!e}function r(t){return 0>t?Math.ceil(t):Math.floor(t)}function i(t){var e=this._data={},n=t.years||t.y||0,i=t.months||t.M||0,o=t.weeks||t.w||0,a=t.days||t.d||0,s=t.hours||t.h||0,l=t.minutes||t.m||0,c=t.seconds||t.s||0,u=t.milliseconds||t.ms||0;this._milliseconds=u+1e3*c+6e4*l+36e5*s,this._days=a+7*o,this._months=i+12*n,e.milliseconds=u%1e3,c+=r(u/1e3),e.seconds=c%60,l+=r(c/60),e.minutes=l%60,s+=r(l/60),e.hours=s%24,a+=r(s/24),a+=7*o,e.days=a%30,i+=r(a/30),e.months=i%12,n+=r(i/12),e.years=n}function o(t,e){for(var n=t+"";e>n.length;)n="0"+n;return n}function a(t,e,n){var r,i=e._milliseconds,o=e._days,a=e._months;i&&t._d.setTime(+t+i*n),o&&t.date(t.date()+o*n),a&&(r=t.date(),t.date(1).month(t.month()+a*n).date(Math.min(r,t.daysInMonth())))}function s(t){return"[object Array]"===Object.prototype.toString.call(t)}function l(e){return new t(e[0],e[1]||0,e[2]||1,e[3]||0,e[4]||0,e[5]||0,e[6]||0)}function c(e,n){function r(n){var v,y;switch(n){case"M":return i+1;case"Mo":return i+1+g(i+1);case"MM":return o(i+1,2);case"MMM":return x.monthsShort[i];case"MMMM":return x.months[i];case"D":return a;case"Do":return a+g(a);case"DD":return o(a,2);case"DDD":return v=new t(s,i,a),y=new t(s,0,1),~~((v-y)/864e5+1.5);case"DDDo":return v=r("DDD"),v+g(v);case"DDDD":return o(r("DDD"),3);case"d":return l;case"do":return l+g(l);case"ddd":return x.weekdaysShort[l];case"dddd":return x.weekdays[l];case"w":return v=new t(s,i,a-l+5),y=new t(v.getFullYear(),0,4),~~((v-y)/864e5/7+1.5);case"wo":return v=r("w"),v+g(v);case"ww":return o(r("w"),2);case"YY":return o(s%100,2);case"YYYY":return s;case"a":return m?m(u,d,!1):u>11?"pm":"am";case"A":return m?m(u,d,!0):u>11?"PM":"AM";case"H":return u;case"HH":return o(u,2);case"h":return u%12||12;case"hh":return o(u%12||12,2);case"m":return d;case"mm":return o(d,2);case"s":return h;case"ss":return o(h,2);case"S":return~~(f/100);case"SS":return o(~~(f/10),2);case"SSS":return o(f,3);case"Z":return(0>p?"-":"+")+o(~~(Math.abs(p)/60),2)+":"+o(~~(Math.abs(p)%60),2);case"ZZ":return(0>p?"-":"+")+o(~~(10*Math.abs(p)/6),4);case"L":case"LL":case"LLL":case"LLLL":case"LT":return c(e,x.longDateFormat[n]);default:return n.replace(/(^\[)|(\\)|\]$/g,"")}}var i=e.month(),a=e.date(),s=e.year(),l=e.day(),u=e.hours(),d=e.minutes(),h=e.seconds(),f=e.milliseconds(),p=-e.zone(),g=x.ordinal,m=x.meridiem;return n.replace(N,r)}function u(t){switch(t){case"DDDD":return D;case"YYYY":return P;case"S":case"SS":case"SSS":case"DDD":return I;case"MMM":case"MMMM":case"ddd":case"dddd":case"a":case"A":return L;case"Z":case"ZZ":return B;case"T":return H;case"MM":case"DD":case"dd":case"YY":case"HH":case"hh":case"mm":case"ss":case"M":case"D":case"d":case"H":case"h":case"m":case"s":return O;default:return RegExp(t.replace("\\",""))}}function d(t,e,n,r){var i;switch(t){case"M":case"MM":n[1]=null==e?0:~~e-1;break;case"MMM":case"MMMM":for(i=0;12>i;i++)if(x.monthsParse[i].test(e)){n[1]=i;break}break;case"D":case"DD":case"DDD":case"DDDD":n[2]=~~e;break;case"YY":e=~~e,n[0]=e+(e>70?1900:2e3);break;case"YYYY":n[0]=~~Math.abs(e);break;case"a":case"A":r.isPm="pm"===(e+"").toLowerCase();break;case"H":case"HH":case"h":case"hh":n[3]=~~e;break;case"m":case"mm":n[4]=~~e;break;case"s":case"ss":n[5]=~~e;break;case"S":case"SS":case"SSS":n[6]=~~(1e3*("0."+e));break;case"Z":case"ZZ":r.isUTC=!0,i=(e+"").match(q),i&&i[1]&&(r.tzh=~~i[1]),i&&i[2]&&(r.tzm=~~i[2]),i&&"+"===i[0]&&(r.tzh=-r.tzh,r.tzm=-r.tzm)}}function h(e,n){var r,i,o=[0,0,1,0,0,0,0],a={tzh:0,tzm:0},s=n.match(N);for(r=0;s.length>r;r++)i=(u(s[r]).exec(e)||[])[0],e=e.replace(u(s[r]),""),d(s[r],i,o,a);return a.isPm&&12>o[3]&&(o[3]+=12),a.isPm===!1&&12===o[3]&&(o[3]=0),o[3]+=a.tzh,o[4]+=a.tzm,a.isUTC?new t(t.UTC.apply({},o)):l(o)}function f(t,e){var n,r=Math.min(t.length,e.length),i=Math.abs(t.length-e.length),o=0;for(n=0;r>n;n++)~~t[n]!==~~e[n]&&o++;return o+i}function p(t,e){var r,i,o,a,s,l=t.match(R)||[],u=99;for(o=0;e.length>o;o++)a=h(t,e[o]),i=c(new n(a),e[o]).match(R)||[],s=f(l,i),u>s&&(u=s,r=a);return r}function g(e){var n,r="YYYY-MM-DDT";if(F.exec(e)){for(n=0;4>n;n++)if($[n][1].exec(e)){r+=$[n][0];break}return B.exec(e)?h(e,r+" Z"):h(e,r)}return new t(e)}function m(t,e,n,r){var i=x.relativeTime[t];return"function"==typeof i?i(e||1,!!n,t,r):i.replace(/%d/i,e||1)}function v(t,e){var n=A(Math.abs(t)/1e3),r=A(n/60),i=A(r/60),o=A(i/24),a=A(o/365),s=45>n&&["s",n]||1===r&&["m"]||45>r&&["mm",r]||1===i&&["h"]||22>i&&["hh",i]||1===o&&["d"]||25>=o&&["dd",o]||45>=o&&["M"]||345>o&&["MM",A(o/30)]||1===a&&["y"]||["yy",a];return s[2]=e,s[3]=t>0,m.apply({},s)}function y(t,e){x.fn[t]=function(t){var n=this._isUTC?"UTC":"";return null!=t?(this._d["set"+n+e](t),this):this._d["get"+n+e]()}}function b(t){x.duration.fn[t]=function(){return this._data[t]}}function w(t,e){x.duration.fn["as"+t]=function(){return+this/e}}var x,C,k="1.6.2",A=Math.round,S={},T="en",_="undefined"!=typeof module,E="months|monthsShort|monthsParse|weekdays|weekdaysShort|longDateFormat|calendar|relativeTime|ordinal|meridiem".split("|"),M=/^\/?Date\((\-?\d+)/i,N=/(\[[^\[]*\])|(\\)?(Mo|MM?M?M?|Do|DDDo|DD?D?D?|dddd?|do?|w[o|w]?|YYYY|YY|a|A|hh?|HH?|mm?|ss?|SS?S?|zz?|ZZ?|LT|LL?L?L?)/g,R=/([0-9a-zA-Z\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+)/gi,O=/\d\d?/,I=/\d{1,3}/,D=/\d{3}/,P=/\d{4}/,L=/[0-9a-z\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+/i,B=/Z|[\+\-]\d\d:?\d\d/i,H=/T/i,F=/^\s*\d{4}-\d\d-\d\d(T(\d\d(:\d\d(:\d\d(\.\d\d?\d?)?)?)?)?([\+\-]\d\d:?\d\d)?)?/,j="YYYY-MM-DDTHH:mm:ssZ",$=[["HH:mm:ss.S",/T\d\d:\d\d:\d\d\.\d{1,3}/],["HH:mm:ss",/T\d\d:\d\d:\d\d/],["HH:mm",/T\d\d:\d\d/],["HH",/T\d\d/]],q=/([\+\-]|\d\d)/gi,z="Month|Date|Hours|Minutes|Seconds|Milliseconds".split("|"),W={Milliseconds:1,Seconds:1e3,Minutes:6e4,Hours:36e5,Days:864e5,Months:2592e6,Years:31536e6};for(x=function(r,i){if(null===r||""===r)return null;var o,a,c;return x.isMoment(r)?(o=new t(+r._d),c=r._isUTC):i?o=s(i)?p(r,i):h(r,i):(a=M.exec(r),o=r===e?new t:a?new t(+a[1]):r instanceof t?r:s(r)?l(r):"string"==typeof r?g(r):new t(r)),new n(o,c)},x.utc=function(e,r){return s(e)?new n(new t(t.UTC.apply({},e)),!0):r&&e?x(e+" +0000",r+" Z").utc():x(e&&!B.exec(e)?e+"+0000":e).utc()},x.unix=function(t){return x(1e3*t)},x.duration=function(t,e){var n=x.isDuration(t),r="number"==typeof t,o=n?t._data:r?{}:t;return r&&(e?o[e]=t:o.milliseconds=t),new i(o)},x.humanizeDuration=function(t,e,n){return x.duration(t,e===!0?null:e).humanize(e===!0?!0:n)},x.version=k,x.defaultFormat=j,x.lang=function(t,e){var n,r,i=[];if(!t)return T;if(e){for(n=0;12>n;n++)i[n]=RegExp("^"+e.months[n]+"|^"+e.monthsShort[n].replace(".",""),"i");e.monthsParse=e.monthsParse||i,S[t]=e}if(S[t]){for(n=0;E.length>n;n++)x[E[n]]=S[t][E[n]]||S.en[E[n]];T=t}else _&&(r=require("./lang/"+t),x.lang(t,r))},x.lang("en",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),longDateFormat:{LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D YYYY",LLL:"MMMM D YYYY LT",LLLL:"dddd, MMMM D YYYY LT"},meridiem:!1,calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},ordinal:function(t){var e=t%10;return 1===~~(t%100/10)?"th":1===e?"st":2===e?"nd":3===e?"rd":"th"}}),x.isMoment=function(t){return t instanceof n},x.isDuration=function(t){return t instanceof i},x.fn=n.prototype={clone:function(){return x(this)},valueOf:function(){return+this._d},unix:function(){return Math.floor(+this._d/1e3)},toString:function(){return""+this._d},toDate:function(){return this._d},toArray:function(){var t=this;return[t.year(),t.month(),t.date(),t.hours(),t.minutes(),t.seconds(),t.milliseconds()]},isValid:function(){var t,e;if(this._a)for(t=0;7>t;t++)if(e=(this._a[7]?x.utc(this):this).toArray(),this._a[t]!==e[t])return!1;return!isNaN(this._d.getTime())},utc:function(){return this._isUTC=!0,this},local:function(){return this._isUTC=!1,this},format:function(t){return c(this,t?t:x.defaultFormat)},add:function(t,e){var n=e?x.duration(+e,t):x.duration(t);return a(this,n,1),this},subtract:function(t,e){var n=e?x.duration(+e,t):x.duration(t);return a(this,n,-1),this},diff:function(t,e,n){var r,i=this._isUTC?x(t).utc():x(t).local(),o=6e4*(this.zone()-i.zone()),a=this._d-i._d-o,s=this.year()-i.year(),l=this.month()-i.month(),c=this.date()-i.date();return r="months"===e?12*s+l+c/30:"years"===e?s+(l+c/30)/12:"seconds"===e?a/1e3:"minutes"===e?a/6e4:"hours"===e?a/36e5:"days"===e?a/864e5:"weeks"===e?a/6048e5:a,n?r:A(r)},from:function(t,e){return x.duration(this.diff(t)).humanize(!e)},fromNow:function(t){return this.from(x(),t)},calendar:function(){var t=this.diff(x().sod(),"days",!0),e=x.calendar,n=e.sameElse,r=-6>t?n:-1>t?e.lastWeek:0>t?e.lastDay:1>t?e.sameDay:2>t?e.nextDay:7>t?e.nextWeek:n;return this.format("function"==typeof r?r.apply(this):r)},isLeapYear:function(){var t=this.year();return 0===t%4&&0!==t%100||0===t%400},isDST:function(){return this.zone()<x([this.year()]).zone()||this.zone()<x([this.year(),5]).zone()},day:function(t){var e=this._isUTC?this._d.getUTCDay():this._d.getDay();return null==t?e:this.add({d:t-e})},sod:function(){return x(this).hours(0).minutes(0).seconds(0).milliseconds(0)},eod:function(){return this.sod().add({d:1,ms:-1})},zone:function(){return this._isUTC?0:this._d.getTimezoneOffset()},daysInMonth:function(){return x(this).month(this.month()+1).date(0).date()}},C=0;z.length>C;C++)y(z[C].toLowerCase(),z[C]);y("year","FullYear"),x.duration.fn=i.prototype={weeks:function(){return r(this.days()/7)},valueOf:function(){return this._milliseconds+864e5*this._days+2592e6*this._months},humanize:function(t){var e=+this,n=x.relativeTime,r=v(e,!t);return t&&(r=(0>=e?n.past:n.future).replace(/%s/i,r)),r}};for(C in W)W.hasOwnProperty(C)&&(w(C,W[C]),b(C.toLowerCase()));w("Weeks",6048e5),"function"==typeof define&&define.amd?define('js/lib/moment',[],function(){return x}):"undefined"!=typeof window&&"undefined"==typeof ender&&(window.moment=x)})(Date);
define('js/lib/util',["jquery","underscore","js/lib/moment","js/lib/cookie","js/core/coursera"],function(e,t,u,r,n){function o(e,t){404==e?n.router.trigger("error",404,t,{message:"this page does not exist"}):500==e?n.router.trigger("error",500,t,{message:"backend server has seen an error"}):401==e?n.router.navigate("/account/signin?r="+t,{trigger:!0,replace:!0}):403==e&&n.router.trigger("error",403,t,{message:"you do not have permission to view this page"})}function i(e){if(e){var t=/(?:https?:\/\/)?((?:[\d\w\-\.]+?\.)?[\w\d]+(?:\.[\w]+)?)(\/.*)?$/,u=t.exec(e),r=(u&&u.length?u[1]:"").split("."),o=t.exec(location.host)[1].split(".");r&&r.length&&r[r.length-1]==o[o.length-1]&&r[r.length-2]==o[o.length-2]?location.href=e:/^\/.*/.test(e)?location.href=e:n.router.navigate(n.config.dir.home,!0)}}function s(t,u){var r=t.find('[data-section="'+u+'"]');if(r.length){var o=r.position().top,i=Math.abs(e(document).scrollTop()-o);i>1e3?e("html,body").scrollTop(o):e("html,body").animate({scrollTop:o}),n.multitracker&&n.multitracker.pushEvent(document.title.split(" |")[0]+" "+u,"Open")}}function a(e){e.bind("view:appended",function(){s(e.$el,this.options.section)}),e.$el.on("click","a.internal-page",function(t){if(!t.ctrlKey&&!t.metaKey){var u=t.currentTarget.pathname,r=u.substr(u.lastIndexOf("/")+1);e.$("[data-section="+r+"]").length&&(t.preventDefault(),s(e.$el,r),n.router.navigateTo(u,{trigger:!1}))}})}function l(e){return e.length>1?e.slice(0,-1).join(", ")+" and "+e[e.length-1]:""+e}function c(e,t){if(!e)return"";if(t>=e.length)return e;var u=t-3,r=e.lastIndexOf(" ",u);return(-1==r||t/2>r)&&(r=u),e.substr(0,r)+"..."}function E(e){return e.replace(/^http:\/\//i,"https://")}function h(e,t){t=t.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var u="[\\?&]"+t+"=([^&#]*)",r=RegExp(u),n=r.exec(unescape(e));return null===n?null:n[1]}function d(e,t,u){var r=document.createElement("a");r.href=e;var n=r.search;t=escape(t),u=escape(u);var o=t+"="+u,i=RegExp("(&|\\?)"+t+"=[^\\&]*");n=n.replace(i,"$1"+o),RegExp.$1||(n+=(n.length>0?"&":"?")+o);var s="/"==r.pathname.charAt(0)?r.pathname:"/"+r.pathname;return s+n}function p(u,r,o){function i(e){var t=E.attr("data-"+e+"-message");E.html(t)}function s(){var e=u.find('input[type="checkbox"]').filter("[required]");return e.length&&!e.is(":checked")?(E.attr("disabled","disabled"),void 0):(E.removeAttr("disabled"),i("default"),void 0)}function a(){c=u.serialize();var t=(r.type||"POST").toLowerCase();n.api[t]&&n.api[t](r.url,{data:r.data||u.serialize()||null,headers:r.headers||{},dataType:r.dataType||"json"}).done(function(e,t,n){r.success&&r.success(e,t,n),i("success"),h.html("(Saved!)"),m(u,null)}).fail(function(t,n,o){var i=e.parseJSON(t.responseText);r.error&&r.error(t,n,o),s(),u.find("input").off(".validate"),m(u,i)})}function l(){u.serialize()!=c&&(E.trigger("click"),h.html("(Saving...)"))}r=r||{};var c=u.serialize();r.url=r.url||u.attr("action"),r.type=r.type||u.attr("type");var E=u.find('button[type="submit"]'),h=e(E.attr("data-update"));u.find("input, select").on("change",s),u.find("input, textarea").on("keyup",s);var d=u.find("input, select");d.each(function(t,u){t!=d.length-1&&e(u).on("keypress",function(e){return 13!=e.keyCode})});var p="true"==u.attr("data-validate");if(p&&u.find("input").each(function(){var t=e(this);"checkbox"!=t.attr("type")&&(t.on("keyup.validate",function(){g(t)||A(t,null)}),t.on("blur.validate paste.validate",function(){A(t,g(t))}))}),E.on("click",function(e){e.preventDefault(),(!p||p&&!f(u))&&(i("inflight"),E.attr("disabled","disabled"),a(r))}),o){var F=t.debounce(l,1e3);u.find("input, select").on("change.autosave",F),u.find("input, textarea").on("keyup.autosave",F),u.find("input, select, blur").on("blur.autosave paste.autosave",l)}}function f(t){var u=null;if(t.find("input").each(function(){var t=e(this),r=g(t);A(t,r),u=u||r,r&&!u&&0===e("input:focus").length&&t.focus()}),u){var r=t.attr("data-invalid-message")||"Uh-oh, please check the form!";F(t,r),t.find('button[type="submit"]').animate({opacity:.4},100).animate({"margin-left":"-=10"},100).animate({"margin-left":"+=20"},100).animate({"margin-left":"-=20"},100).animate({"margin-left":"+=10"},100).animate({opacity:1},100)}return u}function g(e){var t=e.attr("type"),u=e.val(),r=e.attr("pattern"),n=null,o=null;return"email"==t?o=RegExp(/[a-zA-Z0-9!#$%&'*+\/=?\^_`{|}~\-]+(?:\.[a-zA-Z0-9!#$%&'*+\/=?\^_`{|}~\-]+)*@(?:[a-zA-Z0-9](?:[a-zA-Z0-9\-]*[a-zA-Z0-9])?\.)+[a-zA-Z0-9](?:[a-zA-Z0-9\-]*[a-zA-Z0-9])?/):r&&(o=RegExp(r)),o&&(o.test(u)||(n=e.attr("data-invalid-message")||"Invalid field")),e.attr("required")&&("text"==t&&0===u.length&&(n="This field is required."),"checkbox"!=t||e.is(":checked")||(n="⬆ Please check this!")),n}function m(e,t){if(e.find(".form-errors").remove(),e.find(".error .help-inline").remove(),e.find(".error").removeClass("error"),t&&(t.error_message&&F(e,t.error_message),t.field_errors))for(var u in t.field_errors){var r=e.find('*[name="'+u+'"]');A(r,t.field_errors[u]),r.focus()}}function F(t,u){t.find(".form-errors").remove(),$errorsDom=e("<span></span>").addClass("form-errors").attr("role","alert").attr("aria-live","assertive").html(u),t.find(".actions").length?t.find(".actions").children(":last").after($errorsDom):t.find(".modal-footer").length?t.find(".modal-footer").children(":last").after($errorsDom):t.find('button[type="submit"]')&&t.find('button[type="submit"]').after($errorsDom)}function A(t,u){var r=t.parents(".control-mini-group").length&&t.parents(".control-mini-group")||t.parents(".control-group");if(r.removeClass("error"),r.find(".help-inline.error").remove(),u){var n=(t.attr("id")||"")+"-form-field-error-"+(new Date).getTime(),o=(t.attr("aria-describedby")||"").split(",");if(o.push(n),t.attr("aria-describedby",o.join(",")),$errorsDom=e("<span></span>").addClass("help-inline error").attr("role","alert").attr("aria-live","assertive").attr("id",n),u instanceof Array)for(var i=0;u.length>i;i++)$errorsDom.append("<span>"+u[i]+"</span>");else $errorsDom.append(u);r.addClass("error"),"checkbox"==t.attr("type")?r.find(".controls").append($errorsDom):t.after($errorsDom)}}function v(){var e=navigator.userAgent||navigator.vendor||window.opera;return/iPhone|iPod|iPad|Android|BlackBerry|Opera Mini|IEMobile/.test(e)}function b(){var e=navigator.userAgent||navigator.vendor||window.opera;return/iPhone|iPod|iPad/.test(e)}function C(){return"ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch}function y(){var e=document.createElement("canvas");return!(!e.getContext||!e.getContext("2d"))}function D(t,u,r){var n="meta["+t+"='"+u+"']",o=e(n);if(0===o.length){var i="<meta "+t+'="'+u+'" />';o=e(i).appendTo("head")}o.attr("content",r)}function S(){var t=window.innerHeight,u=document.compatMode;return(u||!e.support.boxModel)&&(t="CSS1Compat"==u?document.documentElement.clientHeight:document.body.clientHeight),t}function k(e,t){t=t||0;var u=S(),r=document.documentElement.scrollTop?document.documentElement.scrollTop:document.body.scrollTop,n=r-t,o=r+u+t,i=e.offset().top,s=e.height(),a=i+s;return o>a&&a>n}function B(e){var u=0,r=["cs-programming","cs-systems","cs-theory","cs-ai","cs","fmgb"];return e.each(function(e){e.get("topic")&&t.intersection(e.get("topic").get("category-ids"),r).length>0&&u++}),u}function w(){var t=e("[data-promo-id]");t.each(function(){var t=e(this);if(t.find(".close").length){var u=t.attr("data-promo-id");r.get(u)?t.hide():(t.show(),t.find(".close").on("click",function(){t.hide(),r.set(u,"closed")}))}})}function x(e){var t=u.unix(e.attr("datetime"));6e4>Math.abs(u().diff(t))?e.text("just now"):e.text(t.fromNow()),e.attr("title",t.format("dddd, MMMM Do YYYY, h:mm a Z"))}function T(e){return e=e.replace(/^.*:\/\//,""),e=e.replace(/\/$/,"")}function $(e){var u=e.text(),r=0,n=function(){e.prop("scrollHeight")>e.height()+6&&(r+=1,e.text(u.slice(0,u.length-r)),e.append("&hellip;"),t.defer(n))};t.defer(n)}function _(e){return e&&(e=e.replace(/((https?\:\/\/)|(www\.))(\S+)(\w{2,4})(:[0-9]+)?(\/|\/([\w#!:.?+=&%@!\-\/]))?/gi,function(e){var t=e;return t.match("^https?://")||(t="http://"+t),'<a target="_blank" href="'+t+'">'+e+"</a>"})),e}function O(e,t,u){e/=255,t/=255,u/=255;var r,n,o=Math.max(e,t,u),i=Math.min(e,t,u),s=(o+i)/2;if(o==i)r=n=0;else{var a=o-i;switch(n=s>.5?a/(2-o-i):a/(o+i),o){case e:r=(t-u)/a+(u>t?6:0);break;case t:r=(u-e)/a+2;break;case u:r=(e-t)/a+4}r/=6}return[r,n,s]}function P(e,t,u){var r,n,o;if(0===t)r=n=o=u;else{var i=function(e,t,u){return 0>u&&(u+=1),u>1&&(u-=1),1/6>u?e+6*(t-e)*u:.5>u?t:2/3>u?e+6*(t-e)*(2/3-u):e},s=.5>u?u*(1+t):u+t-u*t,a=2*u-s;r=i(a,s,e+1/3),n=i(a,s,e),o=i(a,s,e-1/3)}return[Math.round(255*r),Math.round(255*n),Math.round(255*o)]}function z(e,t,u){e/=255,t/=255,u/=255;var r,n,o=Math.max(e,t,u),i=Math.min(e,t,u),s=o,a=o-i;if(n=0===o?0:a/o,o==i)r=0;else{switch(o){case e:r=(t-u)/a+(u>t?6:0);break;case t:r=(u-e)/a+2;break;case u:r=(e-t)/a+4}r/=6}return[r,n,s]}function I(e,t,u){var r,n,o,i=Math.floor(6*e),s=6*e-i,a=u*(1-t),l=u*(1-s*t),c=u*(1-(1-s)*t);switch(i%6){case 0:r=u,n=c,o=a;break;case 1:r=l,n=u,o=a;break;case 2:r=a,n=u,o=c;break;case 3:r=a,n=l,o=u;break;case 4:r=c,n=a,o=u;break;case 5:r=u,n=a,o=l}return[Math.round(255*r),Math.round(255*n),Math.round(255*o)]}function M(e,u,r){var n=t.groupBy(e,u);return n=t.sortBy(n,r)}function R(e,t){t.css("position","relative"),t.css("top",e.height()/2-t.height()/2)}function N(e){var t=e.first_name;return e.middle_name&&(t=t+" "+e.middle_name),e.last_name&&(t=t+" "+e.last_name),t}function j(e){switch(e){case"en":return"English";case"zh-Hant":return"Chinese";case"zh-Hans":return"Chinese";case"it":return"Italian";case"fr":return"French";case"es":return"Spanish"}}function W(e){for(var t=0;J.length>t;t++)e=e.replace(J[t].letters,J[t].base);return e}var J=[{base:"A",letters:/[\u0041\u24B6\uFF21\u00C0\u00C1\u00C2\u1EA6\u1EA4\u1EAA\u1EA8\u00C3\u0100\u0102\u1EB0\u1EAE\u1EB4\u1EB2\u0226\u01E0\u00C4\u01DE\u1EA2\u00C5\u01FA\u01CD\u0200\u0202\u1EA0\u1EAC\u1EB6\u1E00\u0104\u023A\u2C6F]/g},{base:"AA",letters:/[\uA732]/g},{base:"AE",letters:/[\u00C6\u01FC\u01E2]/g},{base:"AO",letters:/[\uA734]/g},{base:"AU",letters:/[\uA736]/g},{base:"AV",letters:/[\uA738\uA73A]/g},{base:"AY",letters:/[\uA73C]/g},{base:"B",letters:/[\u0042\u24B7\uFF22\u1E02\u1E04\u1E06\u0243\u0182\u0181]/g},{base:"C",letters:/[\u0043\u24B8\uFF23\u0106\u0108\u010A\u010C\u00C7\u1E08\u0187\u023B\uA73E]/g},{base:"D",letters:/[\u0044\u24B9\uFF24\u1E0A\u010E\u1E0C\u1E10\u1E12\u1E0E\u0110\u018B\u018A\u0189\uA779]/g},{base:"DZ",letters:/[\u01F1\u01C4]/g},{base:"Dz",letters:/[\u01F2\u01C5]/g},{base:"E",letters:/[\u0045\u24BA\uFF25\u00C8\u00C9\u00CA\u1EC0\u1EBE\u1EC4\u1EC2\u1EBC\u0112\u1E14\u1E16\u0114\u0116\u00CB\u1EBA\u011A\u0204\u0206\u1EB8\u1EC6\u0228\u1E1C\u0118\u1E18\u1E1A\u0190\u018E]/g},{base:"F",letters:/[\u0046\u24BB\uFF26\u1E1E\u0191\uA77B]/g},{base:"G",letters:/[\u0047\u24BC\uFF27\u01F4\u011C\u1E20\u011E\u0120\u01E6\u0122\u01E4\u0193\uA7A0\uA77D\uA77E]/g},{base:"H",letters:/[\u0048\u24BD\uFF28\u0124\u1E22\u1E26\u021E\u1E24\u1E28\u1E2A\u0126\u2C67\u2C75\uA78D]/g},{base:"I",letters:/[\u0049\u24BE\uFF29\u00CC\u00CD\u00CE\u0128\u012A\u012C\u0130\u00CF\u1E2E\u1EC8\u01CF\u0208\u020A\u1ECA\u012E\u1E2C\u0197]/g},{base:"J",letters:/[\u004A\u24BF\uFF2A\u0134\u0248]/g},{base:"K",letters:/[\u004B\u24C0\uFF2B\u1E30\u01E8\u1E32\u0136\u1E34\u0198\u2C69\uA740\uA742\uA744\uA7A2]/g},{base:"L",letters:/[\u004C\u24C1\uFF2C\u013F\u0139\u013D\u1E36\u1E38\u013B\u1E3C\u1E3A\u0141\u023D\u2C62\u2C60\uA748\uA746\uA780]/g},{base:"LJ",letters:/[\u01C7]/g},{base:"Lj",letters:/[\u01C8]/g},{base:"M",letters:/[\u004D\u24C2\uFF2D\u1E3E\u1E40\u1E42\u2C6E\u019C]/g},{base:"N",letters:/[\u004E\u24C3\uFF2E\u01F8\u0143\u00D1\u1E44\u0147\u1E46\u0145\u1E4A\u1E48\u0220\u019D\uA790\uA7A4]/g},{base:"NJ",letters:/[\u01CA]/g},{base:"Nj",letters:/[\u01CB]/g},{base:"O",letters:/[\u004F\u24C4\uFF2F\u00D2\u00D3\u00D4\u1ED2\u1ED0\u1ED6\u1ED4\u00D5\u1E4C\u022C\u1E4E\u014C\u1E50\u1E52\u014E\u022E\u0230\u00D6\u022A\u1ECE\u0150\u01D1\u020C\u020E\u01A0\u1EDC\u1EDA\u1EE0\u1EDE\u1EE2\u1ECC\u1ED8\u01EA\u01EC\u00D8\u01FE\u0186\u019F\uA74A\uA74C]/g},{base:"OI",letters:/[\u01A2]/g},{base:"OO",letters:/[\uA74E]/g},{base:"OU",letters:/[\u0222]/g},{base:"P",letters:/[\u0050\u24C5\uFF30\u1E54\u1E56\u01A4\u2C63\uA750\uA752\uA754]/g},{base:"Q",letters:/[\u0051\u24C6\uFF31\uA756\uA758\u024A]/g},{base:"R",letters:/[\u0052\u24C7\uFF32\u0154\u1E58\u0158\u0210\u0212\u1E5A\u1E5C\u0156\u1E5E\u024C\u2C64\uA75A\uA7A6\uA782]/g},{base:"S",letters:/[\u0053\u24C8\uFF33\u1E9E\u015A\u1E64\u015C\u1E60\u0160\u1E66\u1E62\u1E68\u0218\u015E\u2C7E\uA7A8\uA784]/g},{base:"T",letters:/[\u0054\u24C9\uFF34\u1E6A\u0164\u1E6C\u021A\u0162\u1E70\u1E6E\u0166\u01AC\u01AE\u023E\uA786]/g},{base:"TZ",letters:/[\uA728]/g},{base:"U",letters:/[\u0055\u24CA\uFF35\u00D9\u00DA\u00DB\u0168\u1E78\u016A\u1E7A\u016C\u00DC\u01DB\u01D7\u01D5\u01D9\u1EE6\u016E\u0170\u01D3\u0214\u0216\u01AF\u1EEA\u1EE8\u1EEE\u1EEC\u1EF0\u1EE4\u1E72\u0172\u1E76\u1E74\u0244]/g},{base:"V",letters:/[\u0056\u24CB\uFF36\u1E7C\u1E7E\u01B2\uA75E\u0245]/g},{base:"VY",letters:/[\uA760]/g},{base:"W",letters:/[\u0057\u24CC\uFF37\u1E80\u1E82\u0174\u1E86\u1E84\u1E88\u2C72]/g},{base:"X",letters:/[\u0058\u24CD\uFF38\u1E8A\u1E8C]/g},{base:"Y",letters:/[\u0059\u24CE\uFF39\u1EF2\u00DD\u0176\u1EF8\u0232\u1E8E\u0178\u1EF6\u1EF4\u01B3\u024E\u1EFE]/g},{base:"Z",letters:/[\u005A\u24CF\uFF3A\u0179\u1E90\u017B\u017D\u1E92\u1E94\u01B5\u0224\u2C7F\u2C6B\uA762]/g},{base:"a",letters:/[\u0061\u24D0\uFF41\u1E9A\u00E0\u00E1\u00E2\u1EA7\u1EA5\u1EAB\u1EA9\u00E3\u0101\u0103\u1EB1\u1EAF\u1EB5\u1EB3\u0227\u01E1\u00E4\u01DF\u1EA3\u00E5\u01FB\u01CE\u0201\u0203\u1EA1\u1EAD\u1EB7\u1E01\u0105\u2C65\u0250]/g},{base:"aa",letters:/[\uA733]/g},{base:"ae",letters:/[\u00E6\u01FD\u01E3]/g},{base:"ao",letters:/[\uA735]/g},{base:"au",letters:/[\uA737]/g},{base:"av",letters:/[\uA739\uA73B]/g},{base:"ay",letters:/[\uA73D]/g},{base:"b",letters:/[\u0062\u24D1\uFF42\u1E03\u1E05\u1E07\u0180\u0183\u0253]/g},{base:"c",letters:/[\u0063\u24D2\uFF43\u0107\u0109\u010B\u010D\u00E7\u1E09\u0188\u023C\uA73F\u2184]/g},{base:"d",letters:/[\u0064\u24D3\uFF44\u1E0B\u010F\u1E0D\u1E11\u1E13\u1E0F\u0111\u018C\u0256\u0257\uA77A]/g},{base:"dz",letters:/[\u01F3\u01C6]/g},{base:"e",letters:/[\u0065\u24D4\uFF45\u00E8\u00E9\u00EA\u1EC1\u1EBF\u1EC5\u1EC3\u1EBD\u0113\u1E15\u1E17\u0115\u0117\u00EB\u1EBB\u011B\u0205\u0207\u1EB9\u1EC7\u0229\u1E1D\u0119\u1E19\u1E1B\u0247\u025B\u01DD]/g},{base:"f",letters:/[\u0066\u24D5\uFF46\u1E1F\u0192\uA77C]/g},{base:"g",letters:/[\u0067\u24D6\uFF47\u01F5\u011D\u1E21\u011F\u0121\u01E7\u0123\u01E5\u0260\uA7A1\u1D79\uA77F]/g},{base:"h",letters:/[\u0068\u24D7\uFF48\u0125\u1E23\u1E27\u021F\u1E25\u1E29\u1E2B\u1E96\u0127\u2C68\u2C76\u0265]/g},{base:"hv",letters:/[\u0195]/g},{base:"i",letters:/[\u0069\u24D8\uFF49\u00EC\u00ED\u00EE\u0129\u012B\u012D\u00EF\u1E2F\u1EC9\u01D0\u0209\u020B\u1ECB\u012F\u1E2D\u0268\u0131]/g},{base:"j",letters:/[\u006A\u24D9\uFF4A\u0135\u01F0\u0249]/g},{base:"k",letters:/[\u006B\u24DA\uFF4B\u1E31\u01E9\u1E33\u0137\u1E35\u0199\u2C6A\uA741\uA743\uA745\uA7A3]/g},{base:"l",letters:/[\u006C\u24DB\uFF4C\u0140\u013A\u013E\u1E37\u1E39\u013C\u1E3D\u1E3B\u017F\u0142\u019A\u026B\u2C61\uA749\uA781\uA747]/g},{base:"lj",letters:/[\u01C9]/g},{base:"m",letters:/[\u006D\u24DC\uFF4D\u1E3F\u1E41\u1E43\u0271\u026F]/g},{base:"n",letters:/[\u006E\u24DD\uFF4E\u01F9\u0144\u00F1\u1E45\u0148\u1E47\u0146\u1E4B\u1E49\u019E\u0272\u0149\uA791\uA7A5]/g},{base:"nj",letters:/[\u01CC]/g},{base:"o",letters:/[\u006F\u24DE\uFF4F\u00F2\u00F3\u00F4\u1ED3\u1ED1\u1ED7\u1ED5\u00F5\u1E4D\u022D\u1E4F\u014D\u1E51\u1E53\u014F\u022F\u0231\u00F6\u022B\u1ECF\u0151\u01D2\u020D\u020F\u01A1\u1EDD\u1EDB\u1EE1\u1EDF\u1EE3\u1ECD\u1ED9\u01EB\u01ED\u00F8\u01FF\u0254\uA74B\uA74D\u0275]/g},{base:"oi",letters:/[\u01A3]/g},{base:"ou",letters:/[\u0223]/g},{base:"oo",letters:/[\uA74F]/g},{base:"p",letters:/[\u0070\u24DF\uFF50\u1E55\u1E57\u01A5\u1D7D\uA751\uA753\uA755]/g},{base:"q",letters:/[\u0071\u24E0\uFF51\u024B\uA757\uA759]/g},{base:"r",letters:/[\u0072\u24E1\uFF52\u0155\u1E59\u0159\u0211\u0213\u1E5B\u1E5D\u0157\u1E5F\u024D\u027D\uA75B\uA7A7\uA783]/g},{base:"s",letters:/[\u0073\u24E2\uFF53\u00DF\u015B\u1E65\u015D\u1E61\u0161\u1E67\u1E63\u1E69\u0219\u015F\u023F\uA7A9\uA785\u1E9B]/g},{base:"t",letters:/[\u0074\u24E3\uFF54\u1E6B\u1E97\u0165\u1E6D\u021B\u0163\u1E71\u1E6F\u0167\u01AD\u0288\u2C66\uA787]/g},{base:"tz",letters:/[\uA729]/g},{base:"u",letters:/[\u0075\u24E4\uFF55\u00F9\u00FA\u00FB\u0169\u1E79\u016B\u1E7B\u016D\u00FC\u01DC\u01D8\u01D6\u01DA\u1EE7\u016F\u0171\u01D4\u0215\u0217\u01B0\u1EEB\u1EE9\u1EEF\u1EED\u1EF1\u1EE5\u1E73\u0173\u1E77\u1E75\u0289]/g},{base:"v",letters:/[\u0076\u24E5\uFF56\u1E7D\u1E7F\u028B\uA75F\u028C]/g},{base:"vy",letters:/[\uA761]/g},{base:"w",letters:/[\u0077\u24E6\uFF57\u1E81\u1E83\u0175\u1E87\u1E85\u1E98\u1E89\u2C73]/g},{base:"x",letters:/[\u0078\u24E7\uFF58\u1E8B\u1E8D]/g},{base:"y",letters:/[\u0079\u24E8\uFF59\u1EF3\u00FD\u0177\u1EF9\u0233\u1E8F\u00FF\u1EF7\u1E99\u1EF5\u01B4\u024F\u1EFF]/g},{base:"z",letters:/[\u007A\u24E9\uFF5A\u017A\u1E91\u017C\u017E\u1E93\u1E95\u01B6\u0225\u0240\u2C6C\uA763]/g}];return{handleAPIError:o,handleRedirect:i,setupInternalLinks:a,truncateText:c,setupFormSave:p,renderAllErrors:m,renderFieldErrors:A,isMobileDevice:v,isIOS:b,isTouchSupported:C,isCanvasSupported:y,scrollToInternalLink:s,makeHttps:E,prettyJoin:l,getUrlParam:h,changeUrlParam:d,setMetaTag:D,inView:k,countCS:B,setupPromos:w,prettifyTime:x,prettifyUrl:T,truncateElemText:$,linkifyText:_,rgbToHsl:O,hslToRgb:P,rgbToHsv:z,hsvToRgb:I,verticalCenterEl:R,sortedGroupBy:M,concatName:N,languageCodeToName:j,removeDiacritics:W}});
define('js/lib/backbone.relational',["backbone","underscore"],function(t,e){var n=window;t.Relational={showWarnings:!0},t.Semaphore={_permitsAvailable:null,_permitsUsed:0,acquire:function(){if(this._permitsAvailable&&this._permitsUsed>=this._permitsAvailable)throw Error("Max permits acquired");this._permitsUsed++},release:function(){if(0===this._permitsUsed)throw Error("All permits released");this._permitsUsed--},isLocked:function(){return this._permitsUsed>0},setAvailablePermits:function(t){if(this._permitsUsed>t)throw Error("Available permits cannot be less than used permits");this._permitsAvailable=t}},t.BlockingQueue=function(){this._queue=[]},e.extend(t.BlockingQueue.prototype,t.Semaphore,{_queue:null,add:function(t){this.isBlocked()?this._queue.push(t):t()},process:function(){for(;this._queue&&this._queue.length;)this._queue.shift()()},block:function(){this.acquire()},unblock:function(){this.release(),this.isBlocked()||this.process()},isBlocked:function(){return this.isLocked()}}),t.Relational.eventQueue=new t.BlockingQueue,t.Store=function(){this._collections=[],this._reverseRelations=[],this._subModels=[],this._modelScopes=[n]},e.extend(t.Store.prototype,t.Events,{addModelScope:function(t){this._modelScopes.push(t)},addSubModels:function(t,e){this._subModels.push({superModelType:e,subModels:t})},setupSuperModel:function(t){e.find(this._subModels,function(n){return e.find(n.subModels,function(e,r){var i=this.getObjectByName(e);return t===i?(n.superModelType._subModels[r]=t,t._superModel=n.superModelType,t._subModelTypeValue=r,t._subModelTypeAttribute=n.superModelType.prototype.subModelTypeAttribute,!0):void 0},this)},this)},addReverseRelation:function(t){var n=e.any(this._reverseRelations,function(n){return e.all(t,function(t,e){return t===n[e]})});if(!n&&t.model&&t.type){this._reverseRelations.push(t);var r=function(t,n){t.prototype.relations||(t.prototype.relations=[]),t.prototype.relations.push(n),e.each(t._subModels,function(t){r(t,n)},this)};r(t.model,t),this.retroFitRelation(t)}},retroFitRelation:function(t){var e=this.getCollection(t.model);e.each(function(e){e instanceof t.model&&new t.type(e,t)},this)},getCollection:function(n){n instanceof t.RelationalModel&&(n=n.constructor);for(var r=n;r._superModel;)r=r._superModel;var i=e.detect(this._collections,function(t){return t.model===r});return i||(i=this._createCollection(r)),i},getObjectByName:function(t){var n=t.split("."),r=null;return e.find(this._modelScopes,function(t){return r=e.reduce(n,function(t,e){return t[e]},t),r&&r!==t?!0:void 0},this),r},_createCollection:function(e){var n;return e instanceof t.RelationalModel&&(e=e.constructor),e.prototype instanceof t.RelationalModel&&(n=new t.Collection,n.model=e,this._collections.push(n)),n},resolveIdForItem:function(n,r){var i=e.isString(r)||e.isNumber(r)?r:null;return null===i&&(r instanceof t.RelationalModel?i=r.id:e.isObject(r)&&(i=r[n.prototype.idAttribute])),i||0===i||(i=null),i},find:function(t,e){var n=this.resolveIdForItem(t,e),r=this.getCollection(t);if(r){var i=r.get(n);if(i instanceof t)return i}return null},register:function(t){var e=t.collection,n=this.getCollection(t);n&&n.add(t),t.bind("destroy",this.unregister,this),t.collection=e},update:function(t){var e=this.getCollection(t);e._onModelEvent("change:"+t.idAttribute,t,e)},unregister:function(t){t.unbind("destroy",this.unregister);var e=this.getCollection(t);e&&e.remove(t)}}),t.Relational.store=new t.Store,t.Relation=function(n,r){return this.instance=n,r=e.isObject(r)?r:{},this.reverseRelation=e.defaults(r.reverseRelation||{},this.options.reverseRelation),this.reverseRelation.type=e.isString(this.reverseRelation.type)?t[this.reverseRelation.type]||t.Relational.store.getObjectByName(this.reverseRelation.type):this.reverseRelation.type,this.model=r.model||this.instance.constructor,this.options=e.defaults(r,this.options,t.Relation.prototype.options),this.key=this.options.key,this.keySource=this.options.keySource||this.key,this.keyDestination=this.options.keyDestination||this.keySource||this.key,this.relatedModel=this.options.relatedModel,e.isString(this.relatedModel)&&(this.relatedModel=t.Relational.store.getObjectByName(this.relatedModel)),this.checkPreconditions()?(n&&(this.keyContents=this.instance.get(this.keySource),this.key!==this.keySource&&this.instance.unset(this.keySource,{silent:!0}),this.instance._relations.push(this)),!this.options.isAutoRelation&&this.reverseRelation.type&&this.reverseRelation.key&&t.Relational.store.addReverseRelation(e.defaults({isAutoRelation:!0,model:this.relatedModel,relatedModel:this.model,reverseRelation:this.options},this.reverseRelation)),e.bindAll(this,"_modelRemovedFromCollection","_relatedModelAdded","_relatedModelRemoved"),n&&(this.initialize(),t.Relational.store.getCollection(this.instance).bind("relational:remove",this._modelRemovedFromCollection),t.Relational.store.getCollection(this.relatedModel).bind("relational:add",this._relatedModelAdded).bind("relational:remove",this._relatedModelRemoved)),void 0):!1},t.Relation.extend=t.Model.extend,e.extend(t.Relation.prototype,t.Events,t.Semaphore,{options:{createModels:!0,includeInJSON:!0,isAutoRelation:!1},instance:null,key:null,keyContents:null,relatedModel:null,reverseRelation:null,related:null,_relatedModelAdded:function(t,e,n){var r=this;t.queue(function(){r.tryAddRelated(t,n)})},_relatedModelRemoved:function(t,e,n){this.removeRelated(t,n)},_modelRemovedFromCollection:function(t){t===this.instance&&this.destroy()},checkPreconditions:function(){var n=this.instance,r=this.key,i=this.model,o=this.relatedModel,a=t.Relational.showWarnings&&"undefined"!=typeof console;if(!i||!r||!o)return a&&console.warn("Relation=%o; no model, key or relatedModel (%o, %o, %o)",this,i,r,o),!1;if(!(i.prototype instanceof t.RelationalModel))return a&&console.warn("Relation=%o; model does not inherit from Backbone.RelationalModel (%o)",this,n),!1;if(!(o.prototype instanceof t.RelationalModel))return a&&console.warn("Relation=%o; relatedModel does not inherit from Backbone.RelationalModel (%o)",this,o),!1;if(this instanceof t.HasMany&&this.reverseRelation.type===t.HasMany)return a&&console.warn("Relation=%o; relation is a HasMany, and the reverseRelation is HasMany as well.",this),!1;if(n&&n._relations.length){var u=e.any(n._relations,function(t){var e=this.reverseRelation.key&&t.reverseRelation.key;return t.relatedModel===o&&t.key===r&&(!e||this.reverseRelation.key===t.reverseRelation.key)},this);if(u)return a&&console.warn("Relation=%o between instance=%o.%s and relatedModel=%o.%s already exists",this,n,r,o,this.reverseRelation.key),!1}return!0},setRelated:function(t,n){this.related=t,this.instance.acquire(),this.instance.set(this.key,t,e.defaults(n||{},{silent:!0})),this.instance.release()},_isReverseRelation:function(t){return t.instance instanceof this.relatedModel&&this.reverseRelation.key===t.key&&this.key===t.reverseRelation.key?!0:!1},getReverseRelations:function(t){var n=[],r=e.isUndefined(t)?this.related&&(this.related.models||[this.related]):[t];return e.each(r,function(t){e.each(t.getRelations(),function(t){this._isReverseRelation(t)&&n.push(t)},this)},this),n},sanitizeOptions:function(t){return t=t?e.clone(t):{},t.silent&&(t.silentChange=!0,delete t.silent),t},unsanitizeOptions:function(t){return t=t?e.clone(t):{},t.silentChange&&(t.silent=!0,delete t.silentChange),t},destroy:function(){t.Relational.store.getCollection(this.instance).unbind("relational:remove",this._modelRemovedFromCollection),t.Relational.store.getCollection(this.relatedModel).unbind("relational:add",this._relatedModelAdded).unbind("relational:remove",this._relatedModelRemoved),e.each(this.getReverseRelations(),function(t){t.removeRelated(this.instance)},this)}}),t.HasOne=t.Relation.extend({options:{reverseRelation:{type:"HasMany"}},initialize:function(){e.bindAll(this,"onChange"),this.instance.bind("relational:change:"+this.key,this.onChange);var t=this.findRelated({silent:!0});this.setRelated(t),e.each(this.getReverseRelations(),function(t){t.addRelated(this.instance)},this)},findRelated:function(){var t=this.keyContents,e=null;return t instanceof this.relatedModel?e=t:(t||0===t)&&(e=this.relatedModel.findOrCreate(t,{create:this.options.createModels})),e},onChange:function(n,r,i){if(!this.isLocked()){this.acquire(),i=this.sanitizeOptions(i);var o=e.isUndefined(i._related),a=o?this.related:i._related;if(o)if(this.keyContents=r,r instanceof this.relatedModel)this.related=r;else if(r){var u=this.findRelated(i);this.setRelated(u)}else this.setRelated(null);if(a&&this.related!==a&&e.each(this.getReverseRelations(a),function(t){t.removeRelated(this.instance,i)},this),e.each(this.getReverseRelations(),function(t){t.addRelated(this.instance,i)},this),!i.silentChange&&this.related!==a){var s=this;t.Relational.eventQueue.add(function(){s.instance.trigger("update:"+s.key,s.instance,s.related,i)})}this.release()}},tryAddRelated:function(n,r){if(!this.related){r=this.sanitizeOptions(r);var i=this.keyContents;if(i||0===i){var o=t.Relational.store.resolveIdForItem(this.relatedModel,i);e.isNull(o)||n.id!==o||this.addRelated(n,r)}}},addRelated:function(t){if(t!==this.related){var e=this.related||null;this.setRelated(t),this.onChange(this.instance,t,{_related:e})}},removeRelated:function(t){if(this.related&&t===this.related){var e=this.related||null;this.setRelated(null),this.onChange(this.instance,t,{_related:e})}}}),t.HasMany=t.Relation.extend({collectionType:null,options:{reverseRelation:{type:"HasOne"},collectionType:t.Collection,collectionKey:!0,collectionOptions:{}},initialize:function(){if(e.bindAll(this,"onChange","handleAddition","handleRemoval","handleReset"),this.instance.bind("relational:change:"+this.key,this.onChange),this.collectionType=this.options.collectionType,e.isString(this.collectionType)&&(this.collectionType=t.Relational.store.getObjectByName(this.collectionType)),!this.collectionType.prototype instanceof t.Collection)throw Error("collectionType must inherit from Backbone.Collection");this.keyContents instanceof t.Collection?this.setRelated(this._prepareCollection(this.keyContents)):this.setRelated(this._prepareCollection()),this.findRelated({silent:!0})},_getCollectionOptions:function(){return e.isFunction(this.options.collectionOptions)?this.options.collectionOptions(this.instance):this.options.collectionOptions},_prepareCollection:function(e){if(this.related&&this.related.unbind("relational:add",this.handleAddition).unbind("relational:remove",this.handleRemoval).unbind("relational:reset",this.handleReset),e&&e instanceof t.Collection||(e=new this.collectionType([],this._getCollectionOptions())),e.model=this.relatedModel,this.options.collectionKey){var n=this.options.collectionKey===!0?this.options.reverseRelation.key:this.options.collectionKey;e[n]&&e[n]!==this.instance?t.Relational.showWarnings&&"undefined"!=typeof console&&console.warn("Relation=%o; collectionKey=%s already exists on collection=%o",this,n,this.options.collectionKey):n&&(e[n]=this.instance)}return e.bind("relational:add",this.handleAddition).bind("relational:remove",this.handleRemoval).bind("relational:reset",this.handleReset),e},findRelated:function(n){if(this.keyContents){var r=[];this.keyContents instanceof t.Collection?r=this.keyContents.models:(this.keyContents=e.isArray(this.keyContents)?this.keyContents:[this.keyContents],e.each(this.keyContents,function(t){var e=null;t instanceof this.relatedModel?e=t:(t||0===t)&&(e=this.relatedModel.findOrCreate(t,{create:this.options.createModels})),!e||this.related.getByCid(e)||this.related.get(e)||r.push(e)},this)),r.length&&(n=this.unsanitizeOptions(n),this.related.add(r,n))}},onChange:function(n,r,i){if(i=this.sanitizeOptions(i),this.keyContents=r,e.each(this.getReverseRelations(),function(t){t.removeRelated(this.instance,i)},this),r instanceof t.Collection)this._prepareCollection(r),this.related=r;else{var o;this.related instanceof t.Collection?(o=this.related,o.remove(o.models)):o=this._prepareCollection(),this.setRelated(o),this.findRelated(i)}e.each(this.getReverseRelations(),function(t){t.addRelated(this.instance,i)},this);var a=this;t.Relational.eventQueue.add(function(){!i.silentChange&&a.instance.trigger("update:"+a.key,a.instance,a.related,i)})},tryAddRelated:function(n,r){if(r=this.sanitizeOptions(r),!this.related.getByCid(n)&&!this.related.get(n)){var i=e.any(this.keyContents,function(r){var i=t.Relational.store.resolveIdForItem(this.relatedModel,r);return!e.isNull(i)&&i===n.id},this);i&&this.related.add(n,r)}},handleAddition:function(n,r,i){if(n instanceof t.Model){i=this.sanitizeOptions(i),e.each(this.getReverseRelations(n),function(t){t.addRelated(this.instance,i)},this);var o=this;t.Relational.eventQueue.add(function(){!i.silentChange&&o.instance.trigger("add:"+o.key,n,o.related,i)})}},handleRemoval:function(n,r,i){if(n instanceof t.Model){i=this.sanitizeOptions(i),e.each(this.getReverseRelations(n),function(t){t.removeRelated(this.instance,i)},this);var o=this;t.Relational.eventQueue.add(function(){!i.silentChange&&o.instance.trigger("remove:"+o.key,n,o.related,i)})}},handleReset:function(e,n){n=this.sanitizeOptions(n);var r=this;t.Relational.eventQueue.add(function(){!n.silentChange&&r.instance.trigger("reset:"+r.key,r.related,n)})},addRelated:function(t,e){var n=this;e=this.unsanitizeOptions(e),t.queue(function(){!n.related||n.related.getByCid(t)||n.related.get(t)||n.related.add(t,e)})},removeRelated:function(t,e){e=this.unsanitizeOptions(e),(this.related.getByCid(t)||this.related.get(t))&&this.related.remove(t,e)}}),t.RelationalModel=t.Model.extend({relations:null,_relations:null,_isInitialized:!1,_deferProcessing:!1,_queue:null,subModelTypeAttribute:"type",subModelTypes:null,constructor:function(n,r){var i=this;if(r&&r.collection){this._deferProcessing=!0;var o=function(t){t===i&&(i._deferProcessing=!1,i.processQueue(),r.collection.unbind("relational:add",o))};r.collection.bind("relational:add",o),e.defer(function(){o(i)})}this._queue=new t.BlockingQueue,this._queue.block(),t.Relational.eventQueue.block(),t.Model.apply(this,arguments),t.Relational.eventQueue.unblock()},trigger:function(e){if(e.length>5&&"change"===e.substr(0,6)){var n=this,r=arguments;t.Relational.eventQueue.add(function(){t.Model.prototype.trigger.apply(n,r)})}else t.Model.prototype.trigger.apply(this,arguments);return this},initializeRelations:function(){this.acquire(),this._relations=[],e.each(this.relations,function(n){var r=e.isString(n.type)?t[n.type]||t.Relational.store.getObjectByName(n.type):n.type;r&&r.prototype instanceof t.Relation?new r(this,n):t.Relational.showWarnings&&"undefined"!=typeof console&&console.warn("Relation=%o; missing or invalid type!",n)},this),this._isInitialized=!0,this.release(),this.processQueue()},updateRelations:function(t){this._isInitialized&&!this.isLocked()&&e.each(this._relations,function(e){var n=this.attributes[e.keySource]||this.attributes[e.key];e.related!==n&&this.trigger("relational:change:"+e.key,this,n,t||{})},this)},queue:function(t){this._queue.add(t)},processQueue:function(){this._isInitialized&&!this._deferProcessing&&this._queue.isBlocked()&&this._queue.unblock()},getRelation:function(t){return e.detect(this._relations,function(e){return e.key===t?!0:void 0},this)},getRelations:function(){return this._relations},fetchRelated:function(n,r,i){r||(r={});var o,a=[],u=this.getRelation(n),s=u&&u.keyContents,l=s&&e.select(e.isArray(s)?s:[s],function(n){var r=t.Relational.store.resolveIdForItem(u.relatedModel,n);return!e.isNull(r)&&(i||!t.Relational.store.find(u.relatedModel,r))},this);if(l&&l.length){var c=e.map(l,function(t){var n;if(e.isObject(t))n=u.relatedModel.build(t);else{var r={};r[u.relatedModel.prototype.idAttribute]=t,n=u.relatedModel.build(r)}return n},this);if(u.related instanceof t.Collection&&e.isFunction(u.related.url)&&(o=u.related.url(c)),o&&o!==u.related.url()){var f=e.defaults({error:function(){var t=arguments;e.each(c,function(e){e.trigger("destroy",e,e.collection,r),r.error&&r.error.apply(e,t)})},url:o},r,{add:!0});a=[u.related.fetch(f)]}else a=e.map(c,function(t){var n=e.defaults({error:function(){t.trigger("destroy",t,t.collection,r),r.error&&r.error.apply(t,arguments)}},r);return t.fetch(n)},this)}return a},set:function(n,r,i){t.Relational.eventQueue.block();var o;e.isObject(n)||null==n?(o=n,i=r):(o={},o[n]=r);var a=t.Model.prototype.set.apply(this,arguments);return this._isInitialized||this.isLocked()?o&&this.idAttribute in o&&t.Relational.store.update(this):(this.constructor.initializeModelHierarchy(),t.Relational.store.register(this),this.initializeRelations()),o&&this.updateRelations(i),t.Relational.eventQueue.unblock(),a},unset:function(e,n){t.Relational.eventQueue.block();var r=t.Model.prototype.unset.apply(this,arguments);return this.updateRelations(n),t.Relational.eventQueue.unblock(),r},clear:function(e){t.Relational.eventQueue.block();var n=t.Model.prototype.clear.apply(this,arguments);return this.updateRelations(e),t.Relational.eventQueue.unblock(),n},change:function(){var e=this,n=arguments;t.Relational.eventQueue.add(function(){t.Model.prototype.change.apply(e,n)})},clone:function(){var t=e.clone(this.attributes);return e.isUndefined(t[this.idAttribute])||(t[this.idAttribute]=null),e.each(this.getRelations(),function(e){delete t[e.key]}),new this.constructor(t)},toJSON:function(){if(this.isLocked())return this.id;this.acquire();var n=t.Model.prototype.toJSON.call(this);return!this.constructor._superModel||this.constructor._subModelTypeAttribute in n||(n[this.constructor._subModelTypeAttribute]=this.constructor._subModelTypeValue),e.each(this._relations,function(r){var i=n[r.key];if(r.options.includeInJSON===!0)n[r.keyDestination]=i&&e.isFunction(i.toJSON)?i.toJSON():null;else if(e.isString(r.options.includeInJSON))n[r.keyDestination]=i instanceof t.Collection?i.pluck(r.options.includeInJSON):i instanceof t.Model?i.get(r.options.includeInJSON):null;else if(e.isArray(r.options.includeInJSON))if(i instanceof t.Collection){var o=[];i.each(function(t){var n={};e.each(r.options.includeInJSON,function(e){n[e]=t.get(e)}),o.push(n)}),n[r.keyDestination]=o}else if(i instanceof t.Model){var o={};e.each(r.options.includeInJSON,function(t){o[t]=i.get(t)}),n[r.keyDestination]=o}else n[r.keyDestination]=null;else e.isObject(r.options.includeInJSON)?i instanceof t.Model&&e.each(r.options.includeInJSON,function(t,e){n[t]=i.get(e)}):delete n[r.key];r.keyDestination!==r.key&&delete n[r.key]}),this.release(),n}},{setup:function(){return this.prototype.relations=(this.prototype.relations||[]).slice(0),this._subModels={},this._superModel=null,this.prototype.hasOwnProperty("subModelTypes")?t.Relational.store.addSubModels(this.prototype.subModelTypes,this):this.prototype.subModelTypes=null,e.each(this.prototype.relations,function(n){if(n.model||(n.model=this),n.reverseRelation&&n.model===this){var r=!0;if(e.isString(n.relatedModel)){var i=t.Relational.store.getObjectByName(n.relatedModel);r=i&&i.prototype instanceof t.RelationalModel}var o=e.isString(n.type)?t[n.type]||t.Relational.store.getObjectByName(n.type):n.type;r&&o&&o.prototype instanceof t.Relation&&new o(null,n)}},this),this},build:function(t,e){var n=this;if(this.initializeModelHierarchy(),this._subModels&&this.prototype.subModelTypeAttribute in t){var r=t[this.prototype.subModelTypeAttribute],i=this._subModels[r];i&&(n=i)}return new n(t,e)},initializeModelHierarchy:function(){if(e.isUndefined(this._superModel)||e.isNull(this._superModel))if(t.Relational.store.setupSuperModel(this),this._superModel){if(this._superModel.prototype.relations){var n=e.any(this.prototype.relations,function(t){return t.model&&t.model!==this},this);n||(this.prototype.relations=this._superModel.prototype.relations.concat(this.prototype.relations))}}else this._superModel=!1;this.prototype.subModelTypes&&e.keys(this.prototype.subModelTypes).length!==e.keys(this._subModels).length&&e.each(this.prototype.subModelTypes,function(e){var n=t.Relational.store.getObjectByName(e);n&&n.initializeModelHierarchy()})},findOrCreate:function(n,r){var i=t.Relational.store.find(this,n);return e.isObject(n)&&(i?i.set(n,r):(!r||r&&r.create!==!1)&&(i=this.build(n,r))),i}}),e.extend(t.RelationalModel.prototype,t.Semaphore),t.Collection.prototype.__prepareModel=t.Collection.prototype._prepareModel,t.Collection.prototype._prepareModel=function(e,n){if(n||(n={}),e instanceof t.Model)e.collection||(e.collection=this);else{var r=e;n.collection=this,e=this.model.build!==void 0?this.model.build(r,n):new this.model(r,n),e._validate(e.attributes,n)||(e=!1)}return e};var r=t.Collection.prototype.__add=t.Collection.prototype.add;t.Collection.prototype.add=function(n,i){i||(i={}),e.isArray(n)||(n=[n]);var o=[];return e.each(n,function(e){if(!(e instanceof t.Model)){var n=t.Relational.store.find(this.model,e[this.model.prototype.idAttribute]);n?(n.set(n.parse?n.parse(e):e,i),e=n):e=t.Collection.prototype._prepareModel.call(this,e,i)}e instanceof t.Model&&!this.get(e)&&!this.getByCid(e)&&o.push(e)},this),o.length&&(r.call(this,o,i),e.each(o,function(t){this.trigger("relational:add",t,this,i)},this)),this};var i=t.Collection.prototype.__remove=t.Collection.prototype.remove;t.Collection.prototype.remove=function(n,r){return r||(r={}),n=e.isArray(n)?n.slice(0):[n],e.each(n,function(e){e=this.getByCid(e)||this.get(e),e instanceof t.Model&&(i.call(this,e,r),this.trigger("relational:remove",e,this,r))},this),this};var o=t.Collection.prototype.__reset=t.Collection.prototype.reset;t.Collection.prototype.reset=function(t,e){return o.call(this,t,e),this.trigger("relational:reset",this,e),this};var a=t.Collection.prototype.__sort=t.Collection.prototype.sort;t.Collection.prototype.sort=function(t){return a.call(this,t),this.trigger("relational:reset",this,t),this};var u=t.Collection.prototype.__trigger=t.Collection.prototype.trigger;t.Collection.prototype.trigger=function(n){if("add"===n||"remove"===n||"reset"===n){var r=this,i=arguments;"add"===n&&(i=e.toArray(i),e.isObject(i[3])&&(i[3]=e.clone(i[3]))),t.Relational.eventQueue.add(function(){u.apply(r,i)})}else u.apply(this,arguments);return this},t.RelationalModel.extend=function(){var e=t.Model.extend.apply(this,arguments);return e.setup(this),e}});
define('js/models/course',["jquery","backbone","underscore","js/core/coursera","js/lib/util","js/lib/moment","js/lib/backbone.relational"],function(t,e,r,i,s,a){var n=e.RelationalModel.extend({defaults:{},initialize:function(){this.bind("change",this.updateComputed,this),this.updateComputed()},updateComputed:function(){if(this.get("topic")&&this.get("topic").get("self_service_course_id")==this.get("id")&&this.set("self_study",!0),this.get("topic")&&this.set("optin_link",i.config.dir.home+"signature/course/"+this.get("topic").get("short_name")+"/"+this.get("id")),this.get("home_link")&&this.set("class_link",this.get("home_link")+"auth/auth_redirector?type=login&subtype=normal"),this.get("signature_track_price")){var t=this.get("signature_track_price");this.set("signature_track_price_display",Number(t).toFixed(2));var e=this.get("signature_track_regular_price");this.set("signature_track_regular_price",Number(e).toFixed(2));var r=e-t;r>0&&this.set("signature_track_price_discount",Number(r).toFixed(2))}this.set(this.processTimes())},getGrade:function(){var t=this.get("record");if(!this.hasGrade())return t.grade_normal||0;var e=2==t.achievement_level?t.grade_distinction:t.grade_normal;return t.authenticated_overall&&t.passed_ace&&(e=t.ace_grade),e},getsSignatureTrackCert:function(){var t=this.get("record");return this.get("certificates_ready")&&t&&this.get("eligible_for_signature_track")&&t.authenticated_overall&&(!r.isUndefined(t.achievement_level)&&!r.isNull(t.achievement_level)&&t.achievement_level>0||t.passed_ace&&t.is_enrolled_for_proctored_exam)},getsSOA:function(){return this.get("certificates_ready")&&this.get("record")&&!r.isNull(this.get("record").achievement_level)&&!r.isUndefined(this.get("record").achievement_level)&&this.get("record").achievement_level>0},hasGrade:function(){return this.getsSOA()||this.getsSignatureTrackCert()},hasStatement:function(){return this.get("certificates_ready")&&this.get("record")&&this.get("record").achievement_level>0},isEligibleForTrack:function(){return this.get("eligible_for_signature_track")},processTimes:function(){var t="Date to be announced",e="Date TBA",r="",i=41007456e5,s=99999999,n="",o=1e3,c=a(new Date),h="future",u=0,l="",d=null;if(this.get("duration_string")){var g=this.get("duration_string"),_=parseInt(g.split(" ")[0],10);!isNaN(_)&&_>=1&&(n=g,o=_)}if(this.get("self_study"))t=e="Self study";else if(this.get("start_year")&&this.get("start_month")&&!this.get("start_day"))d=a([this.get("start_year"),this.get("start_month")-1]),t=d.format("MMMM YYYY"),e=d.format("MMM YY");else if(this.get("start_year")&&this.get("start_month")&&this.get("start_day")&&(d=a([this.get("start_year"),this.get("start_month")-1,this.get("start_day")]),t=d.format("MMM Do YYYY"),e=d.format("MMM Do"),1e3!=o)){var f=a(d).add("weeks",o);l=f.format("MMM Do")}d&&d.isValid()&&(i=d.valueOf(),r=d.fromNow(),s=d.diff(c,"days"),u=Math.min(Math.abs(Math.ceil(100*(s/(7*o)))),100),0===s?(r="Started today",h="present"):0>s?7*(o+3)>Math.abs(s)&&!this.get("certificates_ready")?(r="Started "+r,h="present"):(r="Ended "+d.add("weeks",o).fromNow(),h="past"):r="Starts "+r);var p={start_percent:u,start_status:h,start_diff:s,start_countdown:r,start_display_short:e,end_display_short:l,start_display:t,start_time:i,duration:n,duration_weeks:o};return p}});return n});
define('js/collections/courses',["backbone","underscore","js/models/course","js/core/coursera","jquery"],function(t,e,n){var r=t.Collection.extend({model:n,comparator:function(t){return t.get("name")}});return r.toArray=function(n){return n instanceof t.Collection?e.toArray(n):n},r.withRecords=function(t,n,i){var o=e.filter(r.toArray(t),function(t){var e=t.get("record");if(t.get("certificates_ready")&&e){var r=t.getsSignatureTrackCert(),o=t.getsSOA();return i?n?r:!r&&o:!o}return!1});return o},r.byTime=function(t){var n=e.sortBy(r.toArray(t),function(t){return"past"==t.get("start_status")?t.get("start_time")+220752e6:t.get("start_time")});return n},r.byTimeDescending=function(t){var n=e.sortBy(r.toArray(t),function(t){return-t.get("start_time")});return n},r.forId=function(t,n){return e.find(r.toArray(t),function(t){return t.get("id")==n?t:void 0})},r});
define('js/models/topic',["jquery","backbone","underscore","js/core/coursera","js/models/course","js/collections/courses","js/lib/moment","js/lib/util","js/lib/backbone.relational"],function(e,t,n,i,r,o,a,s){var l=t.RelationalModel.extend({defaults:{},idAttribute:"short_name",relations:[{type:t.HasMany,key:"courses",relatedModel:r,collectionType:o,reverseRelation:{key:"topic"}}],initialize:function(){this.bind("change",this.updateComputed,this),this.updateComputed()},updateComputed:function(){if(this.get("short_description")&&this.set("short_description",this.get("short_description").replace(/(<([^>]+)>)/gi,""),{silent:!0}),this.get("social_link")||this.set("social_link",i.config.url.base+"course/"+this.get("short_name"),{silent:!0}),!this.get("hash_tag")){var e=this.get("short_name");"gamification"==e&&(e="gamification13"),this.set("hash_tag",e,{silent:!0})}this.get("universities")&&1==this.get("universities").length&&this.set("uni_twitter",this.get("universities")[0].website_twitter,{silent:!0});var t=n.find(o.byTime(this.get("courses")),function(e){return 1==e.get("status")});this.set("open_course",t,{silent:!0});var r=!1;n.each(this.get("universities"),function(e){"stanford"==e.short_name&&(r=!0)}),this.set("universities_display",s.prettyJoin(n.pluck(this.get("universities"),"name")),{silent:!0}),this.set("is_stanford",r,{silent:!0});var a=this.get("language");("zh-Hans"==a||"zh-Hant"==a)&&(a="zh"),this.set("language_group",a,{silent:!0}),this.set("language_name",s.languageCodeToName(this.get("language")),{silent:!0})},sync:function(t){var n=this;this.get("has_full_data")?t():this.get("short_name")&&e.when(i.api.get("topic/information",{data:{"topic-id":n.get("short_name")},message:{waiting:"loading course details ..."}}),i.api.get("user/instructorprofile",{data:{topic_short_name:n.get("short_name"),exclude_topics:1},message:{waiting:"loading course details..."}})).done(function(e,i){n.set(e[0]),n.set("instructors",i[0]),t()}).fail(function(e){t(e.status)})},isUpcoming:function(){return this.get("open_course")?this.get("open_course").get("start_diff")>0&&30>this.get("open_course").get("start_diff"):!1},getCourseById:function(e){return this.get("courses").find(function(t){return t.get("id")==e})},getTwitterText:function(e){e=e||"I'm taking";var t=e+" "+this.get("name"),n=" on @Coursera!",i=t.length+n.length;return this.get("social_link")&&(i+=this.get("social_link").length),this.get("hash_tag")&&(i+=this.get("hash_tag").length),this.get("uni_twitter")&&140>i&&(n=" from @"+this.get("uni_twitter")+n),t+n},getFacebookText:function(){return"I'm taking "+this.get("name")+" on Coursera!"},startsWithinNumDays:function(e){return this.get("open_course")&&"past"!=this.get("open_course").get("start_status")?e>=Math.abs(this.get("open_course").get("start_diff")):!1},hasEligibleForSignatureTrack:function(){return this.get("courses").find(function(e){return e.isEligibleForTrack()})?!0:!1},hasOpenEnrollForSignatureTrack:function(){return this.get("courses").find(function(e){return e.get("status")&&e.get("signature_track_registration_open")})?!0:!1}});return l.getByShortName=function(e){var t=l.findOrCreate({short_name:e});return t},l});
define('js/collections/topics',["jquery","backbone","underscore","js/models/topic","js/core/coursera","require","js/lib/util"],function(t,e,n,r,o,i,c){var a=e.Collection.extend({model:r,comparator:function(t){return t.get("name")},retrieve:function(t,e){var n=this;if(n.length)e(null,n);else{var r=i("js/models/topicsearch"),o=new r;o.set("collection",this),o.set({orderby:"new","page-size":1e3}),o.on("finishLoad",function(){e(null,n)}),o.fetchPage()}},getByShortName:function(t,e){var n=this,r=n.find(function(e){return e.get("short_name")==t});r?e(null,r):n.length?e(null,null):n.retrieve({},function(r){r?e(r):n.getByShortName(t,e)})},getByUniversity:function(t,e){var r=this,o=r.filter(function(e){return n.any(e.get("universities"),function(e){return e.short_name==t})});o&&o.length?e(o):r.length?e(null):r.retrieve({},function(n){n?e(n):r.getByUniversity(t,e)})},getByCategory:function(t,e){var r=this,o=r.filter(function(e){return n.any(e.get("categories"),function(e){return e.short_name==t})});o&&o.length?e(o):r.length?e(null):r.retrieve({},function(n){n?e(n):r.getByCategory(t,e)})},getByInstructor:function(t,e){var r=this,o=r.filter(function(e){return n.contains(e.get("instructors"),t)});o&&o.length?e(o):r.length?e(null):r.retrieve({},function(n){n?e(n):r.getByInstructor(t,e)})}});a.toArray=function(t){return t instanceof e.Collection?n.toArray(t):t},a.byTime=function(t){var e=new Date(2100,12,30).getTime();return n.sortBy(a.toArray(t),function(t){return t.get("open_course")?t.get("open_course").get("start_time"):e})},a.byUpcoming=function(t){var e=1e6;return n.sortBy(a.toArray(t),function(t){return t.get("open_course")?t.get("open_course").get("start_diff")>-14?t.get("open_course").get("start_diff"):t.get("open_course").get("start_diff")+e:2*e})},a.byUpcomingWithCount=function(t,e){var r=1e6,o=0,i=n.sortBy(a.toArray(t),function(t){if(t.get("open_course")){var n=t.get("open_course").get("start_diff");return n>0&&e>n?(o++,t.get("open_course").get("start_diff")):t.get("open_course").get("start_diff")+r}return 2*r});return{topics:i,count:o}},a.byName=function(t){return n.sortBy(a.toArray(t),function(t){return t.get("name")})},a.byDuration=function(t){return n.sortBy(a.toArray(t),function(t){return t.get("open_course")?t.get("open_course").get("duration_weeks"):1e3})},a.byAdded=function(t){return n.sortBy(a.toArray(t),function(t){return-t.get("id")})},a.matchingSearch=function(t,e){var r=e.match(/\w+|"[^"]+"/g);r=n.map(r,function(t){return t.replace(/"/g,"")});var o=n.map(r,function(t){return RegExp(t,"i")}),i=n.filter(a.toArray(t),function(t){var e=n.pluck(t.get("universities"),"name").join(" "),r=n.pluck(t.get("categories"),"name").join(" ");return n.all(o,function(o){return o.test(t.get("name"))||o.test(e)||o.test(r)||o.test(t.get("short_description"))||n.any(t.get("instructors"),function(t){return o.test(c.concatName(t))})})});return i},a.forUniversity=function(t,e){var r=n.filter(a.toArray(t),function(t){var r=n.pluck(t.get("universities"),"short_name");return-1!=r.indexOf(e)});return r},a.forCategory=function(t,e){var r=n.filter(a.toArray(t),function(t){var r=n.pluck(t.get("categories"),"short_name");return-1!=r.indexOf(e)});return r};var u=function(t,e,r,o,i){n.each(t,function(t){var c=t[r];t[o]=[],n.each(c,function(r){var c=n.find(e,function(t){return t[i]==r});t[o].push(c)})})};a.parse=function(t){u(t.topics,t.unis,"unis","universities","id"),u(t.topics,t.cats,"cats","categories","id"),u(t.topics,t.insts,"insts","instructors","instructor_id"),n.each(t.courses,function(e){t.topics[e.topic_id].courses=t.topics[e.topic_id].courses||[],t.topics[e.topic_id].courses.push(e)});var e=n.values(t.topics);return e};var s;return a.singletonReadAll=function(){if(s)return s;s=t.Deferred();var e="topic/list2";return o.cloudfrontApi.get(e).done(function(t){a.nonblockingBackbonify(t,s)}).fail(function(){s.reject()}),s},a.nonblockingBackbonify=function(t,e){function n(){for(var a=r;a+o>r&&c.length>r;)i.add(c[r]),r++;c.length>r?setTimeout(n,0):e.resolve(i,t)}var r=0,o=10,i=new a,c=a.parse(t);n()},a});
define('js/models/mycourse',["js/models/course"],function(e){var t=e.extend({});return t});
define('js/collections/mycourses',["js/models/mycourse","js/collections/courses"],function(t,e){var n=e.extend({model:t});return n});
define('js/models/mytopic',["backbone","js/models/topic","js/models/mycourse","js/collections/mycourses","js/lib/backbone.relational"],function(e,t,n,i){var r=t.extend({relations:[{type:e.HasMany,key:"courses",relatedModel:n,collectionType:i,reverseRelation:{key:"topic"}}]});return r});
define('js/collections/mytopics',["js/collections/topics","js/models/mytopic"],function(t,e){var n=t.extend({model:e});return n});
define('js/json/placementables',[],function(){return["matrix","nlangp","linearopt","java-fr","progfun","compinvesting1","compphoto","conrob","sdn","bigdata","biostats","compdata","dataanalysis","sna","digitaldemocracy","insidetheinternet","netsysbio","algs4partI","algs4partII","interactivepython","programdesign","aiplan","hetero","androidapps101","vlsicad","digitalmedia","malsoftware","compneuro","machlearning","proglang","inforiskman","comnetworks","hardware","posa"]});
define('js/models/user',["jquery","backbone","js/core/coursera","js/lib/cookie","underscore","js/collections/mytopics","js/collections/mycourses","js/collections/courses","js/models/topic","js/lib/util","js/json/placementables"],function(t,e,i,n,r,s,o,u,c,a,l){var g=["id","email_address","external_id","photo_24","photo_60","photo_120","display_name","full_name","privacy","groups","is_superuser","is_staff","identity_verified","universities","locale","timezone"],f=e.Model.extend({defaults:{display_name:"",full_name:"",email_address:"",id:"",local:"",timezone:"",authenticated:!1,signature_track:{},topics:null,courses:null,subscriptions:null,signature_topic:null,enrolling:null},initialize:function(){var t=this,e=t.get("website_linkedin");e&&/^in\/|^pub\//.test(e)?t.set("website_linkedin","http://linkedin.com/"+e):e&&!/^http/.test(e)&&t.set("website_linkedin",null),t.get("photo_120")&&t.set("photo_120",a.makeHttps(t.get("photo_120"))),t.get("signature_track")||t.set("signature_track",{}),t.on("change",t.maybeUpdateCookie,t)},login:function(t){var e=this;e.set(t),e.initialize(),e.updateCookie(),e.set({authenticated:!0}),i.tracker.push(["user",e.get("id")])},logout:function(){return n.clear(),this.set(this.defaults),i.tracker.push(["user",null]),this},maybeUpdateCookie:function(){this.changedAttributes()&&r.intersect(g,r.keys(this.changedAttributes())).length>0&&this.updateCookie()},updateCookie:function(){var t=this;if(window.JSON&&window.JSON.stringify){var e={};r.each(g,function(i){e[i]=t.get(i)});try{n.set("maestro_user",JSON.stringify(e),{expires:48e4,secure:!i.config.debug})}catch(s){}}},resync:function(t){var e=this;i.api.post("user/login").done(function(i){e.login(i),t.call(e,null)}).fail(function(){e.set({authenticated:!1}),t.call(e,!0)})},sync:function(e){var i=this,r=n.get("maestro_login"),s=n.get("maestro_user");if(n.get("sessionid"),r)if(s){var o=t.parseJSON(s);void 0!==o.external_id?(i.login(o),e.call(i,null)):i.resync(e)}else i.resync(e);else e.call(i,null)},getTopics:function(t,e){var n=this;null===n.get("topics")||e?i.api.get("topic/list_my",{data:{user_id:n.get("id")}}).done(function(e){e=r.reject(e,function(t){return"__courserainternal"==t.short_name}),e=new s(e),n.set("topics",e);var i=[];e.each(function(t){i=r.union(i,t.get("courses").toArray())}),n.set("courses",new o(i)),t(e),n.personalizeAccountDropdown()}).fail(function(e){401==e.status?(n.set({authenticated:!1}),i.router.navigate(i.config.dir.home+"account/signin",{trigger:!0,replace:!0})):403==e.status&&t(null)}):(t(n.get("topics")),n.personalizeAccountDropdown())},personalizeAccountDropdown:function(){if(this.get("topics")){var e=this.get("topics").find(function(t){return r.contains(l,t.get("short_name"))});(e||a.countCS(this.get("courses"))>0)&&t(".coursera-header-placement").show()}},getPublicCourses:function(t){var e=this;e.getTopics(function(){var i=e.get("courses").filter(function(t){return t.get("topic").get("display")});t(new o(i))})},isEnrolledInCourse:function(t){return this.get("courses")&&this.get("courses").get(t)?!0:!1},enroll:function(t,e,r){var s=this;i.api.post("course/enroll",{data:{"course-id":t,"enroll-in-signature-track":e}}).done(function(){n.set("just_enrolled",t,{expires:15e3}),r(null,s),s.getTopics(function(){},!0)}).fail(function(){r(!0)})},unenroll:function(t,e){var n=this;i.tracker.push({key:"user.unenroll.api",val:t}),i.api.post("course/unenroll",{data:{"course-id":t}}).done(function(){e(null,n),n.getTopics(function(){},!0)}).fail(function(){e(!0)})},isSubscribedToTopic:function(t){var e=this;return r.find(e.get("subscriptions"),function(e){return e.identifier=="topic."+t.get("id")})},subscribeToTopic:function(t){return i.api.post("user/subscribe",{data:{identifier:"topic."+t.get("id")},message:{waiting:"Subscribing to course...",success:"Subscribed!"}})},unsubscribeFromTopic:function(t){return i.api.post("user/unsubscribe",{data:{identifier:"topic."+t.get("id")},message:{waiting:"Un-subscribing from course...",success:"Un-subscribed."}})},getSubscriptions:function(){var t=this;return i.api.get("user/subscriptions").done(function(e){t.set("subscriptions",e)})},canEditTopic:function(t){return this.get("is_staff")?this.get("is_superuser")?!0:this.isInstructorForTopic(t)?!0:this.isAdminForTopic(t)?!0:!1:!1},isInstructorForTopic:function(t){var i=this;if(r.contains(this.get("groups"),"instructor")){var n;return n=t.get("courses")instanceof e.Collection?t.get("courses").map(function(t){return t.get("instructors")}):t.get("instructors"),r.some(n,function(t){return t&&t==i.get("id")})}return!1},isAdminForTopic:function(t){if(r.contains(this.get("groups"),"university_admin")){var e=this.get("universities");if(!e)return!1;var i,n=t.get("universities");return i=r.isArray(n)&&n.length&&r.isObject(n[0])?r.pluck(n,"id"):n,r.some(i,function(t){return r.contains(e,t)})}return!1},canEditInstructorProfile:function(t){if(this.get("is_superuser"))return!0;if(!this.get("is_staff"))return!1;if(t.get("userid")==this.get("id"))return!0;if(r.include(this.get("groups"),"university_admin")){var e=this.get("universities");return e?r.find(t.get("universities"),function(t){return r.include(e,t.id)}):!1}return!1},canEditUniversity:function(t){if(this.get("is_superuser"))return!0;if(!this.get("is_staff"))return!1;if(r.include(this.get("groups"),"university_admin")){var e=this.get("universities");return e?r.include(e,t.get("id")):!1}},isSuperUser:function(){return this.get("is_superuser")},getRoles:function(){var t={university_admin:"university admin",teaching_assistant:"teaching staff",instructor:"instructor"},e=r.map(this.get("groups"),function(e){return t[e]});return a.prettyJoin(e)},isUniversityAdmin:function(){return r.include(this.get("groups"),"university_admin")},isInstructor:function(){return r.include(this.get("groups"),"instructor")},isTeachingAssistant:function(){return r.include(this.get("groups"),"teaching_assistant")},isOnlyATeachingAssistant:function(){return 1==this.get("groups").length&&r.include(this.get("groups"),"teaching_assistant")},getSignatureCookie:function(){return n.get("signature_course_id")&&n.get("signature_topic")?{courseId:n.get("signature_course_id"),shortName:n.get("signature_topic")}:null},completedAllSTProfile:function(){return this.completedSignaturePhrase()&&this.completedSignaturePhoto()&&this.completedSignatureInfo()},completedSignaturePhrase:function(){return this.get("signature_track").keystrokes_verified},skipKeystroke:function(){return this.get("signature_track").keystrokes_skip},completedSignaturePhoto:function(){return this.get("signature_track").photo_id&&this.get("signature_track").photo_face&&-1!==this.get("signature_track").photos_verified},completedSignatureInfo:function(){var t=this.get("signature_track");return t.first_name&&t.last_name&&t.address_line_1&&t.address_country&&t.dob&&!t.profile_info_editable},enrolledInSignatureCourse:function(t){var e=u.forId(this.get("courses"),t);return e&&e.get("record")?e.get("record").signature_track:!1},isIdentityVerified:function(){return this.get("identity_verified")}});return f});
(function(t){function e(t){return t&&t.replace(/\s+/g,".").toLowerCase()}function n(t){for(var e=[],n=0;t.length>n;n++)(t[n]||0===t[n])&&e.push(t[n]);return e.join(".")}var r=function(e){this.opts=e||{},this.googleTracker=t._gaq||[],this.courseraTracker=this.opts.courseraTracker||t._204||[]};r.prototype.pushEvent=function(t,r,i,o){this.googleTracker.push(["_trackEvent",t,r,i,o]);var a=e(t),s=e(n([r,i,o]));this.courseraTracker.push({key:a,value:s}),this.opts.debugMode&&(console.log(t+", "+r+", "+i+", "+o),console.log(a+": "+s))},"function"==typeof define&&define.amd?define('js/lib/multitracker',[],function(){return r}):t.MultiTracker=r()})(window);
define('js/app/home',["jquery","underscore","backbone","js/core/coursera","js/lib/api","js/lib/supports","js/lib/asyncMessages","js/lib/cookie","js/models/user","js/lib/multitracker"],function(e,r,s,a,n,t,i,o,u,c){var p=e("<div>").appendTo("body").addClass("coursera-async-message");a.message=i.create(p),a.api=n(a.config.url.api,{message:a.message,"csrf.secure":!a.config.debug});var l=t.cors&&window.chrome?a.config.url.cloudfront_api:a.config.url.api;return a.cloudfrontApi=n(l,{message:a.message,"csrf.secure":!a.config.debug}),r.each([a.api,a.cloudfrontApi],function(e){e.on("always",function(e){e.xhr.status>=400?a.tracker.push({key:"api.error."+e.xhr.status,value:{timing:e.timing,url:e.url,params:e.params,status:e.xhr.status,response:e.xhr.responseText}}):a.tracker.push({key:"api.ok."+e.xhr.status,value:{timing:e.timing,url:e.url,params:e.params,status:e.xhr.status}})})}),a.on("region:fetching",function(r){a.message.add(e("<div>loading page</div>").addClass("waiting"),{id:r.name+r.uid})}),a.on("region:fetched",function(e){a.message.remove(e.name+e.uid)}),a.user=new u,a.multitracker=new c({debugMode:a.config.debug}),a});
define('js/models/instructor',["backbone","underscore","js/core/coursera","js/collections/topics","js/models/topic","js/lib/util","js/lib/backbone.relational"],function(e,t,n,i,r,o){var a=e.RelationalModel.extend({relations:[{type:e.HasMany,key:"topics",relatedModel:r,collectionType:i}],initialize:function(){this.updateComputed(),this.on("change",this.updateComputed,this)},updateComputed:function(){this.set("full_name",o.concatName({first_name:this.get("first_name"),middle_name:this.get("middle_name"),last_name:this.get("last_name")}))},getDecoratedName:function(){var e="";return this.get("prefix_name")&&(e+=this.get("prefix_name")),e+=" "+this.get("full_name"),this.get("suffix_name")&&(e+=", "+this.get("suffix_name")),e},getPrettyWebsiteUrl:function(){return o.prettifyUrl(this.get("website"))},getLink:function(){return n.config.url.base+"instructor/"+(this.get("short_name")||"~"+this.get("id"))},shouldDisplay:function(){return this.get("first_name")?!0:!1},sync:function(e){var i=this;t.isUndefined(i.get("bio"))?(this.get("short_name")||this.get("profile_id"))&&n.api.get("user/instructorprofile",{data:{id:this.get("profile_id"),short_name:this.get("short_name")}}).done(function(t){i.set(t[0]),e()}).fail(function(t){e(t.status)}):e()}});return a});
define('js/collections/instructors',["backbone","js/models/instructor"],function(t,e){var n=t.Collection.extend({model:e,byLastName:function(){return new n(this.sortBy(function(t){return t.get("last_name")}))}});return n});
define('js/models/university',["jquery","backbone","js/core/coursera","js/lib/util","js/models/topic","js/collections/topics","js/models/instructor","js/collections/instructors","js/lib/backbone.relational"],function(e,t,n,i,r,o,a,s){var l=t.RelationalModel.extend({defaults:{},relations:[{type:t.HasMany,key:"topics",relatedModel:r,collectionType:o},{type:t.HasMany,key:"instructors",relatedModel:a,collectionType:s}],getPrettyWebsiteUrl:function(){return i.prettifyUrl(this.get("website"))},getLink:function(){return this.get("home_link")||n.config.dir.home+"university/"+this.get("short_name")}});return l});
define('js/lib/backbone.queryparams',["backbone","underscore"],function(t,n){var e=/^\?(.*)/,r=/:([\w\d]+)/g,a=/\*([\w\d]+)/g,i=/[\-\[\]{}()+?.,\\\^$|#\s]/g;n.extend(t.Router.prototype,{getFragment:function(t,n,e){if(null===t)if(this._hasPushState||n){t=window.location.pathname;var r=window.location.search;r&&(t+=r)}else t=window.location.hash;return t=t.replace(hashStrip,""),e&&(t=t.replace(queryStrip,"")),t.indexOf(this.options.root)||(t=t.substr(this.options.root.length)),t},_routeToRegExp:function(t){return t=t.replace(i,"\\$&").replace(r,"([^\\/?]*)").replace(a,"([^\\?]*)"),t+="([\\?]{1}.*)?",RegExp("^"+t+"$")},_extractParameters:function(t,r){var a=t.exec(r).slice(1),i=a.length&&a[a.length-1]&&a[a.length-1].match(e);if(i){var o=i[1],u={};if(o){var s=o.split("&"),l=this;n.each(s,function(t){var n=t.split("=");n.length>1&&n[1]&&l._setParamValue(n[0],n[1],u)})}a[a.length-1]=u}for(var c=0;a.length>c;c++)n.isString(a[c])&&(a[c]=decodeURIComponent(a[c]));return a},_setParamValue:function(t,n,e){for(var r=t.split("."),a=e,i=0;r.length>i;i++){var o=r[i];i===r.length-1?a[o]=this._decodeParamValue(n,a[o]):a=a[o]=a[o]||{}}},_decodeParamValue:function(t,e){if(t.indexOf("|")>=0){for(var r=t.split("|"),a=r.length-1;a>=0;a--)r[a]?r[a]=decodeURIComponent(r[a]):r.splice(a,1);return r}return e?n.isArray(e)?(e.push(t),e):[e,t]:decodeURIComponent(t)},toFragment:function(t,e){return e&&(n.isString(e)||(e=this._toQueryString(e)),t+="?"+e),t},_toQueryString:function(t,e){if(!t)return"";e=e||"";var r="";for(var a in t){var i=t[a];if(n.isString(i)||n.isNumber(i)||n.isBoolean(i)||n.isDate(i))i=this._toQueryParam(i),(n.isBoolean(i)||i)&&(r+=(r?"&":"")+this._toQueryParamName(a,e)+"="+encodeURIComponent(i).replace("|","%7C"));else if(n.isArray(i)){var o="";for(var u in i){var s=this._toQueryParam(i[u]);(n.isBoolean(s)||s)&&(o+="|"+encodeURIComponent(s).replace("|","%7C"))}o&&(r+=(r?"&":"")+this._toQueryParamName(a,e)+"="+o)}else{var l=this._toQueryString(i,this._toQueryParamName(a,e,!0));l&&(r+=(r?"&":"")+l)}}return r},_toQueryParamName:function(t,n,e){return n+t+(e?".":"")},_toQueryParam:function(t){return n.isNull(t)||n.isUndefined(t)?null:n.isDate(t)?t.getDate().getTime():t}})});
(function(wndw){var jadify=function(jade){return function anonymous(locals,attrs,escape,rethrow,merge){attrs=attrs||jade.attrs,escape=escape||jade.escape,rethrow=rethrow||jade.rethrow,merge=merge||jade.merge;var buf=[];with(locals||{})buf.push('<div><div class="coursera-page"><div class="coursera-header"></div><div class="coursera-banner"></div><div class="coursera-body"></div></div><div class="coursera-footer"></div></div>');return buf.join("")}};"function"==typeof define&&define.amd?define('pages/home/template/page.html',["js/lib/jade"],function(e){return jadify(e)}):wndw.jade.templates.page=jadify(wndw.jade.helpers)})(window);
define('pages/home/template/page',["jquery","backbone","underscore","js/core/coursera","pages/home/template/page.html"],function(e,t,n,i,r){var o=t.View.extend({name:"page",subregions:{header:"pages/home/template/header",footer:"pages/home/template/footer",body:"pages/home/template/body",banner:"pages/home/template/banner"},initialize:function(){this.bind("view:appended",this.scroll),this.bind("view:updated",this.scroll)},scroll:function(){e("html, body").scrollTop(0)},render:function(){var t=this.region.regions,i=this,o=e(r());return i.$el.append(o),n.each(["header","banner","body","footer"],function(e){o.find(".coursera-"+e).replaceWith(t[e].view.el)}),i}});return o});
(function(wndw){var jadify=function(jade){return function anonymous(locals,attrs,escape,rethrow,merge){attrs=attrs||jade.attrs,escape=escape||jade.escape,rethrow=rethrow||jade.rethrow,merge=merge||jade.merge;var buf=[];with(locals||{})buf.push('<div><div class="container"><div class="row-fluid"><div class="coursera-footer-content-primary"><a'),buf.push(attrs({href:config.dir.home+"about","class":"internal-home coursera-footer-link"},{href:!0})),buf.push(">About</a><a"),buf.push(attrs({href:config.dir.home+"about/jobs","class":"internal-home coursera-footer-link"},{href:!0})),buf.push(">Careers</a><a"),buf.push(attrs({href:config.dir.home+"about/team","class":"internal-home coursera-footer-link"},{href:!0})),buf.push(">Team</a><a"),buf.push(attrs({href:config.dir.home+"about/contact","class":"internal-home coursera-footer-link"},{href:!0})),buf.push(">Contact</a><a"),buf.push(attrs({href:config.dir.home+"about/press","class":"internal-home coursera-footer-link"},{href:!0})),buf.push(">Press</a><a"),buf.push(attrs({href:config.dir.home+"about/terms","class":"internal-home coursera-footer-link"},{href:!0})),buf.push('>Terms</a><a href="http://help.coursera.org" class="coursera-footer-link">Help </a></div><div class="coursera-footer-content-secondary"><a target="_blank" href="https://plus.google.com/111950594039269281469" title="Follow Coursera on Google Plus" class="coursera-footer-link">Google+</a><a target="_blank" href="http://twitter.com/coursera" title="Follow Coursera on Twitter" class="coursera-footer-link">Twitter</a><a target="_blank" href="http://facebook.com/Coursera" title="Follow Coursera on Facebook" class="coursera-footer-link">Facebook</a><a target="_blank" href="http://blog.coursera.org" title="Read the Coursera blog" class="coursera-footer-link">Blog</a></div></div></div></div>');return buf.join("")}};"function"==typeof define&&define.amd?define('pages/home/template/footer.html',["js/lib/jade"],function(e){return jadify(e)}):wndw.jade.templates.footer=jadify(wndw.jade.helpers)})(window);
define('pages/home/template/footer',["underscore","backbone","js/core/coursera","pages/home/template/footer.html"],function(e,t,n,i){var r=t.View.extend({name:"footer",className:"coursera-footer",attributes:{role:"menubar"},render:function(){return this.$el.html(i({plain:e.has(this.options,"plain")?this.options.plain:!1,external_link:e.has(this.options,"external_link")?this.options.external_link:{},config:n.config})),this}});return r});
(function(wndw){var jadify=function(jade){return function anonymous(locals,attrs,escape,rethrow,merge){attrs=attrs||jade.attrs,escape=escape||jade.escape,rethrow=rethrow||jade.rethrow,merge=merge||jade.merge;var buf=[];with(locals||{}){var interp;buf.push('<div><div class="container"><div class="row"><div class="coursera-header-primary"><a'),buf.push(attrs({href:config.dir.home,"class":"internal-home coursera-logo"},{href:!0})),buf.push('></a></div><div style="float:left;" class="coursera-header-secondary"><span style="margin:0px 0px 0px 37px;color:#717171;"> | </span><a'),buf.push(attrs({href:config.dir.home+"courses","class":"internal-home coursera-header-link"},{href:!0})),buf.push('>Explore Courses</a></div><div class="coursera-header-secondary"><a tabindex="0" role="button" aria-haspopup="true" aria-expanded="false" aria-owns="coursera-header-categories" data-popup-close="data-popup-close" data-popup="#coursera-header-categories" data-popup-bubble="data-popup-bubble" data-popup-direction="hcentered" data-popup-width="1000px" class="coursera-header-link">Categories</a><a tabindex="0" role="button" aria-haspopup="true" aria-expanded="false" aria-owns="coursera-header-universities" data-popup-close="data-popup-close" data-popup="#coursera-header-universities" data-popup-bubble="data-popup-bubble" data-popup-direction="hcentered" data-popup-width="1000px" class="coursera-header-link">Universities</a><a'),buf.push(attrs({href:config.dir.home+"about",tabindex:"0",role:"button","aria-haspopup":"true","aria-expanded":"false","aria-owns":"coursera-header-about-popup","data-popup-close":!0,"data-popup":"#coursera-header-about-popup","data-popup-bind-open":"mouseenter","data-popup-item":"a","data-popup-direction":"se","class":"internal-home coursera-header-link coursera-header-account"},{href:!0,tabindex:!0,role:!0,"aria-haspopup":!0,"aria-expanded":!0,"aria-owns":!0,"data-popup-close":!0,"data-popup":!0,"data-popup-bind-open":!0,"data-popup-item":!0,"data-popup-direction":!0})),buf.push('>About<span>&nbsp;▾</span></a><span style="margin:0px -2px 0px 2px;color:#717171;"> | </span>'),user&&user.get("authenticated")?user&&user.has("auth_info")&&-1!=user.get("auth_info").indexOf("rice.edu")?buf.push('<a data-popup="#coursera-header-account-popup" data-popup-item="a" data-popup-direction="se" data-popup-bind-open="mouseenter" class="coursera-header-link coursera-header-account coursera-header-rice-account"><span class="coursera-header-account-name">&nbsp;'+escape(null==(interp=user.get("headerName"))?"":interp)+"</span><span>&nbsp;▾</span></a>"):user&&user.has("auth_info")&&-1!=user.get("auth_info").indexOf("princeton.edu")?buf.push('<a data-popup="#coursera-header-account-popup" data-popup-item="a" data-popup-direction="se" data-popup-bind-open="mouseenter" class="coursera-header-link coursera-header-account coursera-header-princeton-account"><span class="coursera-header-account-name">&nbsp;'+escape(null==(interp=user.get("headerName"))?"":interp)+"</span><span>&nbsp;▾</span></a>"):user&&user.has("auth_info")&&-1!=user.get("auth_info").indexOf("penn.edu")?buf.push('<a data-popup="#coursera-header-account-popup" data-popup-item="a" data-popup-direction="se" data-popup-bind-open="mouseenter" class="coursera-header-link coursera-header-account coursera-header-penn-account"><span class="coursera-header-account-name">&nbsp;'+escape(null==(interp=user.get("headerName"))?"":interp)+"</span><span>&nbsp;▾</span></a>"):user&&user.has("auth_info")&&-1!=user.get("auth_info").indexOf("umich.edu")?buf.push('<a data-popup="#coursera-header-account-popup" data-popup-item="a" data-popup-direction="se" data-popup-bind-open="mouseenter" class="coursera-header-link coursera-header-account coursera-header-umich-account"><span class="coursera-header-account-name">&nbsp;'+escape(null==(interp=user.get("headerName"))?"":interp)+"</span><span>&nbsp;▾</span></a>"):user&&user.has("auth_info")&&-1!=user.get("auth_info").indexOf("stanford.edu")?buf.push('<a data-popup="#coursera-header-account-popup" data-popup-item="a" data-popup-direction="se" data-popup-bind-open="mouseenter" class="coursera-header-link coursera-header-account coursera-header-stanford-account"><span class="coursera-header-account-name">&nbsp;'+escape(null==(interp=user.get("headerName"))?"":interp)+"</span><span>&nbsp;▾</span></a>"):user&&(buf.push("<a"),buf.push(attrs({href:config.dir.home+user.get("profileUrl"),tabindex:"0",role:"button","aria-haspopup":"true","aria-expanded":"false","aria-owns":"coursera-header-account-popup","data-popup":"#coursera-header-account-popup","data-popup-bind-open":"mouseenter","data-popup-item":"a","data-popup-direction":"se","class":"internal-home coursera-header-link coursera-header-account"},{href:!0,tabindex:!0,role:!0,"aria-haspopup":!0,"aria-expanded":!0,"aria-owns":!0,"data-popup":!0,"data-popup-bind-open":!0,"data-popup-item":!0,"data-popup-direction":!0})),buf.push('><span class="coursera-header-account-name">&nbsp;'+escape(null==(interp=user.get("headerName"))?"":interp)+"</span><span>&nbsp;▾</span></a>")):(buf.push("<a"),buf.push(attrs({href:config.dir.home+"account/signin","class":"internal-home coursera-header-link coursera-header-link-special"},{href:!0})),buf.push(">Login</a><a"),buf.push(attrs({href:config.dir.home+"account/signup","class":"internal-home coursera-header-link coursera-header-link-special"},{href:!0})),buf.push(">Sign Up</a>")),buf.push('</div><div id="coursera-header-categories" style="width:100%;" class="hide"></div><div id="coursera-header-universities" style="width:100%;" class="hide"></div></div></div></div><div id="coursera-header-about-popup" class="hide coursera-header-popup"><a'),buf.push(attrs({"data-popup-close":!0,href:config.dir.home+"about/jobs","class":"internal-home"},{href:!0})),buf.push(">Careers</a><a"),buf.push(attrs({"data-popup-close":!0,href:config.dir.home+"about/team","class":"internal-home"},{href:!0})),buf.push(">Team</a><a"),buf.push(attrs({"data-popup-close":!0,href:config.dir.home+"about/contact","class":"internal-home"},{href:!0})),buf.push(">Contact</a><a"),buf.push(attrs({"data-popup-close":!0,href:config.dir.home+"about/","class":"internal-home"},{href:!0})),buf.push('>About</a></div><div id="coursera-header-account-popup" class="hide coursera-header-popup">'),user&&user.has("auth_info")&&-1!=user.get("auth_info").indexOf("rice.edu")?(buf.push("<a"),buf.push(attrs({"data-popup-close":!0,href:config.dir.home,"class":"internal-home"},{href:!0})),buf.push(">Your Rice Courses</a>")):user&&user.has("auth_info")&&-1!=user.get("auth_info").indexOf("princeton.edu")?(buf.push("<a"),buf.push(attrs({"data-popup-close":!0,href:config.dir.home,"class":"internal-home"},{href:!0})),buf.push(">Your Princeton Courses</a>")):user&&user.has("auth_info")&&-1!=user.get("auth_info").indexOf("umich.edu")?(buf.push("<a"),buf.push(attrs({"data-popup-close":!0,href:config.dir.home,"class":"internal-home"},{href:!0})),buf.push(">Your Michigan Courses</a>")):user&&user.has("auth_info")&&-1!=user.get("auth_info").indexOf("penn.edu")?(buf.push("<a"),buf.push(attrs({"data-popup-close":!0,href:config.dir.home,"class":"internal-home"},{href:!0})),buf.push(">Your Penn Courses</a>")):user&&user.has("auth_info")&&-1!=user.get("auth_info").indexOf("stanford.edu")?(buf.push("<a"),buf.push(attrs({"data-popup-close":!0,href:config.dir.home,"class":"internal-home"},{href:!0})),buf.push(">Your Stanford Courses</a>")):(buf.push("<a"),buf.push(attrs({"data-popup-close":!0,href:config.dir.home,"class":"internal-home"},{href:!0})),buf.push(">Course Dashboard</a>")),user&&user.get("is_staff")&&(buf.push("<a"),buf.push(attrs({"data-popup-close":!0,href:config.dir.home+"admin/","class":"internal-site-admin"},{href:!0})),buf.push('>Admin</a><a data-popup-close="data-popup-close" href="http://support.coursera.org">Support</a>')),user&&(buf.push("<a"),buf.push(attrs({"data-popup-close":!0,href:config.dir.home+user.get("profileUrl"),"class":"internal-home"},{href:!0})),buf.push(">Profile</a>")),buf.push("<a"),buf.push(attrs({"data-popup-close":!0,href:config.dir.home+"account/records","class":"internal-home coursera-header-records"},{href:!0})),buf.push(">Course Records</a><a"),buf.push(attrs({"data-popup-close":!0,href:config.dir.home+"account/careerservices",style:"display:none;","class":"internal-home coursera-header-placement"},{href:!0,style:!0})),buf.push(">Career Services</a><a"),buf.push(attrs({"data-popup-close":!0,href:config.dir.home+"account/settings","class":"internal-home"},{href:!0})),buf.push(">Settings</a><a"),buf.push(attrs({"data-popup-close":!0,href:config.dir.home+"account/logout","class":"internal-home"},{href:!0})),buf.push(">Logout</a></div>")}return buf.join("")}};"function"==typeof define&&define.amd?define('pages/home/template/header.html',["js/lib/jade"],function(e){return jadify(e)}):wndw.jade.templates.header=jadify(wndw.jade.helpers)})(window);
(function(wndw){var jadify=function(jade){return function anonymous(locals,attrs,escape,rethrow,merge){attrs=attrs||jade.attrs,escape=escape||jade.escape,rethrow=rethrow||jade.rethrow,merge=merge||jade.merge;var buf=[];with(locals||{}){var interp;buf.push('<div class="coursera-bubble"><div class="row-fluid">'),_.each(groups,function(e){buf.push('<div style="text-overflow:ellipsis;overflow:hidden;white-space:no-wrap;" class="span4">'),_.each(e,function(e){buf.push("<h4>"),e.get("home_link")?(buf.push("<a"),buf.push(attrs({"data-popup-close":!0,href:e.get("home_link"),title:e.get("name"),target:"_blank"},{href:!0,title:!0,target:!0})),buf.push(">"+escape(null==(interp=e.get("name"))?"":interp)+"</a>")):(buf.push("<a"),buf.push(attrs({"data-popup-close":!0,href:config.dir.home+e.get("short_name"),title:e.get("name"),"class":"internal-home"},{href:!0,title:!0})),buf.push(">"+escape(null==(interp=e.get("name"))?"":interp)+"</a>")),e.get("id")>34&&buf.push("<span> New</span>"),buf.push("</h4>")}),buf.push("</div>")}),buf.push("</div></div>")}return buf.join("")}};"function"==typeof define&&define.amd?define('pages/home/template/universitiesList.html',["js/lib/jade"],function(e){return jadify(e)}):wndw.jade.templates.universitiesList=jadify(wndw.jade.helpers)})(window);
(function(wndw){var jadify=function(jade){return function anonymous(locals,attrs,escape,rethrow,merge){attrs=attrs||jade.attrs,escape=escape||jade.escape,rethrow=rethrow||jade.rethrow,merge=merge||jade.merge;var buf=[];with(locals||{}){var interp;buf.push('<div class="coursera-bubble"><div class="row-fluid">'),_.each(groups,function(e){buf.push('<div style="text-overflow:ellipsis;overflow:hidden;white-space:no-wrap;" class="span6">'),_.each(e,function(e){buf.push("<h4><a"),buf.push(attrs({"data-popup-close":!0,href:config.dir.home+"courses?cats="+e.get("short_name"),title:e.get("name"),"class":"internal-home"},{href:!0,title:!0})),buf.push(">"+escape(null==(interp=e.get("name"))?"":interp)+" </a></h4>")}),buf.push("</div>")}),buf.push("</div></div>")}return buf.join("")}};"function"==typeof define&&define.amd?define('pages/home/template/categoriesList.html',["js/lib/jade"],function(e){return jadify(e)}):wndw.jade.templates.categoriesList=jadify(wndw.jade.helpers)})(window);
define('js/collections/universities',["backbone","underscore","js/models/university","js/core/coursera","jquery"],function(t,e,n,r){function i(t){var e={"Á":"A","Ă":"A","Ắ":"A","Ặ":"A","Ằ":"A","Ẳ":"A","Ẵ":"A","Ǎ":"A","Â":"A","Ấ":"A","Ậ":"A","Ầ":"A","Ẩ":"A","Ẫ":"A","Ä":"A","Ǟ":"A","Ȧ":"A","Ǡ":"A","Ạ":"A","Ȁ":"A","À":"A","Ả":"A","Ȃ":"A","Ā":"A","Ą":"A","Å":"A","Ǻ":"A","Ḁ":"A","Ⱥ":"A","Ã":"A","Ꜳ":"AA","Æ":"AE","Ǽ":"AE","Ǣ":"AE","Ꜵ":"AO","Ꜷ":"AU","Ꜹ":"AV","Ꜻ":"AV","Ꜽ":"AY","Ḃ":"B","Ḅ":"B","Ɓ":"B","Ḇ":"B","Ƀ":"B","Ƃ":"B","Ć":"C","Č":"C","Ç":"C","Ḉ":"C","Ĉ":"C","Ċ":"C","Ƈ":"C","Ȼ":"C","Ď":"D","Ḑ":"D","Ḓ":"D","Ḋ":"D","Ḍ":"D","Ɗ":"D","Ḏ":"D","ǲ":"D","ǅ":"D","Đ":"D","Ƌ":"D","Ǳ":"DZ","Ǆ":"DZ","É":"E","Ĕ":"E","Ě":"E","Ȩ":"E","Ḝ":"E","Ê":"E","Ế":"E","Ệ":"E","Ề":"E","Ể":"E","Ễ":"E","Ḙ":"E","Ë":"E","Ė":"E","Ẹ":"E","Ȅ":"E","È":"E","Ẻ":"E","Ȇ":"E","Ē":"E","Ḗ":"E","Ḕ":"E","Ę":"E","Ɇ":"E","Ẽ":"E","Ḛ":"E","Ꝫ":"ET","Ḟ":"F","Ƒ":"F","Ǵ":"G","Ğ":"G","Ǧ":"G","Ģ":"G","Ĝ":"G","Ġ":"G","Ɠ":"G","Ḡ":"G","Ǥ":"G","Ḫ":"H","Ȟ":"H","Ḩ":"H","Ĥ":"H","Ⱨ":"H","Ḧ":"H","Ḣ":"H","Ḥ":"H","Ħ":"H","Í":"I","Ĭ":"I","Ǐ":"I","Î":"I","Ï":"I","Ḯ":"I","İ":"I","Ị":"I","Ȉ":"I","Ì":"I","Ỉ":"I","Ȋ":"I","Ī":"I","Į":"I","Ɨ":"I","Ĩ":"I","Ḭ":"I","Ꝺ":"D","Ꝼ":"F","Ᵹ":"G","Ꞃ":"R","Ꞅ":"S","Ꞇ":"T","Ꝭ":"IS","Ĵ":"J","Ɉ":"J","Ḱ":"K","Ǩ":"K","Ķ":"K","Ⱪ":"K","Ꝃ":"K","Ḳ":"K","Ƙ":"K","Ḵ":"K","Ꝁ":"K","Ꝅ":"K","Ĺ":"L","Ƚ":"L","Ľ":"L","Ļ":"L","Ḽ":"L","Ḷ":"L","Ḹ":"L","Ⱡ":"L","Ꝉ":"L","Ḻ":"L","Ŀ":"L","Ɫ":"L","ǈ":"L","Ł":"L","Ǉ":"LJ","Ḿ":"M","Ṁ":"M","Ṃ":"M","Ɱ":"M","Ń":"N","Ň":"N","Ņ":"N","Ṋ":"N","Ṅ":"N","Ṇ":"N","Ǹ":"N","Ɲ":"N","Ṉ":"N","Ƞ":"N","ǋ":"N","Ñ":"N","Ǌ":"NJ","Ó":"O","Ŏ":"O","Ǒ":"O","Ô":"O","Ố":"O","Ộ":"O","Ồ":"O","Ổ":"O","Ỗ":"O","Ö":"O","Ȫ":"O","Ȯ":"O","Ȱ":"O","Ọ":"O","Ő":"O","Ȍ":"O","Ò":"O","Ỏ":"O","Ơ":"O","Ớ":"O","Ợ":"O","Ờ":"O","Ở":"O","Ỡ":"O","Ȏ":"O","Ꝋ":"O","Ꝍ":"O","Ō":"O","Ṓ":"O","Ṑ":"O","Ɵ":"O","Ǫ":"O","Ǭ":"O","Ø":"O","Ǿ":"O","Õ":"O","Ṍ":"O","Ṏ":"O","Ȭ":"O","Ƣ":"OI","Ꝏ":"OO","Ɛ":"E","Ɔ":"O","Ȣ":"OU","Ṕ":"P","Ṗ":"P","Ꝓ":"P","Ƥ":"P","Ꝕ":"P","Ᵽ":"P","Ꝑ":"P","Ꝙ":"Q","Ꝗ":"Q","Ŕ":"R","Ř":"R","Ŗ":"R","Ṙ":"R","Ṛ":"R","Ṝ":"R","Ȑ":"R","Ȓ":"R","Ṟ":"R","Ɍ":"R","Ɽ":"R","Ꜿ":"C","Ǝ":"E","Ś":"S","Ṥ":"S","Š":"S","Ṧ":"S","Ş":"S","Ŝ":"S","Ș":"S","Ṡ":"S","Ṣ":"S","Ṩ":"S","Ť":"T","Ţ":"T","Ṱ":"T","Ț":"T","Ⱦ":"T","Ṫ":"T","Ṭ":"T","Ƭ":"T","Ṯ":"T","Ʈ":"T","Ŧ":"T","Ɐ":"A","Ꞁ":"L","Ɯ":"M","Ʌ":"V","Ꜩ":"TZ","Ú":"U","Ŭ":"U","Ǔ":"U","Û":"U","Ṷ":"U","Ü":"U","Ǘ":"U","Ǚ":"U","Ǜ":"U","Ǖ":"U","Ṳ":"U","Ụ":"U","Ű":"U","Ȕ":"U","Ù":"U","Ủ":"U","Ư":"U","Ứ":"U","Ự":"U","Ừ":"U","Ử":"U","Ữ":"U","Ȗ":"U","Ū":"U","Ṻ":"U","Ų":"U","Ů":"U","Ũ":"U","Ṹ":"U","Ṵ":"U","Ꝟ":"V","Ṿ":"V","Ʋ":"V","Ṽ":"V","Ꝡ":"VY","Ẃ":"W","Ŵ":"W","Ẅ":"W","Ẇ":"W","Ẉ":"W","Ẁ":"W","Ⱳ":"W","Ẍ":"X","Ẋ":"X","Ý":"Y","Ŷ":"Y","Ÿ":"Y","Ẏ":"Y","Ỵ":"Y","Ỳ":"Y","Ƴ":"Y","Ỷ":"Y","Ỿ":"Y","Ȳ":"Y","Ɏ":"Y","Ỹ":"Y","Ź":"Z","Ž":"Z","Ẑ":"Z","Ⱬ":"Z","Ż":"Z","Ẓ":"Z","Ȥ":"Z","Ẕ":"Z","Ƶ":"Z","Ĳ":"IJ","Œ":"OE","ᴀ":"A","ᴁ":"AE","ʙ":"B","ᴃ":"B","ᴄ":"C","ᴅ":"D","ᴇ":"E","ꜰ":"F","ɢ":"G","ʛ":"G","ʜ":"H","ɪ":"I","ʁ":"R","ᴊ":"J","ᴋ":"K","ʟ":"L","ᴌ":"L","ᴍ":"M","ɴ":"N","ᴏ":"O","ɶ":"OE","ᴐ":"O","ᴕ":"OU","ᴘ":"P","ʀ":"R","ᴎ":"N","ᴙ":"R","ꜱ":"S","ᴛ":"T","ⱻ":"E","ᴚ":"R","ᴜ":"U","ᴠ":"V","ᴡ":"W","ʏ":"Y","ᴢ":"Z","á":"a","ă":"a","ắ":"a","ặ":"a","ằ":"a","ẳ":"a","ẵ":"a","ǎ":"a","â":"a","ấ":"a","ậ":"a","ầ":"a","ẩ":"a","ẫ":"a","ä":"a","ǟ":"a","ȧ":"a","ǡ":"a","ạ":"a","ȁ":"a","à":"a","ả":"a","ȃ":"a","ā":"a","ą":"a","ᶏ":"a","ẚ":"a","å":"a","ǻ":"a","ḁ":"a","ⱥ":"a","ã":"a","ꜳ":"aa","æ":"ae","ǽ":"ae","ǣ":"ae","ꜵ":"ao","ꜷ":"au","ꜹ":"av","ꜻ":"av","ꜽ":"ay","ḃ":"b","ḅ":"b","ɓ":"b","ḇ":"b","ᵬ":"b","ᶀ":"b","ƀ":"b","ƃ":"b","ɵ":"o","ć":"c","č":"c","ç":"c","ḉ":"c","ĉ":"c","ɕ":"c","ċ":"c","ƈ":"c","ȼ":"c","ď":"d","ḑ":"d","ḓ":"d","ȡ":"d","ḋ":"d","ḍ":"d","ɗ":"d","ᶑ":"d","ḏ":"d","ᵭ":"d","ᶁ":"d","đ":"d","ɖ":"d","ƌ":"d","ı":"i","ȷ":"j","ɟ":"j","ʄ":"j","ǳ":"dz","ǆ":"dz","é":"e","ĕ":"e","ě":"e","ȩ":"e","ḝ":"e","ê":"e","ế":"e","ệ":"e","ề":"e","ể":"e","ễ":"e","ḙ":"e","ë":"e","ė":"e","ẹ":"e","ȅ":"e","è":"e","ẻ":"e","ȇ":"e","ē":"e","ḗ":"e","ḕ":"e","ⱸ":"e","ę":"e","ᶒ":"e","ɇ":"e","ẽ":"e","ḛ":"e","ꝫ":"et","ḟ":"f","ƒ":"f","ᵮ":"f","ᶂ":"f","ǵ":"g","ğ":"g","ǧ":"g","ģ":"g","ĝ":"g","ġ":"g","ɠ":"g","ḡ":"g","ᶃ":"g","ǥ":"g","ḫ":"h","ȟ":"h","ḩ":"h","ĥ":"h","ⱨ":"h","ḧ":"h","ḣ":"h","ḥ":"h","ɦ":"h","ẖ":"h","ħ":"h","ƕ":"hv","í":"i","ĭ":"i","ǐ":"i","î":"i","ï":"i","ḯ":"i","ị":"i","ȉ":"i","ì":"i","ỉ":"i","ȋ":"i","ī":"i","į":"i","ᶖ":"i","ɨ":"i","ĩ":"i","ḭ":"i","ꝺ":"d","ꝼ":"f","ᵹ":"g","ꞃ":"r","ꞅ":"s","ꞇ":"t","ꝭ":"is","ǰ":"j","ĵ":"j","ʝ":"j","ɉ":"j","ḱ":"k","ǩ":"k","ķ":"k","ⱪ":"k","ꝃ":"k","ḳ":"k","ƙ":"k","ḵ":"k","ᶄ":"k","ꝁ":"k","ꝅ":"k","ĺ":"l","ƚ":"l","ɬ":"l","ľ":"l","ļ":"l","ḽ":"l","ȴ":"l","ḷ":"l","ḹ":"l","ⱡ":"l","ꝉ":"l","ḻ":"l","ŀ":"l","ɫ":"l","ᶅ":"l","ɭ":"l","ł":"l","ǉ":"lj","ſ":"s","ẜ":"s","ẛ":"s","ẝ":"s","ḿ":"m","ṁ":"m","ṃ":"m","ɱ":"m","ᵯ":"m","ᶆ":"m","ń":"n","ň":"n","ņ":"n","ṋ":"n","ȵ":"n","ṅ":"n","ṇ":"n","ǹ":"n","ɲ":"n","ṉ":"n","ƞ":"n","ᵰ":"n","ᶇ":"n","ɳ":"n","ñ":"n","ǌ":"nj","ó":"o","ŏ":"o","ǒ":"o","ô":"o","ố":"o","ộ":"o","ồ":"o","ổ":"o","ỗ":"o","ö":"o","ȫ":"o","ȯ":"o","ȱ":"o","ọ":"o","ő":"o","ȍ":"o","ò":"o","ỏ":"o","ơ":"o","ớ":"o","ợ":"o","ờ":"o","ở":"o","ỡ":"o","ȏ":"o","ꝋ":"o","ꝍ":"o","ⱺ":"o","ō":"o","ṓ":"o","ṑ":"o","ǫ":"o","ǭ":"o","ø":"o","ǿ":"o","õ":"o","ṍ":"o","ṏ":"o","ȭ":"o","ƣ":"oi","ꝏ":"oo","ɛ":"e","ᶓ":"e","ɔ":"o","ᶗ":"o","ȣ":"ou","ṕ":"p","ṗ":"p","ꝓ":"p","ƥ":"p","ᵱ":"p","ᶈ":"p","ꝕ":"p","ᵽ":"p","ꝑ":"p","ꝙ":"q","ʠ":"q","ɋ":"q","ꝗ":"q","ŕ":"r","ř":"r","ŗ":"r","ṙ":"r","ṛ":"r","ṝ":"r","ȑ":"r","ɾ":"r","ᵳ":"r","ȓ":"r","ṟ":"r","ɼ":"r","ᵲ":"r","ᶉ":"r","ɍ":"r","ɽ":"r","ↄ":"c","ꜿ":"c","ɘ":"e","ɿ":"r","ś":"s","ṥ":"s","š":"s","ṧ":"s","ş":"s","ŝ":"s","ș":"s","ṡ":"s","ṣ":"s","ṩ":"s","ʂ":"s","ᵴ":"s","ᶊ":"s","ȿ":"s","ɡ":"g","ᴑ":"o","ᴓ":"o","ᴝ":"u","ť":"t","ţ":"t","ṱ":"t","ț":"t","ȶ":"t","ẗ":"t","ⱦ":"t","ṫ":"t","ṭ":"t","ƭ":"t","ṯ":"t","ᵵ":"t","ƫ":"t","ʈ":"t","ŧ":"t","ᵺ":"th","ɐ":"a","ᴂ":"ae","ǝ":"e","ᵷ":"g","ɥ":"h","ʮ":"h","ʯ":"h","ᴉ":"i","ʞ":"k","ꞁ":"l","ɯ":"m","ɰ":"m","ᴔ":"oe","ɹ":"r","ɻ":"r","ɺ":"r","ⱹ":"r","ʇ":"t","ʌ":"v","ʍ":"w","ʎ":"y","ꜩ":"tz","ú":"u","ŭ":"u","ǔ":"u","û":"u","ṷ":"u","ü":"u","ǘ":"u","ǚ":"u","ǜ":"u","ǖ":"u","ṳ":"u","ụ":"u","ű":"u","ȕ":"u","ù":"u","ủ":"u","ư":"u","ứ":"u","ự":"u","ừ":"u","ử":"u","ữ":"u","ȗ":"u","ū":"u","ṻ":"u","ų":"u","ᶙ":"u","ů":"u","ũ":"u","ṹ":"u","ṵ":"u","ᵫ":"ue","ꝸ":"um","ⱴ":"v","ꝟ":"v","ṿ":"v","ʋ":"v","ᶌ":"v","ⱱ":"v","ṽ":"v","ꝡ":"vy","ẃ":"w","ŵ":"w","ẅ":"w","ẇ":"w","ẉ":"w","ẁ":"w","ⱳ":"w","ẘ":"w","ẍ":"x","ẋ":"x","ᶍ":"x","ý":"y","ŷ":"y","ÿ":"y","ẏ":"y","ỵ":"y","ỳ":"y","ƴ":"y","ỷ":"y","ỿ":"y","ȳ":"y","ẙ":"y","ɏ":"y","ỹ":"y","ź":"z","ž":"z","ẑ":"z","ʑ":"z","ⱬ":"z","ż":"z","ẓ":"z","ȥ":"z","ẕ":"z","ᵶ":"z","ᶎ":"z","ʐ":"z","ƶ":"z","ɀ":"z","ﬀ":"ff","ﬃ":"ffi","ﬄ":"ffl","ﬁ":"fi","ﬂ":"fl","ĳ":"ij","œ":"oe","ﬆ":"st","ₐ":"a","ₑ":"e","ᵢ":"i","ⱼ":"j","ₒ":"o","ᵣ":"r","ᵤ":"u","ᵥ":"v","ₓ":"x"};return t.replace(/[^A-Za-z0-9\[\] ]/g,function(t){return e[t]||t})}var o=t.Collection.extend({model:n,comparator:function(t){return i(t.get("name"))},retrieve:function(t,e){var n=this;n.length?e(null,n):r.api.get("university/list",{data:t||{}}).done(function(t){n.add(t),e(null,n)}).fail(function(){e(!0,n)})}});return o});
define('js/models/category',["backbone"],function(e){var t=e.Model.extend({});return t});
define('js/collections/categories',["backbone","underscore","jquery","js/models/category","js/core/coursera"],function(t,e,n,r,i){var o=t.Collection.extend({model:r,comparator:function(t){return t.get("name")},retrieve:function(t,e){var n=this;n.length?e(null,n):i.api.get("category/list",{data:t||{}}).done(function(t){n.add(t),e(null,n)}).fail(function(){e(!0,n)})}});return o});
(function(t){var e=function(t,e,n){var i=38,r=40,o=32,a=27,s={defaults:{"bind.open":"click","bind.close":"click","bind.cancel.document":"mousemove","bind.cancel.popup":"mouseleave","bind.keydown":"keydown",direction:"sw","offset.x":0,"offset.y":0,timeout:150,resize:!1,width:!1,"attribute.open":"data-popup","attribute.close":"data-popup-close","attribute.item":"data-popup-item","class.bubble":"coursera-bubble",bubble:!1,position:"absolute"},prevPopup:null,getPopup:function(e,n){var i=t(e).data("popup.me");return i&&i.constructor==l.prototype.constructor?n?i.customize(n):i:null},getPopupForAnchor:function(n,i){var r=n.attr(s.defaults["attribute.open"]),o=t(r),a=s.readDataAttributes(n,"data-popup-",e.extend({},s.defaults,i)),l=s.makePopup(o,a);return l},closeOlderPopups:function(){s.prevPopup&&(s.prevPopup.close(),s.prevPopup=null)},isTouch:"ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch,makePopup:function(e,n){var i,r=t(e);return i=r.attr("data-popup")?s.getPopupForAnchor(r):s.getPopup(r),i||(i=new l(r,n),r.data("popup.me",i)),i},monitorKeys:function(t){e.contains([i,r],t.keyCode)&&(t.preventDefault(),t.stopPropagation(),s.changeFocus.call(this,t)),t.keyCode==a&&(this.$anchor.focus(),this.close())},monitorActions:function(e){var n=this.$el[0],i=t(e.target),r=this;if("mouseleave"!=e.type){if(0===i.width()*i.height())return;this.timeout&&window.clearTimeout(this.timeout)}("mouseleave"==e.type||0===i.closest(n).size()&&0===i.closest(this.$anchor).size())&&(this.timeout=window.setTimeout(function(){r.close()},this.options.timeout))},readDataAttributes:function(t,e,n){var i={};for(var r in n){var o=t.attr(e+r.replace(/\./g,"-"));i[r]=void 0===o?n[r]:o}return i},changeFocus:function(t){if(this.$anchor){var e=this.$anchor.attr(this.options["attribute.item"]),n=this.$el.children(":visible");e&&n.filter(e),n.length&&(index=n.index(n.filter(":focus")),t.keyCode==i&&index--,t.keyCode==r&&index++,0>index||index>=n.length?this.$anchor.focus():n.length>index&&n.eq(index).focus())}}},l=function(e,n){this.$el=t(e),this.$parent=this.$el.parent(),this.$anchor=null,this.customize(n)};l.prototype.customize=function(t){return this.options=e.extend({},s.defaults,t),this},l.prototype.get=function(){return this.$el},l.prototype.open=function(n){var i=this,r=t(n);if(!this.$anchor||this.$anchor[0]!=r[0]){this.anchor&&this.close();var o=r.position();this.$anchor=r,this.$anchor.parent().append(this.$el),this.$anchor.attr("aria-expanded","true"),i.options.resize&&this.$el.width(this.$anchor.outerWidth()),i.options.width&&this.$el.css("width",i.options.width),this.trigger("opening",this.$anchor);var a=0;if(this.options.direction&&"sw"!=this.options.direction?"se"==this.options.direction?this.move(o.left+r.outerWidth()+this.options["offset.x"]-this.$el.outerWidth(),o.top+r.outerHeight()+this.options["offset.y"]):"ne"==this.options.direction?this.move(o.left+r.outerWidth()+this.options["offset.x"]-this.$el.outerWidth(),o.top-this.$el.outerHeight()):"hcentered"==this.options.direction&&(this.move("50%",o.top+r.outerHeight()+this.options["offset.y"]),a=-this.$el.width()/2,this.$el.css("margin-left",a)):this.move(o.left+this.options["offset.x"],o.top+r.outerHeight()+this.options["offset.y"]),this.$el.show(),this.options.bubble){var l=this.$el.position().left+a,u=r.position().left,c=u-l-30+r.width()/2,d="."+this.options["class.bubble"]+"::before { display: block; left: "+c+"px; } "+"."+this.options["class.bubble"]+"::after { display: block; left: "+(c+1)+"px; } ",f=t('<style type="text/css">');f.text(d),t(document.head).append(f)}setTimeout(function(){s.closeOlderPopups(),r.addClass("popup-opened"),i.trigger("opened",i.$anchor),s.prevPopup=i,i.$el.on(i.options["bind.cancel.popup"]+".popup",e.bind(s.monitorActions,i)),i.$anchor.on(i.options["bind.cancel.popup"]+".popup",e.bind(s.monitorActions,i)),t(document).on(i.options["bind.cancel.document"]+".popup",e.bind(s.monitorActions,i)).on(i.options["bind.keydown"]+".popup",e.bind(s.monitorKeys,i)),i.$anchor.on(i.options["bind.close"]+".popup",function(){i.close()}),i.options["attribute.close"]&&i.$el.on(i.options["bind.close"]+".popup","["+i.options["attribute.close"]+"]",function(e){"disabled"!=t(e.currentTarget).attr("disabled")&&i.close()})},0)}return this},l.prototype.move=function(t,e,n){return this.$el.css({left:t,top:e,"z-index":n||1e4,position:this.options.position}),this},l.prototype.close=function(){return t(document).off(".popup"),this.$anchor.attr("aria-expanded","false"),this.$anchor.removeClass("popup-opened"),this.trigger("closing",this.$anchor),this.$el.off(".popup").hide(),this.$anchor.off(".popup"),this.$parent.append(this.$el),this.trigger("closed",this.$anchor),this.$anchor=null,window.clearTimeout(this.timeout),s.prevPopup=null,this},l.prototype.isOpen=function(){return this.$el.is(":visible")},e.extend(l.prototype,n.Events);var u=function(){return s.getPopup.apply(null,arguments)||s.makePopup.apply(this,arguments)};return u.start=function(n,a){function l(t,e){t.isOpen()||t.open(e)}var u=t(n),c=e.extend({},s.defaults,a);u.on("click.popup mouseenter.popup keydown.popup","["+c["attribute.open"]+"]",function(n){var u=t(this),c=u.attr("data-popup-bind-open");if("disabled"!=u.attr("disabled")){var d=s.getPopupForAnchor(u,a);"keydown"==n.type&&e.contains([i,r,o],n.keyCode)&&(n.preventDefault(),n.stopPropagation(),n.keyCode==r||n.keyCode==o?(d.isOpen()||l(d,u),s.changeFocus.call(d,n)):n.keyCode==i&&d.isOpen()&&d.close()),(n.type==c||!c&&"click"==n.type||s.isTouch&&"click"==n.type)&&l(d,u)}})},u.stop=function(e){var n=t(e);n.off(".popup"),s.closeOlderPopups()},u.start("body"),u};"function"==typeof define&&define.amd?define('js/lib/popups',["jquery","underscore","backbone"],function(t,n,i){return e(t,n,i)}):t.Popup=e(t.$,t._,t.Backbone)})(window);
(function(t){function n(t){null==t&&(t=navigator.userAgent),this.source=t.replace(/^\s*/,"").replace(/\s*$/,""),this.browser_name=u(this.source),this.browser_version=s(this.source),this.os=l(this.source),this.platform=c(this.source)}function e(t){function e(){var t=new n;return"ie"==t.browser_name&&9>t.browser_version?!1:"firefox"==t.browser_name&&12>t.browser_version?!1:"safari"==t.browser_name&&5>t.browser_version?!1:!0}function r(){if(!e()){if(t(".coursera-browser-banner").length>0)return;var n=t('<div class="coursera-browser-banner">');n.css({"text-align":"center","font-size":"16px",padding:"10px 0px",background:"#FFEEA9","margin-top":"-100px","border-bottom":"1px solid #CCC"}),n.html('You are using an unsupported browser, so some features may not work. <br> Please upgrade to a <a href="http://www.coursera.org/browsers">modern browser</a>.'),t(document.body).prepend(n),n.animate({"margin-top":"+=100px"},1e3)}}t&&t(document).ready(r)}var r,a,i,o,u,s,l,c;o={Firefox:/firefox\/([\d\w\.\-]+)/i,IE:/msie\s([\d\.]+[\d])/i,Chrome:/chrome\/([\d\w\.\-]+)/i,Safari:/version\/([\d\w\.\-]+)/i,Ps3:/([\d\w\.\-]+)\)\s*$/i,Psp:/([\d\w\.\-]+)\)?\s*$/i},r={Konqueror:/konqueror/i,Chrome:/chrome/i,Safari:/safari/i,IE:/msie/i,Opera:/opera/i,PS3:/playstation 3/i,PSP:/playstation portable/i,Firefox:/firefox/i},a={WindowsVista:/windows nt 6\.0/i,Windows7:/windows nt 6\.\d+/i,Windows2003:/windows nt 5\.2/i,WindowsXP:/windows nt 5\.1/i,Windows2000:/windows nt 5\.0/i,OSX:/os x (\d+)[._](\d+)/i,Linux:/linux/i,Wii:/wii/i,PS3:/playstation 3/i,PSP:/playstation portable/i,Ipad:/\(iPad.*os (\d+)[._](\d+)/i,Iphone:/\(iPhone.*os (\d+)[._](\d+)/i},i={Windows:/windows/i,Mac:/macintosh/i,Linux:/linux/i,Wii:/wii/i,Playstation:/playstation/i,Ipad:/ipad/i,Ipod:/ipod/i,Iphone:/iphone/i,Android:/android/i,Blackberry:/blackberry/i},u=function(t){return r.Konqueror.test(t)?"konqueror":r.Chrome.test(t)?"chrome":r.Safari.test(t)?"safari":r.IE.test(t)?"ie":r.Opera.test(t)?"opera":r.PS3.test(t)?"ps3":r.PSP.test(t)?"psp":r.Firefox.test(t)?"firefox":"unknown"},s=function(t){var n;switch(u(t)){case"chrome":if(o.Chrome.test(t))return RegExp.$1;break;case"safari":if(o.Safari.test(t))return RegExp.$1;break;case"firefox":if(o.Firefox.test(t))return RegExp.$1;break;case"ie":if(o.IE.test(t))return RegExp.$1;break;case"ps3":if(o.Ps3.test(t))return RegExp.$1;break;case"psp":if(o.Psp.test(t))return RegExp.$1;break;default:if(n=/#\{name\}[\/ ]([\d\w\.\-]+)/i,n.test(t))return RegExp.$1}},l=function(t){return a.WindowsVista.test(t)?"Windows Vista":a.Windows7.test(t)?"Windows 7":a.Windows2003.test(t)?"Windows 2003":a.WindowsXP.test(t)?"Windows XP":a.Windows2000.test(t)?"Windows 2000":a.Linux.test(t)?"Linux":a.Wii.test(t)?"Wii":a.PS3.test(t)?"Playstation":a.PSP.test(t)?"Playstation":a.OSX.test(t)?t.match(a.OSX)[0].replace("_","."):a.Ipad.test(t)?t.match(a.Ipad)[0].replace("_","."):a.Iphone.test(t)?t.match(a.Iphone)[0].replace("_","."):"unknown"},c=function(t){return i.Windows.test(t)?"Microsoft Windows":i.Mac.test(t)?"Apple Mac":i.Android.test(t)?"Android":i.Blackberry.test(t)?"Blackberry":i.Linux.test(t)?"Linux":i.Wii.test(t)?"Wii":i.Playstation.test(t)?"Playstation":i.Ipad.test(t)?"iPad":i.Ipod.test(t)?"iPod":i.Iphone.test(t)?"iPhone":"unknown"},"function"==typeof define&&define.amd?define('js/lib/browser',["jquery"],function(t){return new e(t)}):new e(t.$)})(window);
define('pages/home/template/header',["underscore","backbone","js/core/coursera","pages/home/template/header.html","pages/home/template/universitiesList.html","pages/home/template/categoriesList.html","js/collections/universities","js/collections/categories","js/lib/cookie","js/lib/popups","js/lib/util","jquery","js/lib/browser"],function(e,t,n,r,i,o,a,s,l,u,c){function d(e,t,n,r){var i=this;this.$anchor=e,this.collection=new t,this.template=n,this.columns=r||3;var o=u(e);i.$el=o.$el,o.on("opening",function(){i.collection.length?i.showCollection():i.collection.retrieve({},function(e){e||i.showCollection()})})}d.prototype.groupCollection=function(){var t=this.collection.toArray(),n=t.length/this.columns,r=e.groupBy(t,function(e,t){return n>t?1:t>=n&&2*n>=t?2:t>2*n&&3*n>=t?3:void 0});return r},d.prototype.showCollection=function(){this.$el.html(this.template({groups:this.groupCollection(),config:n.config,_:e}))};var h=t.View.extend({name:"header",className:"coursera-header",attributes:{role:"menubar"},initialize:function(){var e=this;e.bind("view:appended",function(){n.user&&n.user.personalizeAccountDropdown(),new d(e.$('[data-popup="#coursera-header-universities"]'),a,i),new d(e.$('[data-popup="#coursera-header-categories"]'),s,o,2),e.options.universities&&e.$('[data-popup="#coursera-header-universities"]').click()}),e.bind("view:closed",function(){})},render:function(){var t=this;return n.user&&n.user.get("authenticated")&&(n.user.set("profileUrl","-1"==n.user.get("privacy")?"account/profile":"user/i/"+n.user.get("external_id")),n.user.set("headerName",c.truncateText(n.user.get("display_name"),15))),t.$el.html(r({config:n.config,user:n.user,util:c,showJobs:e.has(this.options,"showJobs")?this.options.showJobs:!0,plain:e.has(this.options,"plain")?this.options.plain:!1,minimal:e.has(this.options,"minimal")?this.options.minimal:!1})),t}});return h});
define('pages/home/template/body',["underscore","backbone"],function(e,t){var n=t.View.extend({name:"body",attributes:{role:"article"},className:"coursera-body"});return n});
(function(wndw){var jadify=function(jade){return function anonymous(locals,attrs,escape,rethrow,merge){attrs=attrs||jade.attrs,escape=escape||jade.escape,rethrow=rethrow||jade.rethrow,merge=merge||jade.merge;var buf=[];with(locals||{}){var interp;buf.push('<div class="coursera-front-search-banner"></div><div class="container"><div class="coursera-front-sections"><div class="coursera-front-courses"></div><div class="row-fluid coursera-front-section-header"><span class="coursera-front-section-header-title">Recent News</span><span class="coursera-front-section-header-link"><a href="http://blog.coursera.org">View blog »</a></span></div><div class="coursera-front-promos">');for(var i=0;promos.length>i;i++)buf.push('<div class="coursera-front-promos-listing"><a'),buf.push(attrs({href:promos[i].url},{href:!0})),buf.push('> <div class="coursera-front-promos-listing-box coursera-promos-listing-box"><img'),buf.push(attrs({src:config.url.assets+"images/promos/"+promos[i].image},{src:!0})),buf.push("/></div><h4>"+escape(null==(interp=promos[i].title)?"":interp)+"</h4></a></div>");buf.push('</div></div><div class="coursera-endpage"></div></div>')}return buf.join("")}};"function"==typeof define&&define.amd?define('pages/home/front/frontBody.html',["js/lib/jade"],function(e){return jadify(e)}):wndw.jade.templates.frontBody=jadify(wndw.jade.helpers)})(window);
(function(wndw){var jadify=function(jade){return function anonymous(locals,attrs,escape,rethrow,merge){attrs=attrs||jade.attrs,escape=escape||jade.escape,rethrow=rethrow||jade.rethrow,merge=merge||jade.merge;var buf=[];with(locals||{})buf.push('<div class="row-fluid coursera-front-section-header"><span class="coursera-front-section-header-title"><span>Starting Soon (</span><span class="coursera-front-upcoming-count"><img'),buf.push(attrs({src:config.url.assets+"images/icons/loading.gif",width:"12",height:"12"},{src:!0,width:!0,height:!0})),buf.push('/></span><span>)</span></span><span class="coursera-front-section-header-link"><a href="/courses?stats=upcoming" class="internal-home coursera-front-to-catalog-link">View courses starting soon »</a></span></div><div class="coursera-front-course-listing coursera-front-course-soon"><span>Loading&nbsp;&nbsp;</span><img'),buf.push(attrs({src:config.url.assets+"images/icons/loading.gif",width:"12",height:"12"},{src:!0,width:!0,height:!0})),buf.push('/></div><br/><div class="row-fluid coursera-front-section-header"><span class="coursera-front-section-header-title">Recently Added</span><span class="coursera-front-section-header-link"><a href="/courses?orderby=new" class="internal-home coursera-to-catalog-link">View recently added courses »</a></span></div><div class="coursera-front-course-listing coursera-front-course-recent"><span>Loading&nbsp;&nbsp;</span><img'),buf.push(attrs({src:config.url.assets+"images/icons/loading.gif",width:"12",height:"12"},{src:!0,width:!0,height:!0})),buf.push('/></div><a href="/courses" class="internal-home coursera-view-all-link coursera-to-catalog-link">View more courses »</a>');return buf.join("")}};"function"==typeof define&&define.amd?define('pages/home/front/frontCourse.html',["js/lib/jade"],function(e){return jadify(e)}):wndw.jade.templates.frontCourse=jadify(wndw.jade.helpers)})(window);
define('js/json/promos',[],function(){return[{id:"story_0019_new-courses",title:"29 New Schools, 92 New Courses, 5 Languages!",image:"story_0019_new-courses.png",url:"http://blog.coursera.org/post/43625628117/29-new-schools-92-new-courses-5-languages-4"},{id:"story_0018_ace-intro",title:"Five courses receive college credit recommendations",image:"story_0018_ace-intro.png",url:"http://blog.coursera.org/post/42486198362/five-courses-receive-college-credit-recommendations"},{id:"story_0017_crunchies",title:'Coursera Wins "Best New Startup"',image:"story_0017_crunchies.jpg",url:"http://techcrunch.com/2013/01/31/coursera-wins-best-new-startup-of-2012-get-schooled/"},{id:"story_0015_listmaker",title:"Share your 2013 learning goals",image:"story_0015_listmaker.jpg",url:"http://blog.coursera.org/post/39413129042/happy-new-year"}]});
define('pages/home/front/frontBody',["pages/home/template/body","js/core/coursera","js/lib/moment","underscore","backbone","jquery","pages/home/front/frontBody.html","pages/home/front/frontCourse.html","js/collections/topics","js/json/promos"],function(e,r,t,n,o,i,a,s,c,u){var f=e.extend({initialize:function(){document.title="Coursera"},render:function(){var e=this;return e.$el.append(a({user:r.user,promos:u,config:r.config})),r.region.append(e.region,"pages/home/front/frontSearchBanner",{},function(r){e.$(".coursera-front-search-banner").append(r.view.el)}),r.region.append(e.region,"pages/home/front/frontCourse",{},function(r){e.$(".coursera-front-courses").append(r.view.el)}),e}});return f});
define('js/lib/backbone.api',["backbone","underscore","js/lib/api"],function(t,e,n){var i={sync:function(i,r,o){var a=this.urlId||this.idAttribute||"id",s=o.url?o.url:e.isFunction(this.url)?this.url():this.url;if(!this.api){var l=s||(e.isFunction(this.urlRoot)?this.urlRoot():this.urlRoot);this.api=n(l)}return"create"==i?(o.data=e.extend(this.toJSON(),o.data||{}),this.api.post(s,o)):"update"==i?this.partialUpdate?(o.data=e.extend(this.changedAttributes(),o.data||{}),this.api.patch(s+"/"+this.get(a),o)):(o.data=e.extend(this.toJSON(),o.data||{}),this.api.put(s+"/"+this.get(a),o)):"delete"==i?this.api["delete"](s+"/"+this.get(a),o):"read"==i?this instanceof t.Collection||void 0===this.get(a)?this.api.get(s,o):this.api.get(s+"/"+this.get(a),o):void 0},create:function(t,e){var n=this;return this.save(null,t).done(function(t){e&&e.call(n,null,t)}).fail(function(t,i){e&&e.call(n,i)})},update:function(t,e,n){var i=this,r=e||{};return t&&!this.isNew()&&(r.silent=void 0!==r.silent?r.silent:!0),this.save(t||{},r).done(function(t){n&&n.call(i,null,t)}).fail(function(t,e){n&&n.call(i,e)})},read:function(t,e){var n=this;return this.fetch(t).done(function(t){e&&e.call(n,null,t)}).fail(function(t,i){e&&e.call(n,i)})},"delete":function(t,e){var n=this;return this.destroy(t).done(function(t){e&&e.call(n,null,t)}).fail(function(t,i){e&&e.call(n,i)})}};return i});
define('js/models/frontdata',["jquery","underscore","backbone","js/core/coursera","js/lib/backbone.api","js/collections/topics"],function(t,e,r,n,o,i){var u=r.Model.extend({url:"topic/listfront",api:n.cloudfrontApi,parse:function(t){return t.upcoming=new i(i.parse(t.upcoming)),t.recent=new i(i.parse(t.recent)),t}});e.extend(u.prototype,o);var c;return u.singletonRead=function(){if(c)return c;c=t.Deferred();var e=new u;return e.read().done(function(){c.resolve(e)}).fail(function(t,e,r){c.reject(t,e,r),n.router.trigger("error",500,location.href,{message:"error retrieving topics"})}),c},u});
(function(wndw){var jadify=function(jade){return function anonymous(locals,attrs,escape,rethrow,merge){attrs=attrs||jade.attrs,escape=escape||jade.escape,rethrow=rethrow||jade.rethrow,merge=merge||jade.merge;var buf=[];with(locals||{}){var interp;buf.push('<div class="coursera-course-card"><div class="coursera-course-card-image"><a'),buf.push(attrs({href:topic.get("social_link"),"class":"internal-home coursera-front-to-course-link"},{href:!0})),buf.push("><img"),buf.push(attrs({src:topic.get("large_icon")},{src:!0})),buf.push('/></a></div><div class="coursera-course-card-details"><a'),buf.push(attrs({href:topic.get("social_link"),"class":"internal-home coursera-front-to-course-link"},{href:!0})),buf.push('><h3 class="coursera-course-card-name">'+escape(null==(interp=topic.get("name"))?"":interp)+'</h3></a><div style="line-height:17px;">'),function(){if("number"==typeof topic.get("universities").length)for(var e=0,t=topic.get("universities").length;t>e;e++){var n=topic.get("universities")[e];buf.push("<a"),buf.push(attrs({href:config.dir.home+n.short_name,"class":"internal-home"},{href:!0})),buf.push('><span class="coursera-course-card-uni">'),topic.get("universities").length>1?buf.push(""+escape(null==(interp=n.abbr_name||n.name)?"":interp)):buf.push(""+escape(null==(interp=n.name)?"":interp)),buf.push("</span></a>, ")}else{var t=0;for(var e in topic.get("universities")){t++;var n=topic.get("universities")[e];buf.push("<a"),buf.push(attrs({href:config.dir.home+n.short_name,"class":"internal-home"},{href:!0})),buf.push('><span class="coursera-course-card-uni">'),topic.get("universities").length>1?buf.push(""+escape(null==(interp=n.abbr_name||n.name)?"":interp)):buf.push(""+escape(null==(interp=n.name)?"":interp)),buf.push("</span></a>, ")}}}.call(this),buf.push('<span class="coursera-course-card-startdate">'),topic.get("open_course")?buf.push(""+escape(null==(interp=topic.get("open_course").get("start_display_short"))?"":interp)):buf.push("Date TBA "),buf.push("</span></div></div></div>")}return buf.join("")}};"function"==typeof define&&define.amd?define('pages/home/front/frontTopicIcon.html',["js/lib/jade"],function(e){return jadify(e)}):wndw.jade.templates.frontTopicIcon=jadify(wndw.jade.helpers)})(window);
define('pages/home/front/frontCourse',["underscore","jquery","backbone","js/core/coursera","js/models/frontdata","pages/home/front/frontCourse.html","pages/home/front/frontTopicIcon.html","js/lib/util"],function(e,t,r,n,o,i,a,c){var s=r.View.extend({events:{"click .coursera-front-to-catalog-link":"trackLink","click .coursera-front-to-course-link":"trackLink"},trackLink:function(e){var r=t(e.currentTarget).attr("href");n.tracker.push({key:"user.coursera.front.click.link",val:r})},render:function(){var r=this;return this.$el.html(i({config:n.config})),o.singletonRead().done(function(o){r.$(".coursera-front-upcoming-count").text(o.get("count_upcoming"));var i=function(e){return t(a({topic:e,config:n.config})).get(0)},s=e.first(o.get("upcoming").shuffle(),9);r.$(".coursera-front-course-soon").empty().append(s.map(i));var u=e.first(o.get("recent").shuffle(),9);r.$(".coursera-front-course-recent").empty().append(u.map(i)),r.$(".coursera-course-card-name").each(function(e,r){c.truncateElemText(t(r))})}),this}});return s});
(function(wndw){var jadify=function(jade){return function anonymous(locals,attrs,escape,rethrow,merge){attrs=attrs||jade.attrs,escape=escape||jade.escape,rethrow=rethrow||jade.rethrow,merge=merge||jade.merge;var buf=[];with(locals||{}){var interp;buf.push('<div class="container"><div class="coursera-full-canvas"><div class="row"><div class="span12"><div class="heading-banner">'),status?buf.push('<h1 style="font-size:46px;">HTTP '+escape(null==(interp=status)?"":interp)+"</h1><h3>...oops!</h3>"):buf.push("<h3>...oops!</h3>"),buf.push('</div><div style="font-size:18px;line-height:30px; margin-top:20px;">'),message?buf.push("<p>"+escape(null==(interp=message)?"":interp)+"</p>"):buf.push('<p>Sorry, but we ran into an error trying to process your request! \nWe\'ll notify the nearest Coursera Caribou to look into it.\nIf you\'d like to give us more information about the error,\nplease <a href="http://help.coursera.org/customer/portal/emails/new">contact us</a>.</p><p>You can also visit our <a href="http://help.coursera.org">help site</a> for answers\nto common questions.</p>'),buf.push("</div></div></div></div></div>")}return buf.join("")}};"function"==typeof define&&define.amd?define('pages/error/errorBody.html',["js/lib/jade"],function(e){return jadify(e)}):wndw.jade.templates.errorBody=jadify(wndw.jade.helpers)})(window);
(function(wndw){var jadify=function(jade){return function anonymous(locals,attrs,escape,rethrow,merge){attrs=attrs||jade.attrs,escape=escape||jade.escape,rethrow=rethrow||jade.rethrow,merge=merge||jade.merge;var buf=[];with(locals||{}){var interp;buf.push('<div class="container"><div class="coursera-full-canvas"><div class="row-fluid"><div class="span12"><h1>ooops... HTTP 404</h1></div></div><div class="coursera-full-page-divider">              </div><div class="row-fluid"><div class="span12"><p> \nLooks like you found a page that does not exist or the URL was mistyped by accident.</p>'),-1!=page.indexOf("?")&&(buf.push("<p><span>May we suggest trying the following URL:&nbsp;</span><a"),buf.push(attrs({href:page.substring(0,page.indexOf("?"))},{href:!0})),buf.push(">"+escape(null==(interp=page.substring(0,page.indexOf("?")))?"":interp)+"</a></p>")),buf.push('<p>If you feel this was an error, please visit our <a href="http://help.coursera.org">help site</a> to contact us.</p></div></div></div></div>')}return buf.join("")}};"function"==typeof define&&define.amd?define('pages/error/error404.html',["js/lib/jade"],function(e){return jadify(e)}):wndw.jade.templates.error404=jadify(wndw.jade.helpers)})(window);
define('pages/error/errorBody',["pages/home/template/body","js/core/coursera","pages/error/errorBody.html","pages/error/error404.html"],function(e,t,n,i){var a=e.extend({render:function(){return t.tracker.push({key:"page.error",val:{status:this.options.status,url:location.href}}),404==this.options.status?this.$el.append(i({config:t.config,status:this.options.status,page:location.href})):this.$el.append(n({config:t.config,status:this.options.status,page:location.href,message:this.options.message})),this}});return a});
(function(wndw){var jadify=function(jade){return function anonymous(locals,attrs,escape,rethrow,merge){attrs=attrs||jade.attrs,escape=escape||jade.escape,rethrow=rethrow||jade.rethrow,merge=merge||jade.merge;var buf=[];with(locals||{})buf.push('<div class="container"><div class="coursera-full-canvas"><div class="row"><div class="span12"><div class="heading-banner"><h1>Account Settings</h1></div></div></div><div style="margin-top:10px; font-size:16px;" class="alert alert-warning coursera-signature-track-profile-alert hide"><i class="icon-warning-sign icon-large"></i> Your Signature Track profile needs to be updated. Please <a'),buf.push(attrs({href:config.url.base+"signature/phrase"},{href:!0})),buf.push('>complete your profile here.</a></div><div class="coursera-settings"><div class="row"><div class="span6"><div style="width: 445px;"><div style="width: 200px; float: right; margin-top 10px; font-size: 12px; line-height: 1.4em; color: #468847; margin-bottom: 10px;">This name will show up on your official course records &amp; certificates.</div><form id="coursera-settings-name-change-form" style="margin-top:10px;" action="user/change_name" enctype="multipart/form-data" method="POST"><div class="control-group"><label for="coursera-settings-name">Full Name</label><div class="controls"><input'),buf.push(attrs({id:"coursera-settings-name",name:"full_name",type:"text",value:user.get("full_name"),style:"margin-bottom:0px;"},{name:!0,type:!0,value:!0,style:!0})),buf.push('/></div></div><button type="submit" data-default-message="Change Name" data-inflight-message="Saving..." data-success-message="Saved!" disabled="disabled" class="btn coursera-settings-name-change">Change Name</button></form></div></div></div><div class="row"><div class="span12"><form id="coursera-settings-locale-change-form" style="margin-top:10px;" action="user/change_locale" enctype="multipart/form-data" method="POST"><div class="control-group"><label for="coursera-settings-timezone-change">Timezone</label><div class="controls"><select name="timezone" id="coursera-settings-timezone-change"><optgroup label="Africa"><option value="Africa/Abidjan">Abidjan (+0000)</option><option value="Africa/Accra">Accra (+0000)</option><option value="Africa/Addis_Ababa">Addis Ababa (+0300)</option><option value="Africa/Algiers">Algiers (+0100)</option><option value="Africa/Asmara">Asmara (+0300)</option><option value="Africa/Bamako">Bamako (+0000)</option><option value="Africa/Bangui">Bangui (+0100)</option><option value="Africa/Banjul">Banjul (+0000)</option><option value="Africa/Bissau">Bissau (+0000)</option><option value="Africa/Blantyre">Blantyre (+0200)</option><option value="Africa/Brazzaville">Brazzaville (+0100)</option><option value="Africa/Bujumbura">Bujumbura (+0200)</option><option value="Africa/Cairo">Cairo (+0200)</option><option value="Africa/Casablanca">Casablanca (+0000)</option><option value="Africa/Ceuta">Ceuta (+0200)</option><option value="Africa/Conakry">Conakry (+0000)</option><option value="Africa/Dakar">Dakar (+0000)</option><option value="Africa/Dar_es_Salaam">Dar es Salaam (+0300)</option><option value="Africa/Djibouti">Djibouti (+0300)</option><option value="Africa/Douala">Douala (+0100)</option><option value="Africa/El_Aaiun">El Aaiun (+0000)</option><option value="Africa/Freetown">Freetown (+0000)</option><option value="Africa/Gaborone">Gaborone (+0200)</option><option value="Africa/Harare">Harare (+0200)</option><option value="Africa/Johannesburg">Johannesburg (+0200)</option><option value="Africa/Juba">Juba (+0300)</option><option value="Africa/Kampala">Kampala (+0300)</option><option value="Africa/Khartoum">Khartoum (+0300)</option><option value="Africa/Kigali">Kigali (+0200)</option><option value="Africa/Kinshasa">Kinshasa (+0100)</option><option value="Africa/Lagos">Lagos (+0100)</option><option value="Africa/Libreville">Libreville (+0100)</option><option value="Africa/Lome">Lome (+0000)</option><option value="Africa/Luanda">Luanda (+0100)</option><option value="Africa/Lubumbashi">Lubumbashi (+0200)</option><option value="Africa/Lusaka">Lusaka (+0200)</option><option value="Africa/Malabo">Malabo (+0100)</option><option value="Africa/Maputo">Maputo (+0200)</option><option value="Africa/Maseru">Maseru (+0200)</option><option value="Africa/Mbabane">Mbabane (+0200)</option><option value="Africa/Mogadishu">Mogadishu (+0300)</option><option value="Africa/Monrovia">Monrovia (+0000)</option><option value="Africa/Nairobi">Nairobi (+0300)</option><option value="Africa/Ndjamena">Ndjamena (+0100)</option><option value="Africa/Niamey">Niamey (+0100)</option><option value="Africa/Nouakchott">Nouakchott (+0000)</option><option value="Africa/Ouagadougou">Ouagadougou (+0000)</option><option value="Africa/Porto-Novo">Porto-Novo (+0100)</option><option value="Africa/Sao_Tome">Sao Tome (+0000)</option><option value="Africa/Tripoli">Tripoli (+0200)</option><option value="Africa/Tunis">Tunis (+0100)</option><option value="Africa/Windhoek">Windhoek (+0100)</option></optgroup><optgroup label="America"><option value="America/Adak">Adak (-0900)</option><option value="America/Anchorage">Anchorage (-0800)</option><option value="America/Anguilla">Anguilla (-0400)</option><option value="America/Antigua">Antigua (-0400)</option><option value="America/Araguaina">Araguaina (-0300)</option><option value="America/Argentina/Buenos_Aires">Buenos Aires (-0300)</option><option value="America/Argentina/Catamarca">Catamarca (-0300)</option><option value="America/Argentina/Cordoba">Cordoba (-0300)</option><option value="America/Argentina/Jujuy">Jujuy (-0300)</option><option value="America/Argentina/La_Rioja">La Rioja (-0300)</option><option value="America/Argentina/Mendoza">Mendoza (-0300)</option><option value="America/Argentina/Rio_Gallegos">Rio Gallegos (-0300)</option><option value="America/Argentina/Salta">Salta (-0300)</option><option value="America/Argentina/San_Juan">San Juan (-0300)</option><option value="America/Argentina/San_Luis">San Luis (-0300)</option><option value="America/Argentina/Tucuman">Tucuman (-0300)</option><option value="America/Argentina/Ushuaia">Ushuaia (-0300)</option><option value="America/Aruba">Aruba (-0400)</option><option value="America/Asuncion">Asuncion (-0400)</option><option value="America/Atikokan">Atikokan (-0500)</option><option value="America/Bahia">Bahia (-0300)</option><option value="America/Bahia_Banderas">Bahia Banderas (-0500)</option><option value="America/Barbados">Barbados (-0400)</option><option value="America/Belem">Belem (-0300)</option><option value="America/Belize">Belize (-0600)</option><option value="America/Blanc-Sablon">Blanc-Sablon (-0400)</option><option value="America/Boa_Vista">Boa Vista (-0400)</option><option value="America/Bogota">Bogota (-0500)</option><option value="America/Boise">Boise (-0600)</option><option value="America/Cambridge_Bay">Cambridge Bay (-0600)</option><option value="America/Campo_Grande">Campo Grande (-0400)</option><option value="America/Cancun">Cancun (-0500)</option><option value="America/Caracas">Caracas (-0430)</option><option value="America/Cayenne">Cayenne (-0300)</option><option value="America/Cayman">Cayman (-0500)</option><option value="America/Chicago">Chicago (-0500)</option><option value="America/Chihuahua">Chihuahua (-0600)</option><option value="America/Costa_Rica">Costa Rica (-0600)</option><option value="America/Creston">Creston (-0700)</option><option value="America/Cuiaba">Cuiaba (-0400)</option><option value="America/Curacao">Curacao (-0400)</option><option value="America/Danmarkshavn">Danmarkshavn (+0000)</option><option value="America/Dawson">Dawson (-0700)</option><option value="America/Dawson_Creek">Dawson Creek (-0700)</option><option value="America/Denver">Denver (-0600)</option><option value="America/Detroit">Detroit (-0400)</option><option value="America/Dominica">Dominica (-0400)</option><option value="America/Edmonton">Edmonton (-0600)</option><option value="America/Eirunepe">Eirunepe (-0400)</option><option value="America/El_Salvador">El Salvador (-0600)</option><option value="America/Fortaleza">Fortaleza (-0300)</option><option value="America/Glace_Bay">Glace Bay (-0300)</option><option value="America/Godthab">Godthab (-0200)</option><option value="America/Goose_Bay">Goose Bay (-0300)</option><option value="America/Grand_Turk">Grand Turk (-0400)</option><option value="America/Grenada">Grenada (-0400)</option><option value="America/Guadeloupe">Guadeloupe (-0400)</option><option value="America/Guatemala">Guatemala (-0600)</option><option value="America/Guayaquil">Guayaquil (-0500)</option><option value="America/Guyana">Guyana (-0400)</option><option value="America/Halifax">Halifax (-0300)</option><option value="America/Havana">Havana (-0400)</option><option value="America/Hermosillo">Hermosillo (-0700)</option><option value="America/Indiana/Indianapolis">Indianapolis (-0400)</option><option value="America/Indiana/Knox">Knox (-0500)</option><option value="America/Indiana/Marengo">Marengo (-0400)</option><option value="America/Indiana/Petersburg">Petersburg (-0400)</option><option value="America/Indiana/Tell_City">Tell City (-0500)</option><option value="America/Indiana/Vevay">Vevay (-0400)</option><option value="America/Indiana/Vincennes">Vincennes (-0400)</option><option value="America/Indiana/Winamac">Winamac (-0400)</option><option value="America/Inuvik">Inuvik (-0600)</option><option value="America/Iqaluit">Iqaluit (-0400)</option><option value="America/Jamaica">Jamaica (-0500)</option><option value="America/Juneau">Juneau (-0800)</option><option value="America/Kentucky/Louisville">Louisville (-0400)</option><option value="America/Kentucky/Monticello">Monticello (-0400)</option><option value="America/Kralendijk">Kralendijk (-0400)</option><option value="America/La_Paz">La Paz (-0400)</option><option value="America/Lima">Lima (-0500)</option><option selected="selected" value="America/Los_Angeles">Los Angeles (-0700)</option><option value="America/Lower_Princes">Lower Princes (-0400)</option><option value="America/Maceio">Maceio (-0300)</option><option value="America/Managua">Managua (-0600)</option><option value="America/Manaus">Manaus (-0400)</option><option value="America/Marigot">Marigot (-0400)</option><option value="America/Martinique">Martinique (-0400)</option><option value="America/Matamoros">Matamoros (-0500)</option><option value="America/Mazatlan">Mazatlan (-0600)</option><option value="America/Menominee">Menominee (-0500)</option><option value="America/Merida">Merida (-0500)</option><option value="America/Metlakatla">Metlakatla (-0800)</option><option value="America/Mexico_City">Mexico City (-0500)</option><option value="America/Miquelon">Miquelon (-0200)</option><option value="America/Moncton">Moncton (-0300)</option><option value="America/Monterrey">Monterrey (-0500)</option><option value="America/Montevideo">Montevideo (-0300)</option><option value="America/Montreal">Montreal (-0400)</option><option value="America/Montserrat">Montserrat (-0400)</option><option value="America/Nassau">Nassau (-0400)</option><option value="America/New_York">New York (-0400)</option><option value="America/Nipigon">Nipigon (-0400)</option><option value="America/Nome">Nome (-0800)</option><option value="America/Noronha">Noronha (-0200)</option><option value="America/North_Dakota/Beulah">Beulah (-0500)</option><option value="America/North_Dakota/Center">Center (-0500)</option><option value="America/North_Dakota/New_Salem">New Salem (-0500)</option><option value="America/Ojinaga">Ojinaga (-0600)</option><option value="America/Panama">Panama (-0500)</option><option value="America/Pangnirtung">Pangnirtung (-0400)</option><option value="America/Paramaribo">Paramaribo (-0300)</option><option value="America/Phoenix">Phoenix (-0700)</option><option value="America/Port-au-Prince">Port-au-Prince (-0500)</option><option value="America/Port_of_Spain">Port of Spain (-0400)</option><option value="America/Porto_Velho">Porto Velho (-0400)</option><option value="America/Puerto_Rico">Puerto Rico (-0400)</option><option value="America/Rainy_River">Rainy River (-0500)</option><option value="America/Rankin_Inlet">Rankin Inlet (-0500)</option><option value="America/Recife">Recife (-0300)</option><option value="America/Regina">Regina (-0600)</option><option value="America/Resolute">Resolute (-0500)</option><option value="America/Rio_Branco">Rio Branco (-0400)</option><option value="America/Santa_Isabel">Santa Isabel (-0700)</option><option value="America/Santarem">Santarem (-0300)</option><option value="America/Santiago">Santiago (-0400)</option><option value="America/Santo_Domingo">Santo Domingo (-0400)</option><option value="America/Sao_Paulo">Sao Paulo (-0300)</option><option value="America/Scoresbysund">Scoresbysund (+0000)</option><option value="America/Shiprock">Shiprock (-0600)</option><option value="America/Sitka">Sitka (-0800)</option><option value="America/St_Barthelemy">St Barthelemy (-0400)</option><option value="America/St_Johns">St Johns (-0230)</option><option value="America/St_Kitts">St Kitts (-0400)</option><option value="America/St_Lucia">St Lucia (-0400)</option><option value="America/St_Thomas">St Thomas (-0400)</option><option value="America/St_Vincent">St Vincent (-0400)</option><option value="America/Swift_Current">Swift Current (-0600)</option><option value="America/Tegucigalpa">Tegucigalpa (-0600)</option><option value="America/Thule">Thule (-0300)</option><option value="America/Thunder_Bay">Thunder Bay (-0400)</option><option value="America/Tijuana">Tijuana (-0700)</option><option value="America/Toronto">Toronto (-0400)</option><option value="America/Tortola">Tortola (-0400)</option><option value="America/Vancouver">Vancouver (-0700)</option><option value="America/Whitehorse">Whitehorse (-0700)</option><option value="America/Winnipeg">Winnipeg (-0500)</option><option value="America/Yakutat">Yakutat (-0800)</option><option value="America/Yellowknife">Yellowknife (-0600)</option></optgroup><optgroup label="Antarctica"><option value="Antarctica/Casey">Casey (+0800)</option><option value="Antarctica/Davis">Davis (+0700)</option><option value="Antarctica/DumontDUrville">DumontDUrville (+1000)</option><option value="Antarctica/Macquarie">Macquarie (+1100)</option><option value="Antarctica/Mawson">Mawson (+0500)</option><option value="Antarctica/McMurdo">McMurdo (+1200)</option><option value="Antarctica/Palmer">Palmer (-0400)</option><option value="Antarctica/Rothera">Rothera (-0300)</option><option value="Antarctica/South_Pole">South Pole (+1200)</option><option value="Antarctica/Syowa">Syowa (+0300)</option><option value="Antarctica/Vostok">Vostok (+0600)</option></optgroup><optgroup label="Arctic"><option value="Arctic/Longyearbyen">Longyearbyen (+0200)</option></optgroup><optgroup label="Asia"><option value="Asia/Aden">Aden (+0300)</option><option value="Asia/Almaty">Almaty (+0600)</option><option value="Asia/Amman">Amman (+0300)</option><option value="Asia/Anadyr">Anadyr (+1200)</option><option value="Asia/Aqtau">Aqtau (+0500)</option><option value="Asia/Aqtobe">Aqtobe (+0500)</option><option value="Asia/Ashgabat">Ashgabat (+0500)</option><option value="Asia/Baghdad">Baghdad (+0300)</option><option value="Asia/Bahrain">Bahrain (+0300)</option><option value="Asia/Baku">Baku (+0500)</option><option value="Asia/Bangkok">Bangkok (+0700)</option><option value="Asia/Beirut">Beirut (+0300)</option><option value="Asia/Bishkek">Bishkek (+0600)</option><option value="Asia/Brunei">Brunei (+0800)</option><option value="Asia/Choibalsan">Choibalsan (+0800)</option><option value="Asia/Chongqing">Chongqing (+0800)</option><option value="Asia/Colombo">Colombo (+0530)</option><option value="Asia/Damascus">Damascus (+0300)</option><option value="Asia/Dhaka">Dhaka (+0600)</option><option value="Asia/Dili">Dili (+0900)</option><option value="Asia/Dubai">Dubai (+0400)</option><option value="Asia/Dushanbe">Dushanbe (+0500)</option><option value="Asia/Gaza">Gaza (+0200)</option><option value="Asia/Harbin">Harbin (+0800)</option><option value="Asia/Hebron">Hebron (+0200)</option><option value="Asia/Ho_Chi_Minh">Ho Chi Minh (+0700)</option><option value="Asia/Hong_Kong">Hong Kong (+0800)</option><option value="Asia/Hovd">Hovd (+0700)</option><option value="Asia/Irkutsk">Irkutsk (+0900)</option><option value="Asia/Jakarta">Jakarta (+0700)</option><option value="Asia/Jayapura">Jayapura (+0900)</option><option value="Asia/Jerusalem">Jerusalem (+0300)</option><option value="Asia/Kabul">Kabul (+0430)</option><option value="Asia/Kamchatka">Kamchatka (+1200)</option><option value="Asia/Karachi">Karachi (+0500)</option><option value="Asia/Kashgar">Kashgar (+0800)</option><option value="Asia/Kathmandu">Kathmandu (+0545)</option><option value="Asia/Kolkata">Kolkata (+0530)</option><option value="Asia/Krasnoyarsk">Krasnoyarsk (+0800)</option><option value="Asia/Kuala_Lumpur">Kuala Lumpur (+0800)</option><option value="Asia/Kuching">Kuching (+0800)</option><option value="Asia/Kuwait">Kuwait (+0300)</option><option value="Asia/Macau">Macau (+0800)</option><option value="Asia/Magadan">Magadan (+1200)</option><option value="Asia/Makassar">Makassar (+0800)</option><option value="Asia/Manila">Manila (+0800)</option><option value="Asia/Muscat">Muscat (+0400)</option><option value="Asia/Nicosia">Nicosia (+0300)</option><option value="Asia/Novokuznetsk">Novokuznetsk (+0700)</option><option value="Asia/Novosibirsk">Novosibirsk (+0700)</option><option value="Asia/Omsk">Omsk (+0700)</option><option value="Asia/Oral">Oral (+0500)</option><option value="Asia/Phnom_Penh">Phnom Penh (+0700)</option><option value="Asia/Pontianak">Pontianak (+0700)</option><option value="Asia/Pyongyang">Pyongyang (+0900)</option><option value="Asia/Qatar">Qatar (+0300)</option><option value="Asia/Qyzylorda">Qyzylorda (+0600)</option><option value="Asia/Rangoon">Rangoon (+0630)</option><option value="Asia/Riyadh">Riyadh (+0300)</option><option value="Asia/Sakhalin">Sakhalin (+1100)</option><option value="Asia/Samarkand">Samarkand (+0500)</option><option value="Asia/Seoul">Seoul (+0900)</option><option value="Asia/Shanghai">Shanghai (+0800)</option><option value="Asia/Singapore">Singapore (+0800)</option><option value="Asia/Taipei">Taipei (+0800)</option><option value="Asia/Tashkent">Tashkent (+0500)</option><option value="Asia/Tbilisi">Tbilisi (+0400)</option><option value="Asia/Tehran">Tehran (+0430)</option><option value="Asia/Thimphu">Thimphu (+0600)</option><option value="Asia/Tokyo">Tokyo (+0900)</option><option value="Asia/Ulaanbaatar">Ulaanbaatar (+0800)</option><option value="Asia/Urumqi">Urumqi (+0800)</option><option value="Asia/Vientiane">Vientiane (+0700)</option><option value="Asia/Vladivostok">Vladivostok (+1100)</option><option value="Asia/Yakutsk">Yakutsk (+1000)</option><option value="Asia/Yekaterinburg">Yekaterinburg (+0600)</option><option value="Asia/Yerevan">Yerevan (+0400)</option></optgroup><optgroup label="Atlantic"><option value="Atlantic/Azores">Azores (+0000)</option><option value="Atlantic/Bermuda">Bermuda (-0300)</option><option value="Atlantic/Canary">Canary (+0100)</option><option value="Atlantic/Cape_Verde">Cape Verde (-0100)</option><option value="Atlantic/Faroe">Faroe (+0100)</option><option value="Atlantic/Madeira">Madeira (+0100)</option><option value="Atlantic/Reykjavik">Reykjavik (+0000)</option><option value="Atlantic/South_Georgia">South Georgia (-0200)</option><option value="Atlantic/St_Helena">St Helena (+0000)</option><option value="Atlantic/Stanley">Stanley (-0300)</option></optgroup><optgroup label="Australia"><option value="Australia/Adelaide">Adelaide (+0930)</option><option value="Australia/Brisbane">Brisbane (+1000)</option><option value="Australia/Broken_Hill">Broken Hill (+0930)</option><option value="Australia/Currie">Currie (+1000)</option><option value="Australia/Darwin">Darwin (+0930)</option><option value="Australia/Eucla">Eucla (+0845)</option><option value="Australia/Hobart">Hobart (+1000)</option><option value="Australia/Lindeman">Lindeman (+1000)</option><option value="Australia/Lord_Howe">Lord Howe (+1030)</option><option value="Australia/Melbourne">Melbourne (+1000)</option><option value="Australia/Perth">Perth (+0800)</option><option value="Australia/Sydney">Sydney (+1000)</option></optgroup><optgroup label="Europe"><option value="Europe/Amsterdam">Amsterdam (+0200)</option><option value="Europe/Andorra">Andorra (+0200)</option><option value="Europe/Athens">Athens (+0300)</option><option value="Europe/Belgrade">Belgrade (+0200)</option><option value="Europe/Berlin">Berlin (+0200)</option><option value="Europe/Bratislava">Bratislava (+0200)</option><option value="Europe/Brussels">Brussels (+0200)</option><option value="Europe/Bucharest">Bucharest (+0300)</option><option value="Europe/Budapest">Budapest (+0200)</option><option value="Europe/Chisinau">Chisinau (+0300)</option><option value="Europe/Copenhagen">Copenhagen (+0200)</option><option value="Europe/Dublin">Dublin (+0100)</option><option value="Europe/Gibraltar">Gibraltar (+0200)</option><option value="Europe/Guernsey">Guernsey (+0100)</option><option value="Europe/Helsinki">Helsinki (+0300)</option><option value="Europe/Isle_of_Man">Isle of Man (+0100)</option><option value="Europe/Istanbul">Istanbul (+0300)</option><option value="Europe/Jersey">Jersey (+0100)</option><option value="Europe/Kaliningrad">Kaliningrad (+0300)</option><option value="Europe/Kiev">Kiev (+0300)</option><option value="Europe/Lisbon">Lisbon (+0100)</option><option value="Europe/Ljubljana">Ljubljana (+0200)</option><option value="Europe/London">London (+0100)</option><option value="Europe/Luxembourg">Luxembourg (+0200)</option><option value="Europe/Madrid">Madrid (+0200)</option><option value="Europe/Malta">Malta (+0200)</option><option value="Europe/Mariehamn">Mariehamn (+0300)</option><option value="Europe/Minsk">Minsk (+0300)</option><option value="Europe/Monaco">Monaco (+0200)</option><option value="Europe/Moscow">Moscow (+0400)</option><option value="Europe/Oslo">Oslo (+0200)</option><option value="Europe/Paris">Paris (+0200)</option><option value="Europe/Podgorica">Podgorica (+0200)</option><option value="Europe/Prague">Prague (+0200)</option><option value="Europe/Riga">Riga (+0300)</option><option value="Europe/Rome">Rome (+0200)</option><option value="Europe/Samara">Samara (+0400)</option><option value="Europe/San_Marino">San Marino (+0200)</option><option value="Europe/Sarajevo">Sarajevo (+0200)</option><option value="Europe/Simferopol">Simferopol (+0300)</option><option value="Europe/Skopje">Skopje (+0200)</option><option value="Europe/Sofia">Sofia (+0300)</option><option value="Europe/Stockholm">Stockholm (+0200)</option><option value="Europe/Tallinn">Tallinn (+0300)</option><option value="Europe/Tirane">Tirane (+0200)</option><option value="Europe/Uzhgorod">Uzhgorod (+0300)</option><option value="Europe/Vaduz">Vaduz (+0200)</option><option value="Europe/Vatican">Vatican (+0200)</option><option value="Europe/Vienna">Vienna (+0200)</option><option value="Europe/Vilnius">Vilnius (+0300)</option><option value="Europe/Volgograd">Volgograd (+0400)</option><option value="Europe/Warsaw">Warsaw (+0200)</option><option value="Europe/Zagreb">Zagreb (+0200)</option><option value="Europe/Zaporozhye">Zaporozhye (+0300)</option><option value="Europe/Zurich">Zurich (+0200)</option></optgroup><optgroup label="Indian"><option value="Indian/Antananarivo">Antananarivo (+0300)</option><option value="Indian/Chagos">Chagos (+0600)</option><option value="Indian/Christmas">Christmas (+0700)</option><option value="Indian/Cocos">Cocos (+0630)</option><option value="Indian/Comoro">Comoro (+0300)</option><option value="Indian/Kerguelen">Kerguelen (+0500)</option><option value="Indian/Mahe">Mahe (+0400)</option><option value="Indian/Maldives">Maldives (+0500)</option><option value="Indian/Mauritius">Mauritius (+0400)</option><option value="Indian/Mayotte">Mayotte (+0300)</option><option value="Indian/Reunion">Reunion (+0400)</option></optgroup><optgroup label="Pacific"><option value="Pacific/Apia">Apia (+1300)</option><option value="Pacific/Auckland">Auckland (+1200)</option><option value="Pacific/Chatham">Chatham (+1245)</option><option value="Pacific/Chuuk">Chuuk (+1000)</option><option value="Pacific/Easter">Easter (-0600)</option><option value="Pacific/Efate">Efate (+1100)</option><option value="Pacific/Enderbury">Enderbury (+1300)</option><option value="Pacific/Fakaofo">Fakaofo (+1400)</option><option value="Pacific/Fiji">Fiji (+1200)</option><option value="Pacific/Funafuti">Funafuti (+1200)</option><option value="Pacific/Galapagos">Galapagos (-0600)</option><option value="Pacific/Gambier">Gambier (-0900)</option><option value="Pacific/Guadalcanal">Guadalcanal (+1100)</option><option value="Pacific/Guam">Guam (+1000)</option><option value="Pacific/Honolulu">Honolulu (-1000)</option><option value="Pacific/Johnston">Johnston (-1000)</option><option value="Pacific/Kiritimati">Kiritimati (+1400)</option><option value="Pacific/Kosrae">Kosrae (+1100)</option><option value="Pacific/Kwajalein">Kwajalein (+1200)</option><option value="Pacific/Majuro">Majuro (+1200)</option><option value="Pacific/Marquesas">Marquesas (-0930)</option><option value="Pacific/Midway">Midway (-1100)</option><option value="Pacific/Nauru">Nauru (+1200)</option><option value="Pacific/Niue">Niue (-1100)</option><option value="Pacific/Norfolk">Norfolk (+1130)</option><option value="Pacific/Noumea">Noumea (+1100)</option><option value="Pacific/Pago_Pago">Pago Pago (-1100)</option><option value="Pacific/Palau">Palau (+0900)</option><option value="Pacific/Pitcairn">Pitcairn (-0800)</option><option value="Pacific/Pohnpei">Pohnpei (+1100)</option><option value="Pacific/Port_Moresby">Port Moresby (+1000)</option><option value="Pacific/Rarotonga">Rarotonga (-1000)</option><option value="Pacific/Saipan">Saipan (+1000)</option><option value="Pacific/Tahiti">Tahiti (-1000)</option><option value="Pacific/Tarawa">Tarawa (+1200)</option><option value="Pacific/Tongatapu">Tongatapu (+1300)</option><option value="Pacific/Wake">Wake (+1200)</option><option value="Pacific/Wallis">Wallis (+1200)</option></optgroup><optgroup label="UTC"><option value="UTC">UTC (+0000)</option></optgroup></select></div></div><button type="submit" data-default-message="Change Timezone" data-inflight-message="Saving..." data-success-message="Saved!" disabled="disabled" class="btn coursera-settings-locale-change">Change Timezone</button></form></div></div><div class="row"><div class="span12"><h3>Change Email Address</h3><form id="coursera-settings-email-change-form" style="margin-top:10px;" action="user/change_email" enctype="multipart/form-data" method="POST"><div class="control-group"><label for="coursera-settings-email-change">New Email Address</label><div class="controls"><input'),buf.push(attrs({id:"coursera-settings-email-change",name:"email_address",type:"text",title:"Enter new email address",value:user.get("email_address"),style:"margin-bottom:0px;","class":"coursera-settings-email-input"},{name:!0,type:!0,title:!0,value:!0,style:!0})),buf.push('/></div></div><button type="submit" data-default-message="Change Email" data-inflight-message="Changing..." data-success-message="Changed!" disabled="disabled" class="btn coursera-settings-email-change">Change Email</button></form></div></div><div class="row"><div class="span12"><h3>Change Password</h3><p style="margin-top:10px;" class="coursera-settings-password-change-success hide">Your password was successfully changed.</p><form id="coursera-settings-password-change-form" style="margin-top:10px;" action="user/change_password" enctype="multipart/form-data" method="POST"><div class="control-group"><label for="coursera-settings-oldpassword-change">Old Password</label><div class="controls"><input id="coursera-settings-oldpassword-change" type="password" name="password" class="coursera-settings-oldpassword-input"/></div></div><div class="control-group"><label for="coursera-settings-password-change">New Password</label><div class="controls"><input id="coursera-settings-password-change" type="password" name="new_password" class="coursera-settings-password-input"/></div></div><div class="control-group"><label for="coursera-settings-newpassword-change">Confirm New Password</label><div class="controls"><input id="coursera-settings-newpassword-change" type="password" class="coursera-settings-newpassword-input"/><span id="coursera-settings-password-error" style="color:red;" class="help-inline hide">Passwords must match!</span></div></div><button type="submit" data-default-message="Change Password" data-inflight-message="Changing..." data-success-message="Changed!" disabled="disabled" class="btn coursera-settings-password-change">Change Password</button></form></div></div><div class="row coursera-accounts-coupons hide"><div class="span12"><h3>Your Signature Track Course Coupons</h3><br/><p>When your course is offered again, you can redeem your coupon to re-enroll in the Signature Track for free. You receive a course coupon if you joined the Signature Track, but were not able to successfully complete your course.</p><p>Please note that you can only use a coupon once and that it is only valid for a future session of the same course.  See the <a target="_new" href="../signature/guidebook/faq-payment">Signature Track Guidebook</a> for more information.</p><table style="width:50% !important;" class="coursera-signature-coupons-list table"><thead><tr><th>Class</th><th>Expiry Date</th></tr></thead><tbody></tbody></table></div></div></div><div data-modal-overlay-class="coursera-overlay-dark" class="modal coursera-settings-email-change-modal hide"><div class="modal-header"><h3>Your email change has been submitted.</h3></div><div class="modal-body"><div> <span>We will send you a confirmation email, which will contain a link for you to complete the email change.</span><br/><br/></div></div><div class="modal-footer"><button data-modal-close="data-modal-close" class="btn btn-primary">OK</button></div></div></div></div>');return buf.join("")}};"function"==typeof define&&define.amd?define('pages/home/account/settings.html',["js/lib/jade"],function(e){return jadify(e)}):wndw.jade.templates.settings=jadify(wndw.jade.helpers)})(window);
define('pages/home/account/settings',["jquery","backbone","underscore","pages/home/template/body","pages/home/account/settings.html","js/core/coursera","js/lib/util","js/lib/cookie","js/lib/modals","js/lib/api","js/models/topic"],function(e,t,r,a,i,o,s,n,l,u,c){var d=a.extend({initialize:function(){this.ajaxPayments=u("/maestro/api/payments/",{"csrf.secure":!0});var e=this;document.title="My Account Settings | Coursera",e.bind("view:appended",function(){e.$("#coursera-settings-timezone-change").val(o.user.get("timezone")),s.setupFormSave(e.$("#coursera-settings-name-change-form"),{success:r.bind(this.onNameChange,this)}),s.setupFormSave(e.$("#coursera-settings-locale-change-form"),{success:r.bind(this.onLocaleChange,this)}),s.setupFormSave(e.$("#coursera-settings-email-change-form"),{success:r.bind(this.onEmailChange,this),error:function(){e.$(".coursera-settings-email-input").val(o.user.get("email_address"))}}),s.setupFormSave(e.$("#coursera-settings-password-change-form"),{success:r.bind(this.onPasswordChange,this)}),e.getCoupons(),o.user.resync(function(){o.user.isIdentityVerified()&&!o.user.completedAllSTProfile()&&e.$(".coursera-signature-track-profile-alert").removeClass("hide")})}),e.bind("view:closing",function(){l(this.$el.find(".modal")).close()})},events:{"keyup .coursera-settings-newpassword-input":"editPasswordEnable","keyup .coursera-settings-password-input":"editPasswordEnable"},render:function(){var e=this;return e.$el.html(i({user:o.user,config:o.config})),e},getCoupons:function(){var t=this;t.ajaxPayments.get("get_user_coupons").done(function(a){var i=0;r.each(a,function(r){if(!r.redeemed){var a=e("<tr>");a.append(e("<td>").text(r.topic__name)),a.append(e("<td>").text(r.expires_at));var o=e("<td>");a.append(o),t.$(".coursera-signature-coupons-list tbody").append(a),i+=1;var s=c.getByShortName(r.topic__short_name);s.sync(function(){var t=s.get("open_course");if(t&&t.get("signature_track_registration_open")){var r=e('<a href="'+t.get("optin_link")+'">Redeem my coupon!</a>');o.append(r)}})}}),i>0&&t.$(".coursera-accounts-coupons").show()})},onNameChange:function(t){o.user.set(t),e(".coursera-header-account-name").text(o.user.get("display_name"))},onLocaleChange:function(e){o.user.set(e)},onEmailChange:function(e){o.user.set(e),l(this.$(".coursera-settings-email-change-modal")).open()},onPasswordChange:function(){},editPasswordEnable:function(){var e=this.$(".coursera-settings-password-input").val(),t=this.$(".coursera-settings-newpassword-input").val();e==t&&e.length>=2?(this.$("#coursera-settings-password-error").hide(),this.$(".coursera-settings-password-change").removeAttr("disabled")):(this.$("#coursera-settings-password-error").show(),this.$(".coursera-settings-password-change").attr({disabled:"disabled"}))}});return d});
define('js/lib/schema',["underscore"],function(t){var e=function(t,e){this.param=t,this.rules=e};e.prototype.Error=function(e,n,r){switch(typeof this.rules.error){case"string":e=this.rules.error;break;case"object":this.rules.error[n]?e=this.rules.error[n]:this.rules.error["default"]&&(e=this.rules.error["default"])}return t.isString(r)&&(e=e.replace(/%v/,""+r)),t.isString(n)&&(e=e.replace(/%r/,n)),e.replace(/%p/,this.param).replace(/%v/,"value").replace(/%r/,"rule")},e.prototype.apply=function(e){if(t.isEmpty(e)&&!t.isUndefined(this.rules["default"])&&(e=this.rules["default"]),this.rules.required){if(this.rules.required&&(t.isUndefined(e)||t.isUndefined(this.rules.type)&&/^\s*$/.test(e)))throw this.Error("%p is a required parameter","required",e)}else if(t.isUndefined(e))return e;if(this.rules.filters&&(e=this.filter(e)),this.rules.type)if("string"==typeof this.rules.type&&"function"==typeof r[this.rules.type]){if(!r[this.rules.type](e))throw this.Error("%p is not a "+this.rules.type,"type",e)}else if(!this.rules.type(e))throw this.Error("%p is not a valid type","type",e);return this.rules.properties&&this.check(e),e},e.prototype.filter=function(e){switch(typeof this.rules.filters){case"function":e=this.rules.filters(e);break;case"string":"function"==typeof i[this.rules.filters]&&(e=i[this.rules.filters](e));break;case"object":t.isArray(this.rules.filters)&&this.rules.filters.forEach(function(t){e=i[t](e)})}return e},e.prototype.check=function(e){switch(typeof this.rules.properties){case"function":if(!this.rules.properties(e))throw this.Error("%p is not valid");break;case"object":for(var r=t.keys(this.rules.properties),i=0;r.length>i;i++){var o=r[i];if("function"==typeof n[o]){var a=this.rules.properties[o];if(!n[o].apply(null,[e,a]))throw this.Error("%p failed %r with %v",o)}else if("function"==typeof this.rules.properties[o]&&!this.rules.properties[o].apply(null,[e]))throw this.Error("%p failed on %r with %v",o)}}};var n={max:function(e,n){return t.isArray(e)||"string"==typeof e?n>=e.length:"number"==typeof e?n>=e:!1},min:function(e,n){return t.isArray(e)||"string"==typeof e?e.length>=n:"number"==typeof e?e>=n:!1},regex:function(t,e){return e.test(t)},"in":function(t,e){return-1!=e.indexOf(t)}},r={"string+":function(t){return"string"==typeof t&&""!==t},string:function(t){return"string"==typeof t},alphanum:function(t){return/^[a-zA-Z0-9]+$/i.test(t)},alpha:function(t){return/^[a-zA-Z]+$/i.test(t)},object:function(e){return"object"==typeof e&&!t.isArray(e)},array:function(e){return t.isArray(e)},date:function(e){return t.isDate(e)&&!isNaN(e.getTime())},number:function(t){return"number"==typeof t&&!isNaN(t)},"int":function(t){return"number"==typeof t&&0===t%1&&!isNaN(t)},"boolean":function(e){return t.isBoolean(e)},"float":function(t){return"number"==typeof t&&!isNaN(t)},email:function(t){return/[a-zA-Z0-9!#$%&'*+\/=?\^_`{|}~\-]+(?:\.[a-zA-Z0-9!#$%&'*+\/=?\^_`{|}~\-]+)*@(?:[a-zA-Z0-9](?:[a-zA-Z0-9\-]*[a-zA-Z0-9])?\.)+[a-zA-Z0-9](?:[a-zA-Z0-9\-]*[a-zA-Z])?$/.test(t)},url:function(t){return/^(http(s)?:\/\/)?([\w\-]+\.{1})*(([\w\-]*){1}(\.{1}[A-Za-z]{2,4}){1}){1}(\:{1}\d*)?([\?\/|\#]+[\@\~\;\+\'\#\,\.\%\-\/\&\?\=\w\$\s]*)*$/i.test(t)},zipcode:function(t){return/\d{5}/.test(t)}},i={toInt:function(t){return parseInt(t,10)},toFloat:function(t){return parseFloat(t,10)},toString:function(t){return""+t},toDate:function(t){return new Date(t)},toBoolean:function(t){return 1===t||t===!0||/true|on|yes|1/.test(t)?!0:0===t||t===!1||/false|off|no|0/.test(t)?!1:t},trim:function(e){return t.isString(e)?e.replace(/^\s\s*/,"").replace(/\s\s*$/,""):e},lowercase:function(e){return t.isString(e)?e.toLowerCase():e},uppercase:function(e){return t.isString(e)?e.toUpperCase():e}},o={create:function(t,n){return new e(t,n)},types:r,filters:i,properties:n},a=function(t){this.schema=t};a.prototype.validate=function(e){for(var n,r=t.keys(this.schema),i={},a={},s="function"==typeof e?e:function(t){return e[t]},l=0;r.length>l;l++){var u=this.schema[r[l]];try{n=o.create(r[l],u).apply(s(r[l])),t.isUndefined(n)||(a[r[l]]=n),"object"!=typeof u.schema||t.isArray(u.schema)||!t.keys(u.schema).length||t.isUndefined(a[r[l]])||("object"==u.type?t.keys(u.schema).forEach(function(e){try{n=o.create(r[l]+"."+e,u.schema[e]).apply(s(r[l])[e]),t.isUndefined(n)||(a[r[l]][e]=n)}catch(c){i[r[l]]&&"object"==typeof i[r[l]]||(i[r[l]]={}),i[r[l]][e]=c}}):"array"==u.type&&a[r[l]].forEach(function(e,n){try{a[r[l]][n]=o.create(r[l]+"["+n+"]",u.schema).apply(e)}catch(s){t.isArray(i[r[l]])||(i[r[l]]=[]),i[r[l]][n]=s}}))}catch(c){i[r[l]]=c}}return{data:a,errors:i,valid:0===t.keys(i).length}};var s={test:function(t,e){return new a({input:e}).validate({input:t})},create:function(t){return new a(t)},rules:o};return s});
(function(wndw){var jadify=function(jade){return function anonymous(locals,attrs,escape,rethrow,merge){attrs=attrs||jade.attrs,escape=escape||jade.escape,rethrow=rethrow||jade.rethrow,merge=merge||jade.merge;var buf=[];with(locals||{}){var interp;buf.push('<div class="container"><div class="coursera-full-canvas"><div class="row"><div class="span12"><div class="heading-banner">'),course?buf.push("<h1>Take '"+escape(null==(interp=course.get("name"))?"":interp)+"'</h1><p>Sign in with your Coursera account to enroll. For Free.</p>"):buf.push("<h1>Sign In</h1>"),buf.push('</div></div></div><div class="row"><div style="border-right:solid #d9d9d9 1px;" class="span6"><div style="padding-top:20px;"><form action="javascript:void(0);" class="coursera-signin-form"><div id="signin-fail" role="alert" aria-live="assertive" class="control-group hide error"><span class="help-inline">Login did not work, check your email and password and try again.</span></div><div id="signin-error" role="alert" aria-live="assertive" class="control-group hide error"><span class="help-inline">Sorry, but we ran into an error trying to process your request. please try again later or contact <a href="mailto:technical@coursera.org">technical@coursera.org</a> for more help.</span></div><div class="control-group"><label for="signin-email">Email</label><div class="controls"><input type="text" title="Your Email Address" id="signin-email"/></div></div><div class="control-group"><label for="signin-password">Password</label><div class="controls"><input type="password" title="Your Password" id="signin-password"/></div></div><div><div class="control-group"><div class="controls"><button type="submit" style="margin-right:10px" class="btn btn-success coursera-signin-button">Sign In</button><button class="btn coursera-signin-button-waiting hide"><img'),buf.push(attrs({src:config.url.assets+"images/icons/loading.gif"},{src:!0})),buf.push("/></button><a"),buf.push(attrs({href:config.dir.home+"account/reset","class":"internal-home"},{href:!0})),buf.push('>&nbsp;&nbsp;&nbsp;  forgot password?</a></div></div></div></form></div></div><div style="margin-left:-1px;" class="span5"><div style="padding:20px;"><h3>No Account Yet?</h3><p>'),redirect?(buf.push("<a"),buf.push(attrs({href:config.dir.home+"account/signup?r="+encodeURIComponent(redirect),"class":"internal-home"},{href:!0})),buf.push(">Sign up</a>")):(buf.push("<a"),buf.push(attrs({href:config.dir.home+"account/signup","class":"internal-home"},{href:!0})),buf.push(">Sign up</a>")),buf.push("&nbsp;today. </p></div></div></div></div></div>")}return buf.join("")}};"function"==typeof define&&define.amd?define('pages/home/account/signInBody.html',["js/lib/jade"],function(e){return jadify(e)}):wndw.jade.templates.signInBody=jadify(wndw.jade.helpers)})(window);
define('js/lib/placeholder',["jquery"],function(t){var e="placeholder",n=e in document.createElement("input")&&e in document.createElement("textarea");t.fn.placeholder=function(){return this.length?this.each(function(){function r(t){t.css({position:"absolute",left:"-9999em",tabindex:-1})}function i(t){t.css({position:"",left:""}).removeAttr("tabindex")}function o(){if(!n&&f.data("placeholder")){var t=d?c.get(0):f.get(0);if(t.createTextRange){var e=t.createTextRange();e.moveStart("character",0),e.collapse(),e.select()}else t.setSelectionRange&&t.setSelectionRange(0,0)}}function a(t){return t>-1&&48>t&&32!=t||t>90&&96>t||t>111&&186>t||t>192&&219>t||t>219&&220>t}function u(t){f.hasClass(e)&&!a(t.which)&&(!n&&f.data("placeholder")&&(f.val(""),f.data("placeholder",!1),d&&(r(c),i(f),f.focus())),f.removeClass(e))}function s(){if(!n&&""===f.attr("value"))if(f.data("placeholder",!0),d?(r(f),i(c),c.focus()):(f.addClass(e),f.val(h)),f.get(0).createTextRange){var t=f.get(0).createTextRange();t.moveStart("character",0),t.collapse(),t.select()}else f.get(0).setSelectionRange&&f.get(0).setSelectionRange(0,0)}function l(){""===f.val()&&(f.addClass(e),n||(f.data("placeholder",!0),d?(i(c),r(f)):f.val(h)))}var c,f=t(this),h=f.attr("placeholder"),d="password"===f.attr("type");d&&!n?(c=t("<input>").attr({type:"text",value:h,"class":f.attr("class"),style:f.attr("style")}),f.before(c),c.bind("keydown.placeholder",u),c.bind("focus.placeholder",o)):f.bind("keydown.placeholder",u),f.data("placeholder",!0),f.bind("blur.placeholder",l).trigger("blur.placeholder"),f.bind("focus.placeholder",o),f.bind("keyup.placeholder",s)}):void 0};var r;n||(r=t.fn.val,t.fn.val=function(e){if(!arguments.length){var n=t(this);return n.data("placeholder")&&n.attr("value")==n.attr("placeholder")?"":r.call(this)}return r.call(this,e)})});
define('pages/home/account/signInBody',["underscore","jquery","pages/home/template/body","js/core/coursera","js/lib/schema","pages/home/account/signInBody.html","js/lib/cookie","js/lib/util","js/lib/placeholder"],function(e,s,r,t,i,o,a,n){var u=r.extend({initialize:function(){var e=this;document.title="Sign In | Coursera",e.bind("view:appended",function(){e.$el.find("input[placeholder]").placeholder(),e.$el.find("input#signin-email").focus()})},events:{"submit form.coursera-signin-form":"validate"},render:function(){var e=this.options.enrolling;return this.options.subscribing,this.$el.append(o({config:t.config,user:t.user,course:e?e.course:null,redirect:this.options.redirect})),this},validate:function(s){s.preventDefault(),this.$("#signin-fail").hide();var r=this;r.$email=this.$el.find("input#signin-email"),r.$password=this.$el.find("input#signin-password");var i={email_address:r.$email.val(),password:r.$password.val()};r.$(".coursera-signin-button").hide(),r.$(".coursera-signin-button-waiting").show(),t.api.post("user/login",{data:i}).done(e.bind(this.onLoginSuccess,this)).fail(e.bind(this.onLoginFail,this))},onLoginFail:function(e){var s=this;403==e.status||401==e.status||409==e.status?(s.$("#signin-fail").show(),s.$(".coursera-signin-button").show(),s.$(".coursera-signin-button-waiting").hide(),s.$("button[type=submit]").animate({opacity:.4},100).animate({"margin-left":"-=10"},100).animate({"margin-left":"+=20"},100).animate({"margin-left":"-=20"},100).animate({"margin-left":"+=10"},100).animate({opacity:1},100),s.$email.focus()):t.router.trigger("error",e.status||500,location.href,{message:"error signing in"})},onLoginSuccess:function(e){var s=this;t.tracker.push({key:"user.login",val:e}),t.user.login(e);var r=s.options.enrolling;if(r&&r.open){var i=0;t.user.enroll(r.open.id,i,function(e){e?(s.$("#signin-error").show(),s.$(".coursera-signin-button-waiting").hide()):t.router.navigate(t.config.dir.home+"course/"+r.course.get("short_name"),!0)})}else s.options.redirect?n.handleRedirect(s.options.redirect):t.router.navigate(t.config.dir.home,!0)}});return u});
define('js/lib/forms',["jquery","underscore","js/lib/schema","js/lib/lucid","js/lib/json2"],function(t,e,n,i){var r={"attribute.prefix":"data-form","attribute.ignore":"ignore","attribute.previous":"prev-value","attribute.schema":"schema","attribute.filter":"filter","attribute.properties":"properties","attribute.required":"required","class.warn":"warn"},o=function(e,n){var i=t(e).data("form.me");return i&&i.constructor===u.prototype.constructor?i?i.customize(n):i:null},a=function(e,n){var i=t(e),r=o(i);return r||(r=new u(i,n),i.data("form.me",r)),r},s=function(t,i){var r=i||{},o={},a={},s=t.val();t.attr("name")||t.attr("id");var l=t.attr("type");if(r.schema&&(o.type=r.schema),r.filter&&(o.filters=e.isString(r.filter)?(r.filter||"").split(","):r.filter),r.required&&(o.required=!0),r.properties&&(o.properties=e.isString(r.properties)?JSON.parse(r.properties):r.properties),r.schema||r.filter||r.required||r.properties)if(o.trim=!0,a=n.test(s,o),/^checkbox|radio$/.test(l)&&o.required&&!t[0].checked&&(a.valid=!1),a.valid)s!==a.data.input&&t.val(s=a.data.input);else{if(r.required||""!==s)throw a.errors.input;s=null}return s},l=function(){var n=this,i=this.$form.find(":input"),r={},o={},a=!0,l=/^([^\[\]]+)(?:\[(.*)\])?$/;return e.each(i,function(e){var i=t(e),c=i.attr("type"),u=i.val(),d=i.attr("name")||i.attr("id"),h=(d||"").split("."),f=r,p=h[0],g=i.attr(n.options["attribute.prefix"]+"-"+n.options["attribute.ignore"])||/button|submit/.test(c),m=i.attr(n.options["attribute.prefix"]+"-"+n.options["attribute.schema"])||i.data(n.options["attribute.prefix"]+"-"+n.options["attribute.schema"]),v=i.attr(n.options["attribute.prefix"]+"-"+n.options["attribute.filter"])||i.data(n.options["attribute.prefix"]+"-"+n.options["attribute.filter"]),y=i.attr(n.options["attribute.prefix"]+"-"+n.options["attribute.properties"])||i.data(n.options["attribute.prefix"]+"-"+n.options["attribute.properties"]),b=void 0!==i.attr(n.options["attribute.prefix"]+"-"+n.options["attribute.required"]);if(!g&&(u!==i.data("data-form-prev-value")||1!==h.length||/\[.*\]/.test(d))){try{u=s(i,{schema:m,filter:v,required:b,properties:y})}catch(w){a=!1,o[d]=w}for(var x=0,C=null;h.length>x;x++){var k=x===h.length-1;if(C=h[x].match(l),p=C?C[1]:h[x],C){var A=C[2];void 0===f[p]&&(k?void 0===A?f[p]=u:(f[p]=[],f[p][A]=u):f[p]=void 0===A?{}:[]),k?f[p]=u:f=void 0!==A?f[p][A]?f[p][A]:f[p][A]={}:f[p]}}}return{data:r,errors:o}}),{valid:a,errors:o,data:r}},c=function(){var n=this,i=this.$form.find(":input");e.each(i,function(e){var i=t(e);if(!i.attr(n.options["attribute.prefix"]+"-"+n.options["attribute.ignore"])&&!/button|submit/.test(i.attr("type"))){var r={};r[n.options["attribute.prefix"]+"-"+n.options["attribure.previous"]]=i.val(),i.data(r)}});var r=function(t){n.validate(t.currentTarget)};this.$form.on("change",":input",r),this.$form.on("keydown cut paste",":input",e.debounce(r,500)),this.$form.on("submit",function(t){n.emitter.trigger("submit",t,l.call(n))})},u=function(n,r){this.$form=t(n),this.customize(r),e.bindAll(this,"validate"),c.call(this,this.$form),this.emitter=i.emitter(this)};u.prototype.customize=function(t){return this.options=e.extend({},r,t||{}),this},u.prototype.process=function(){return l.call(this)},u.prototype.validate=function(e){var n=this,i=t(e),r=i.attr(n.options["attribute.prefix"]+"-"+n.options["attribute.schema"])||i.data(n.options["attribute.prefix"]+"-"+n.options["attribute.schema"]),o=i.attr(n.options["attribute.prefix"]+"-"+n.options["attribute.filter"])||i.data(n.options["attribute.prefix"]+"-"+n.options["attribute.filter"]),a=i.attr(n.options["attribute.prefix"]+"-"+n.options["attribute.properties"])||i.data(n.options["attribute.prefix"]+"-"+n.options["attribute.properties"]),l=void 0!==i.attr(n.options["attribute.prefix"]+"-"+n.options["attribute.required"]),c=t.Event(null,{currentTarget:i.get(0)});try{s(i,{schema:r,filter:o,required:l,properties:a}),i.hasClass(n.options["class.warn"])&&(i.removeClass(n.options["class.warn"]),c.type="forms:corrected",n.emitter.trigger("corrected",c)),c.type="forms:change",n.emitter.trigger("change",c,{valid:!0})}catch(u){i.hasClass(n.options["class.warn"])||(i.addClass(n.options["class.warn"]),c.type="forms:error",n.emitter.trigger("error",c,u)),c.type="forms:change",n.emitter.trigger("change",c,{valid:!1,error:u})}};var d=function(){return o.apply(null,arguments)||a.apply(this,arguments)};return d});
(function(wndw){var jadify=function(jade){return function anonymous(locals,attrs,escape,rethrow,merge){attrs=attrs||jade.attrs,escape=escape||jade.escape,rethrow=rethrow||jade.rethrow,merge=merge||jade.merge;var buf=[];with(locals||{}){var interp;buf.push('<div class="container"><div class="coursera-full-canvas"><div class="row"><div class="span12"><div class="heading-banner">'),course?buf.push('<h1 style="font-size:31px">Take '+escape(null==(interp=course.get("name"))?"":interp)+"</h1>"):buf.push('<h1 style="font-size:31px">Sign Up</h1>'),buf.push('</div></div></div><div class="row"><div style="border-right:solid #d9d9d9 1px;" class="span9"><div style="padding-top:20px;padding-right:20px;"><form action="user/create" method="POST" class="coursera-signup form-horizontal"><div id="signup-duplicate" role="alert" class="control-group hide error alert alert-error">An account already exists with this email address. Please try again or consider <a'),buf.push(attrs({href:config.dir.home+"account/reset","class":"internal-home"},{href:!0})),buf.push('>resetting your password</a>.</div><div id="signup-error" role="alert" class="control-group hide error alert alert-error">Sorry, but we ran into an error trying to process your request. Please try again later or contact <a href="mailto:technical@coursera.org">technical@coursera.org</a> for more help.</div><div class="control-group"><label for="coursera-signup-fullname" class="control-label">Full Name</label><div class="controls"><input type="text" title="Your full name" id="coursera-signup-fullname" name="full_name" aria-describedby="coursera-signup-fullname-help" data-form-required="data-form-required" data-form-schema="string+" placeholder="Full Name" data-form-error="Please enter a real name" data-form-correct="Nice to meet you!"/><span id="coursera-signup-fullname-help" tabindex="-1" class="help-inline">Please use your real name</span></div></div><div class="control-group"><label for="coursera-signup-email" class="control-label">Email</label><div class="controls"><input type="email" title="Your email address" id="coursera-signup-email" name="email_address" required="required" aria-required="true" data-form-error="This doesnt look like a valid email" aria-describedby="coursera-signup-email-help,coursera-signup-email-error" data-form-required="data-form-required" data-form-schema="email" data-form-correct="Looks good!" placeholder="Email Address"/><span id="coursera-signup-email-help" tabindex="-1" class="hide help-inline"></span></div></div><div class="control-group"><label for="coursera-signup-email-confirm" class="control-label">Confirm Email</label><div class="controls"><input type="email" title="Your email address (again)" id="coursera-signup-email-confirm" name="email_address_confirm" required="required" aria-required="true" data-form-schema="email" data-form-error="This doesn\'t match the first email" data-form-correct="Looks good! We\'ll send a welcome email" aria-describedby="coursera-signup-email-confirm-help,coursera-signup-email-error" placeholder="Confirm Email Address"/><span id="coursera-signup-email-confirm-help" tabindex="-1" class="hide help-inline"></span></div></div><div class="control-group"><label for="coursera-signup-password" class="control-label">Password</label><div class="controls"><input type="password" title="Create a new password" id="coursera-signup-password" pattern=".{4,}" name="password" required="required" aria-required="true" data-form-required="data-form-required" data-form-schema="string+" data-form-error="Use a stronger password" data-form-correct="Thanks. Don\'t forget it" aria-describedby="coursera-signup-password-help,coursera-signup-password-error" placeholder="Password"/><span id="coursera-signup-password-help" tabindex="-1" class="hide help-inline"></span></div></div><div style="margin-top:-10px;" class="control-group"><label for="coursera-signup-agree" class="hidden-label control-label">Terms of Service</label><div class="controls"><label class="checkbox"><input type="checkbox" name="agree" id="coursera-signup-agree" required="required" aria-required="true" aria-describedby="coursera-signup-terms-help" data-form-required="data-form-required" data-form-error="Please agree to our Terms and the Honor Code" value="1"/>I agree to the&nbsp;<a'),buf.push(attrs({href:config.dir.home+"about/terms",target:"tab1"},{href:!0,target:!0})),buf.push(">Terms of Service</a>&nbsp;and <a"),buf.push(attrs({href:config.dir.home+"about/honorcode",target:"tab2"},{href:!0,target:!0})),buf.push('>Honor Code</a></label><span id="coursera-signup-terms-help" role="alert" tabindex="-1" class="hide help-inline"></span></div></div><div style="margin-top:15px;" class="control-group"><div class="controls"><button type="submit" disabled="disabled" class="btn btn-success coursera-signup-button">Sign Up</button><button disabled="disabled" class="btn coursera-signup-button-waiting hide"><img'),buf.push(attrs({src:config.url.assets+"images/icons/loading.gif"},{src:!0})),buf.push('/></button></div></div></form></div></div><div style="margin-left:-1px;" class="span3"><div style="padding:20px;"><h3>Have an Account?</h3><p> \nIf you already have a password, please'),redirect?(buf.push("<a"),buf.push(attrs({href:config.dir.home+"account/signin?r="+encodeURIComponent(redirect),"class":"internal-home"},{href:!0})),buf.push("> sign in</a>")):(buf.push("<a"),buf.push(attrs({href:config.dir.home+"account/signin","class":"internal-home"},{href:!0})),buf.push("> sign in</a>")),buf.push(".</p></div></div></div></div></div>")}return buf.join("")}};"function"==typeof define&&define.amd?define('pages/home/account/signUpBody.html',["js/lib/jade"],function(e){return jadify(e)}):wndw.jade.templates.signUpBody=jadify(wndw.jade.helpers)})(window);
define('pages/home/account/signUpBody',["pages/home/template/body","underscore","js/core/coursera","js/lib/forms","pages/home/account/signUpBody.html","jquery","js/lib/cookie","js/lib/util"],function(e,s,r,t,i,o,a,n){var u=e.extend({initialize:function(){var e=this;document.title="Sign Up | Coursera",s.bindAll(this),this.bind("view:appended",function(){e.$form=e.$("form.coursera-signup"),e.$("input[placeholder]").placeholder(),e.$form.find("input:first").focus()})},render:function(){var e=this.options.enrolling,s=this;return this.$el.append(i({config:r.config,course:e?e.course:null,user:r.user,redirect:this.options.redirect})),this.$el.find("#coursera-signup-email-confirm").data({"data-form-properties":{emailConfirm:this.emailConfirm}}).one("focus",function(){s.$el.on("keyup paste cut","#coursera-signup-email",s.emailConfirmChange)}),this.form=t(this.$el.find("form.coursera-signup")),this.form.on("change",this.inputChange),this.form.on("submit",this.formSubmit),this},emailConfirmChange:function(){this.$el.find("#coursera-signup-email-confirm").trigger("change")},emailConfirm:function(){var e=this.$el.find("#coursera-signup-email").val(),s=this.$el.find("#coursera-signup-email-confirm").val();return e==s},inputChange:function(e,s){var r=o(e.currentTarget);r.parents(".control-group").removeClass("success").removeClass("error").find(".help-inline").hide(),s.valid?(r.attr("data-form-correct")&&r.parents(".control-group").addClass("success").find(".help-inline").text(r.attr("data-form-correct")).show(),this.form.process().valid&&this.$el.find(".coursera-signup-button").removeAttr("disabled")):(r.attr("data-form-error")&&r.parents(".control-group").addClass("error").find(".help-inline").text(r.attr("data-form-error")).show(),this.$el.find(".coursera-signup-button").attr({disabled:"disabled"}))},formSubmit:function(e,s){e.preventDefault();var t=o(e.currentTarget);this.$el.find(".alert-error").hide(),s.valid?(this.$(".coursera-signup-button-waiting, .coursera-signup-button").toggle(),r.api.post(t.attr("action"),{data:s.data,message:"account is being created"}).done(this.formSubmitSuccess).fail(this.formSubmitError)):(t.find(":input").trigger("change"),t.find("button.coursera-signup-button").animate({opacity:.4},100).animate({"margin-left":"-=10"},100).animate({"margin-left":"+=20"},100).animate({"margin-left":"-=20"},100).animate({"margin-left":"+=10"},100).animate({opacity:1},100))},formSubmitSuccess:function(e){var s=this;r.tracker.push({key:"user.register",val:e}),r.user.login(e);var t=this.options.enrolling;if(t&&t.open){var i=0;r.user.enroll(t.open.id,i,function(e){e?s.$el.find("#signup-error").show():r.router.navigate(r.config.dir.home+"course/"+t.course.get("short_name"),!0)})}else this.options.redirect?n.handleRedirect(this.options.redirect):r.router.navigate(r.config.dir.home,!0)},formSubmitError:function(e){409==e.status?(this.$el.find("#signup-duplicate").show(),this.$(".coursera-signup-button-waiting, .coursera-signup-button").toggle()):r.router.trigger("error",e.status,location.href,{message:"error creating an account"})}});return u});
(function(wndw){var jadify=function(jade){return function anonymous(locals,attrs,escape,rethrow,merge){attrs=attrs||jade.attrs,escape=escape||jade.escape,rethrow=rethrow||jade.rethrow,merge=merge||jade.merge;var buf=[];with(locals||{}){var interp;buf.push('<div class="container"><div class="coursera-full-canvas"><div class="row-fluid"><div style="margin-bottom: 16px;" class="coursera-edit-page"><div class="coursera-edit-page-button"></div>'),topic.get("display")===!1&&buf.push('<div class="coursera-visibility-warning">This is a private page that only course administrators can preview.</div>'),user.canEditTopic(topic)&&(buf.push('<span style="padding-left:24px;"> <span style="display: none; vertical-align: top; margin-right: 10px;">Admins only:</span><span> <a'),buf.push(attrs({target:"_blank",href:config.dir.home+"admin/data/courses/"+topic.get("id")},{target:!0,href:!0})),buf.push(">Edit Course Description</a></span>"),topic.get("courses").size()>0&&(buf.push('</span><span style="padding-left:24px;"> <a data-popup=".coursera-edit-desc-popup" href="javascript:void(0);"><span class="dropdown-label">Edit Session Descriptions </span><span class="carrot">▾</span></a><span class="coursera-header-popup coursera-edit-desc-popup hide">'),_.each(Courses.byTimeDescending(topic.get("courses")),function(e){buf.push("<span> <a"),buf.push(attrs({href:config.dir.home+"admin/data/sessions/"+e.get("id")},{href:!0})),buf.push(">"+escape(null==(interp=e.get("home_link"))?"":interp)+"</a></span>")}),buf.push('</span></span><span style="padding-left:24px;"> <a data-popup=".coursera-edit-materials-popup" href="javascript:void(0);"><span class="dropdown-label">Edit Session Materials </span><span class="carrot">▾</span></a><span class="coursera-header-popup coursera-edit-materials-popup hide">'),_.each(Courses.byTimeDescending(topic.get("courses")),function(e){buf.push("<span> <a"),buf.push(attrs({target:"_blank",href:e.get("home_link")},{target:!0,href:!0})),buf.push(">"+escape(null==(interp=e.get("home_link"))?"":interp)+"</a></span>")}),buf.push("</span>")),buf.push("</span>")),buf.push('</div></div><div style="margin-bottom:30px;" class="row-fluid"><div class="span6"><div style="margin-bottom:15px;">'),_.each(topic.get("universities"),function(e){buf.push("<a"),buf.push(attrs({style:"margin-right:20px;",href:e.home_link||config.dir.home+e.short_name,"class":e.home_link?"":"internal-home"},{style:!0,"class":!0,href:!0})),buf.push("><img"),buf.push(attrs({src:topic.get("university_logo")||e.logo||e.class_logo,"class":"coursera-course-school-logo"},{src:!0})),buf.push("/></a>")}),buf.push('</div><h1 style="font-size:36px;line-height:1.2em;">'+escape(null==(interp=topic.get("name"))?"":interp)+'</h1><h3 style="margin-top:10px;" class="instructor-name">'+(null==(interp=topic.get("instructor"))?"":interp)+'</h3><p style="margin-top:12px;">'+escape(null==(interp=topic.get("short_description"))?"":interp)+"</p>"),topic.get("estimated_class_workload")&&(buf.push('<div style="margin-bottom:10px;"><span style="font-weight:bold" data-msg="coursera-course-workload">Workload: </span><span>'+escape(null==(interp=topic.get("estimated_class_workload"))?"":interp)+"&nbsp;</span>"),-1==topic.get("estimated_class_workload").indexOf("hours")&&buf.push('<span data-msg="coursera-course-workloadunits">hours/week</span>'),buf.push("</div>")),topic.get("preview_link")&&(buf.push("<a"),buf.push(attrs({href:topic.get("preview_link"),target:"_blank",style:"margin-left:10px;","class":"btn btn-large btn-preview"},{href:!0,target:!0,style:!0})),buf.push(">Preview</a>")),buf.push('</div><div class="span6"><div style="position:relative;">'),""!==topic.get("video")?(buf.push('</div><div class="shadow-corners"><div class="coursera-course-logo"><img'),buf.push(attrs({src:topic.get("large_icon"),style:"width:100%;"},{src:!0,style:!0})),buf.push('/></div><div class="btn coursera-course-playbutton"><div></div><span style="margin-right:8px;">Watch intro video</span></div></div><iframe width="412" height="231" frameborder="0" allowfullscreen="allowfullscreen" wmode="opaque" class="hide coursera-course-video">')):(buf.push('<div class="shadow-corners"><div class="coursera-course-logo-no-video"><img'),buf.push(attrs({src:topic.get("large_icon"),style:"width:100%;"},{src:!0,style:!0})),buf.push("/></div></div>")),buf.push('</iframe></div></div><hr style="clear:both;" class="coursera-full-page-divider-no_padding"/><div class="row-fluid"><div class="span7"><div style="margin-bottom:10px; width:700px;" class="coursera-course-listings"><span>Loading upcoming session dates&nbsp;&nbsp;</span><img'),buf.push(attrs({src:config.url.assets+"images/icons/loading.gif",width:"12",height:"12"},{src:!0,width:!0,height:!0})),buf.push("/></div>"),user.get("authenticated")&&buf.push('<div style="display:none;" class="coursera-course-subscribe"><button type="button" aria-label="Subscribe to course"><span class="icon-star"></span></button>Let me know if new sessions are announced.</div><div style="display:none;" class="coursera-course-subscribed"><button type="button" aria-label="Un-subscribe to course"><span class="icon-star"></span></button>We will email you at '+escape(null==(interp=user.get("email_address"))?"":interp)+" if new sessions are announced.</div>"),buf.push('</div><div class="span1"><div>&nbsp;</div></div><div style="padding-top:8px;" class="span4"><div class="hide social"><div style="float:right;" class="social-facebook"><fb:like'),buf.push(attrs({href:topic.get("social_link"),send:"false",layout:"box_count",width:"50",show_faces:"false"},{href:!0,send:!0,layout:!0,width:!0,show_faces:!0})),buf.push('></fb:like></div><div style="float:right;margin-right:10px;" class="social-google"><div'),buf.push(attrs({"data-size":"tall","data-href":topic.get("social_link"),"class":"g-plusone"},{"data-size":!0,"data-href":!0})),buf.push('></div></div><div style="float:right;" class="social-twitter"><iframe'),buf.push(attrs({allowtransparency:"true",frameborder:"0",scrolling:"no",src:"//platform.twitter.com/widgets/tweet_button.html?url="+twitterUrl+"&count=vertical&size=s",style:"width:58px; height:65px; margin-right:10px;"},{allowtransparency:!0,frameborder:!0,scrolling:!0,src:!0,style:!0})),buf.push('></iframe></div></div></div></div><hr class="coursera-full-page-divider-no_padding"/><div class="row-fluid"><div class="span7">'),topic.get("description")?buf.push('<div style="clear:both;margin:auto;" class="coursera-course-description">'+(null==(interp=topic.get("description"))?"":interp)+"</div>"):(buf.push("<div> "),topic.get("about_the_course")&&buf.push('<h2 data-msg="coursera-course-about" class="coursera-course-heading">About the Course</h2><div class="coursera-course-detail">'+(null==(interp=topic.get("about_the_course"))?"":interp)+"</div>"),topic.get("course_syllabus")&&buf.push('<h2 data-msg="coursera-course-syllabus" style="clear:both;" class="coursera-course-heading">Course Syllabus</h2><div class="coursera-course-detail">'+(null==(interp=topic.get("course_syllabus"))?"":interp)+"</div>"),topic.get("recommended_background")&&buf.push('<h2 data-msg="coursera-course-background" class="coursera-course-heading">Recommended Background</h2><div class="coursera-course-detail">'+(null==(interp=topic.get("recommended_background"))?"":interp)+"</div>"),topic.get("suggested_readings")&&buf.push('<h2 data-msg="coursera-course-readings" class="coursera-course-heading">Suggested Readings</h2><div class="coursera-course-detail">'+(null==(interp=topic.get("suggested_readings"))?"":interp)+"</div>"),topic.get("course_format")&&buf.push('<h2 data-msg="coursera-course-format" class="coursera-course-heading">Course Format</h2><div class="coursera-course-detail">'+(null==(interp=topic.get("course_format"))?"":interp)+"</div>"),topic.get("other_description")&&buf.push('<div class="coursera-course-detail">'+(null==(interp=topic.get("other_description"))?"":interp)+"</div>"),topic.get("faq")&&buf.push('<h2 data-msg="coursera-course-faq" class="coursera-course-heading">FAQ</h2><div class="coursera-course-detail">'+(null==(interp=topic.get("faq"))?"":interp)+"</div>"),buf.push("</div>")),buf.push('</div><div class="span1"></div><div class="span4"><div class="coursera-course2-data"><h2 data-msg="coursera-course-instructor" style="margin-bottom:24px;" class="coursera-course-heading">About the Instructor</h2><div class="coursera-course2-instructors"></div></div></div></div><hr class="coursera-full-page-divider-no_padding"/><div class="row-fluid"><div class="span12">'),topic.get("categories").length&&(buf.push('<br/><div style="margin-bottom:3px;"><span style="font-weight:bold" data-msg="coursera-course-categories">Categories: </span><br/>'),_.each(topic.get("categories"),function(e){buf.push("<a"),buf.push(attrs({href:config.dir.home+"courses?cats="+e.short_name,"class":"internal-home"},{href:!0})),buf.push(">"+escape(null==(interp=e.name)?"":interp)+"</a><br/>")}),buf.push("</div>")),buf.push('<div style="border-top: 1px solid #CCC; padding-top: 30px; margin: auto; text-align: center; margin-top: 36px;">'),topic.get("is_stanford")?buf.push('<a target="_blank" href="http://stanford.edu/online/courses" class="btn btn-large btn-primary">Browse more Stanford Online courses</a>'):(buf.push("<a"),buf.push(attrs({href:config.dir.home+"courses",style:"margin-top: 20px; ; display: inline-block;","class":"btn btn-large btn-primary internal-home"},{href:!0,style:!0})),buf.push(">Browse more courses</a>")),buf.push('</div></div></div></div></div><div data-modal-overlay-class="coursera-overlay-dark" class="modal hide coursera-course-modal"><div class="modal-header"><div style="float:right; width:300px; text-align: right;"><div'),buf.push(attrs({"data-size":"small","data-href":topic.get("social_link"),"class":"g-plusone"},{"data-size":!0,"data-href":!0})),buf.push("></div><iframe"),buf.push(attrs({style:"height:20px;width:90px; vertical-align:middle; margin-top:-5px;",allowtransparency:"true",frameborder:"0",scrolling:"no",src:"//platform.twitter.com/widgets/tweet_button.html?url="+twitterUrl+"&size=s"},{style:!0,allowtransparency:!0,frameborder:!0,scrolling:!0,src:!0})),buf.push("></iframe><fb:like"),buf.push(attrs({href:topic.get("social_link"),send:"false",layout:"button_count",show_faces:"false"},{href:!0,send:!0,layout:!0,show_faces:!0})),buf.push('></fb:like></div><h3>Congratulations!</h3><div style="clear:both;"></div></div><div class="modal-body"><p>You\'re signed up for '+escape(null==(interp=topic.get("name"))?"":interp)+'.<span class="coursera-course-modal-open hide"> The course is open and you can start watching lectures and participating on the forums with other students right now!<br/><span class="coursera-course-modal-open"><a style="width:90%" class="btn btn-success">Go to class</a></span></span><span class="coursera-course-modal-starts hide"> The course will start on <span class="coursera-course-modal-starts-date"></span> and we will notify you just before then to remind you when class will begin.</span><span class="coursera-course-modal-tba hide"> The course is under preparation, and we will notify you by email when it starts.</span></p><div class="coursera-course-modal-signature-track-optin hide"><p><b>Earn a Verified Certificate from '+escape(null==(interp=topic.get("name"))?"":interp)+" and Coursera</b><br/></p><img"),buf.push(attrs({src:certificateImgURL,alt:"Illustration of certificate",style:"float:left; margin-right:10px;"},{src:!0,alt:!0,style:!0})),buf.push('/><span> Signature Track enables you to securely link your coursework to your identity, allowing you to confidently show the world what you\'ve achieved on Coursera.<br/><a style="width:330px;" class="btn coursera-signature-signup-button">Learn more about Signature Track</a></span></div></div><div class="modal-footer"><a data-modal-close="data-modal-close">Back to browsing</a></div></div><div data-modal-overlay-class="coursera-overlay-dark" class="modal hide coursera-course-modal-aprilfools"><div class="modal-header"><div style="float:right; width:300px; text-align: right;"><div'),buf.push(attrs({"data-size":"small","data-href":topic.get("social_link"),"class":"g-plusone"},{"data-size":!0,"data-href":!0})),buf.push("></div><iframe"),buf.push(attrs({style:"height:20px;width:90px; vertical-align:middle; margin-top:-5px;",allowtransparency:"true",frameborder:"0",scrolling:"no",src:"//platform.twitter.com/widgets/tweet_button.html?url="+twitterUrl+"&size=s"},{style:!0,allowtransparency:!0,frameborder:!0,scrolling:!0,src:!0})),buf.push("></iframe><fb:like"),buf.push(attrs({href:topic.get("social_link"),send:"false",layout:"button_count",show_faces:"false"},{href:!0,send:!0,layout:!0,show_faces:!0})),buf.push('></fb:like></div><h3>Congratulations!</h3><div style="clear:both;"><p>Thank you for joining Underwater Basket Weaving! Due to an unplanned research trip to a recently unearthed Aquacamamatian burial site, Professor Dunne has decided to postpone his class. In the meantime, check out some of the other incredible free courses offered on Coursera!</p><center><a data-modal-close="data-modal-close" href="/courses" class="internal-home btn btn-primary coursera-course-aprilfools-btn">See Other Courses You\'ll Like!</a></center></div></div></div><div data-modal-overlay-class="coursera-overlay-dark" class="modal coursera-course-selfstudy-modal hide"><div class="modal-header"><h2>What does "self study" mean?</h2></div><div class="modal-body"><p>Self-Study mode makes all the videos and assignments available to be done at your own pace, but without a certificate of completion at the end.</p><p>This is only available for some courses at this time.</p></div><div class="modal-footer"><button data-modal-close="data-modal-close" class="btn btn-primary">OK, I got it!</button></div></div>')}return buf.join("")}};"function"==typeof define&&define.amd?define('pages/home/course/courseBody.html',["js/lib/jade"],function(e){return jadify(e)}):wndw.jade.templates.courseBody=jadify(wndw.jade.helpers)})(window);
(function(wndw){var jadify=function(jade){return function anonymous(locals,attrs,escape,rethrow,merge){attrs=attrs||jade.attrs,escape=escape||jade.escape,rethrow=rethrow||jade.rethrow,merge=merge||jade.merge;var buf=[];with(locals||{}){var interp;0==courses.length?buf.push('<p data-msg="coursera-course-listings-none">There are no upcoming sessions at this time. Come back soon!</p>'):(courses.length>1?buf.push('<span data-msg="coursera-course-listings-sessions" class="coursera-course-listings-header">Session(s):</span>'):"future"==courses.at(0).get("start_status")?buf.push('<span data-msg="coursera-course-listings-sessions" class="coursera-course-listings-header">Next Session:</span>'):"present"==courses.at(0).get("start_status")?buf.push('<span data-msg="coursera-course-listings-current-session" class="coursera-course-listings-header">Current Session:</span>'):buf.push('<span data-msg="coursera-course-listings-sessions" class="coursera-course-listings-header">Previous Session:</span>'),buf.push("<table>"),courses.each(function(e){buf.push("<tr"),buf.push(attrs({"data-course-id":e.get("id"),"class":"coursera-course-listing"},{"data-course-id":!0})),buf.push("><td><span>"+escape(null==(interp=e.get("start_display"))?"":interp)+"</span>"),e.get("duration")&&buf.push("<span> \n("+escape(null==(interp=e.get("duration_weeks"))?"":interp)+" weeks long)</span>"),e.get("self_study")&&buf.push('<a data-modal=".coursera-course-selfstudy-modal" role="button" title="What is self study?" class="btn btn-small coursera-help-button">?</a>'),buf.push('</td><td style="padding-left: 15px;">'),e.get("user_is_enrolled")?"1"==e.get("active")&&"past"!=e.get("start_status")||e.get("self_study")?(buf.push("<a"),buf.push(attrs({href:e.get("class_link"),"class":"btn btn-success coursera-course-button"},{href:!0})),buf.push(">Go to class</a>"),e.get("eligible_for_signature_track")&&e.get("signature_track_registration_open")&&(e.get("user_in_signature_track")?buf.push('<span>&nbsp;</span><div class="course-signaturetrack-bannerbox-enrolled"><span style="text-transform: uppercase;">&#x2713; Signature </span>Track</div>'):(buf.push("<span>&nbsp;</span><a"),buf.push(attrs({href:e.get("optin_link"),"class":"btn coursera-signature-signup-button"},{href:!0})),buf.push(">Enroll in Signature Track</a><a"),buf.push(attrs({href:e.get("optin_link"),style:"color:#9b762f;",title:"Learn more about Signature Track"},{href:!0,style:!0,title:!0})),buf.push('><i class="icon-info-sign coursera-signature-learnmore-icon"></i></a>')))):"1"==e.get("active")?(buf.push("<a"),buf.push(attrs({href:e.get("class_link"),"class":"coursera-course-button"},{href:!0})),buf.push(">View class archive</a>")):"0"==e.get("active")&&"past"==e.get("start_status")?buf.push('<a disabled="disabled" class="btn btn-success coursera-course-button">You took this course.</a>'):(buf.push('<a disabled="disabled" class="btn btn-success coursera-course-button">You are enrolled!</a>'),e.get("user_in_signature_track")||e.get("eligible_for_signature_track")&&e.get("signature_track_registration_open")&&(buf.push("<span>&nbsp;</span><a"),buf.push(attrs({href:e.get("optin_link"),"class":"btn coursera-signature-signup-button"},{href:!0})),buf.push(">Enroll in Signature Track</a><a"),buf.push(attrs({href:e.get("optin_link"),style:"color:#9b762f;",title:"Learn more about Signature Track"},{href:!0,style:!0,title:!0})),buf.push('><i class="icon-info-sign coursera-signature-learnmore-icon"></i></a>'))):user.get("authenticated")?e.get("eligible_for_signature_track")&&e.get("signature_track_registration_open")?(buf.push('<a class="btn coursera-course-button coursera-course-button-join">Enroll for Free</a><span>&nbsp;</span><a'),buf.push(attrs({href:e.get("optin_link"),"class":"btn coursera-signature-signup-button"},{href:!0})),buf.push(">Enroll in Signature Track</a><a"),buf.push(attrs({href:e.get("optin_link"),style:"color:#9b762f;",title:"Learn more about Signature Track"},{href:!0,style:!0,title:!0})),buf.push('><i class="icon-info-sign coursera-signature-learnmore-icon"></i></a>')):buf.push('<a class="btn btn-primary coursera-course-button coursera-course-button-join">Sign Up</a>'):e.get("eligible_for_signature_track")&&e.get("signature_track_registration_open")?(buf.push("<a"),buf.push(attrs({href:config.dir.home+"account/signup","class":"btn coursera-course-button coursera-course-button-join internal-home"},{href:!0})),buf.push(">Enroll for free</a><span>&nbsp;</span><a"),buf.push(attrs({href:e.get("optin_link"),"class":"btn coursera-signature-signup-button"},{href:!0})),buf.push(">Enroll in Signature Track</a><a"),buf.push(attrs({href:e.get("optin_link"),style:"color:#9b762f;",title:"Learn more about Signature Track"},{href:!0,style:!0,title:!0})),buf.push('><i class="icon-info-sign coursera-signature-learnmore-icon"></i></a>')):(buf.push("<a"),buf.push(attrs({href:config.dir.home+"account/signup","class":"btn btn-primary coursera-course-button coursera-course-button-join internal-home"},{href:!0})),buf.push(">Sign Up</a>")),buf.push("</td></tr>")}),buf.push("</table>"))}return buf.join("")}};"function"==typeof define&&define.amd?define('pages/home/course/courseListing.html',["js/lib/jade"],function(e){return jadify(e)}):wndw.jade.templates.courseListing=jadify(wndw.jade.helpers)})(window);
(function(wndw){var jadify=function(jade){return function anonymous(locals,attrs,escape,rethrow,merge){attrs=attrs||jade.attrs,escape=escape||jade.escape,rethrow=rethrow||jade.rethrow,merge=merge||jade.merge;var buf=[];with(locals||{}){var interp;buf.push('<div class="coursera-course2-instructors-profile"><div class="coursera-course2-instructors-profile-image"><a'),buf.push(attrs({href:instructor.getLink(),style:"background-image:url('"+(instructor.get("photo_150")||config.url.assets+"images/icons/avatar.jpg")+"');","class":"internal-home"},{href:!0,"class":!0,style:!0})),buf.push('></a></div><div class="coursera-course2-instructors-profile-inner-shadow"></div><div class="coursera-course2-instructors-info"><a'),buf.push(attrs({href:instructor.getLink(),"class":"internal-home"},{href:!0,"class":!0})),buf.push('><span class="coursera-course2-instructor-name">'+escape(null==(interp=instructor.get("full_name"))?"":interp)+"</span></a><a"),buf.push(attrs({href:university.home_link||config.dir.home+university.short_name,"class":university.home_link?"":"internal-home"},{href:!0,"class":!0})),buf.push('><span class="coursera-course2-instructor-university">'+escape(null==(interp=university.name)?"":interp)+"</span></a></div></div>")}return buf.join("")}};"function"==typeof define&&define.amd?define('pages/home/course/courseBodyInstructorIcon.html',["js/lib/jade"],function(e){return jadify(e)}):wndw.jade.templates.courseBodyInstructorIcon=jadify(wndw.jade.helpers)})(window);
define('pages/home/course/courseBody',["underscore","jquery","js/core/coursera","js/collections/courses","js/models/instructor","pages/home/template/body","pages/home/course/courseBody.html","pages/home/course/courseListing.html","pages/home/course/courseBodyInstructorIcon.html","js/lib/cookie","js/lib/util","js/lib/modals","js/lib/popups","js/lib/third-parties"],function(e,s,r,t,a,o,i,u,c,n,l,d,p,h){function g(e,t){var a=/(www\.)?amazon.com/;e.find("a").each(function(){var e=this,o=e.href;if(a.test(e.hostname)){var i=l.getUrlParam(o,"tag");"coursera-20"==i&&(o=o.replace("tag=coursera-20","tag="+t),s(e).attr("href",o)),i||(o+=(e.search?"&":"?")+"tag="+t,s(e).attr("href",o)),s(e).on("click",function(){r.tracker.push({key:"user.click.link.amazon",value:{tag:t,url:o,text:e.innerText}})})}})}var f=function(e){return"https://s3.amazonaws.com/coursera/universities/"+e+"/signature-cert-icon.png"},m=["fuont"],b={},v=o.extend({events:{"click .coursera-course-logo":"play","click .coursera-course-playbar":"play","click .coursera-course-playbutton":"play","mouseenter .coursera-course-logo":"hover","mouseleave .coursera-course-logo":"hover","click .coursera-course-button-join":"enroll","click .coursera-course-subscribe button":"subscribe","click .coursera-course-subscribed button":"unsubscribe","click .coursera-course-aprilfools-btn":"trackAprilFools"},initialize:function(){var t=this,o=this.model;document.title=o.get("name")+" | Coursera";var i=o.get("name")+" is a free online class taught by "+o.get("instructor")+" of "+o.get("universities_display");"basketweave"==o.get("short_name")&&(i="Underwater basket weaving is a craft that seamlessly merges scientific intellectualism, manual dexterity, and promises to be one of the best classes on Coursera"),l.setMetaTag("property","og:title",o.get("name")),l.setMetaTag("property","og:url",window.location.href),l.setMetaTag("property","og:image",o.get("large_icon")),l.setMetaTag("property","og:site_name",o.get("name")),l.setMetaTag("property","og:description",i),l.setMetaTag("itemprop","name",o.get("name")),l.setMetaTag("itemprop","description",i),l.setMetaTag("itemprop","image",o.get("large_icon")),t.bind("view:closing",function(){d(this.$el.find(".modal")).close()}),t.bind("view:appended",function(){t.$el.find(".social").show(),h.ready("FB.XFBML.parse",function(){window.FB.XFBML.parse(t.$el.find(".social-facebook").get(0)),window.FB.Event.subscribe("edge.create",function(e,s){r.tracker.push({key:"user.social.share.facebook",value:s})})}),h.ready("gapi.plusone.go",function(){window.gapi.plusone.render(t.$el.find(".g-plusone")[0],{count:!0,size:"tall",callback:function(e){r.tracker.push({key:"user.social.share.googleplus",value:e})}})}),t.updateCourseListings(),t.checkJustEnrolled(),t.$(".coursera-course-description a").attr("target","_blank"),g(t.$el,"coursera-course"+t.model.get("id")+"-20");var i=0,u=[];if(e.each(this.model.get("instructors"),function(e){var s=new a(e);s.shouldDisplay()?(t.$(".coursera-course2-instructors").append(c({config:r.config,instructor:s,university:s.get("universities")[0]})),i+=1,u.push(s.get("full_name"))):r.user.canEditTopic(o)&&t.$(".coursera-course2-instructors").append('<div class="alert">Warning: You have not created an instructor profile for an instructor associated with this course. (Only admins see this warning.)<a class="btn btn-warning" href="../admin/data/instructorprofiles/'+s.get("id")+'">'+"Create Profile</a></div>")}),t.$(".coursera-course2-instructors-profile").each(function(){var e=s(this),r=s(this).find(".coursera-course2-instructors-info"),t=s(this).find(".coursera-course2-instructor-name"),a=s(this).find(".coursera-course2-instructor-university");l.truncateElemText(a),l.truncateElemText(t),r.height()+r.position().top>=e.height()&&l.verticalCenterEl(e,r)}),1!=i&&t.$("*[data-msg=coursera-course-instructor]").text("About the Instructors"),t.$(".instructor-name").text(l.prettyJoin(u)),this.model.get("universities").length>0){var n=this.model.get("universities")[0].primary_color;t.$("a:not(.btn)").css("color",n)}t.internationalize(),t.$(".coursera-course-modal-signature-track-optin img").on("error.signature",function(){var e=s(this);e.attr("src",f("_generic")),e.off("error.signature")})})},render:function(){var s=this.model.get("short_name"),a=f("_generic");if(s in b)a=b[s];else if(1==this.model.get("universities").length){var o=this.model.get("universities")[0].short_name;0>m.indexOf(o)&&(a=f(o))}var u=e.pluck(this.model.get("universities"),"name").join(", ");return this.$el.append(i({topic:this.model,user:r.user,_:e,config:r.config,universities:u,certificateImgURL:a,query:this.options.query,twitterUrl:encodeURIComponent(this.model.get("social_link"))+"&text="+encodeURIComponent(this.model.getTwitterText("I signed up for"))+"&hashtags="+encodeURIComponent(this.model.get("hash_tag")),Courses:t})),this},updateCourseListings:function(){function s(s){var o=new t;a.model.get("courses").each(function(e){var r=s&&s.find(function(s){return s.get("id")==e.get("id")});r?(o.add(e),e.set("user_is_enrolled",!0),r.get("record")?e.set("user_in_signature_track",r.get("record").signature_track):e.set("user_in_signature_track",!1)):e.get("status")&&o.add(e)});var i=new t;i.comparator=void 0,i.add(t.byTimeDescending(o)),a.$(".coursera-course-listings").empty().append(u({courses:i,user:r.user,_:e,config:r.config})),a.internationalize(),a.$(".coursera-signature-signup-button").bind("click",function(){r.multitracker.pushEvent("Sig Course Descrip Signup Button","Click")}),a.$(".coursera-signature-learnmore-icon").bind("click",function(){r.multitracker.pushEvent("Sig Course Descrip Learn Icon","Click")})}var a=this;r.user.get("authenticated")?r.user.getTopics(function(){s(r.user.get("courses")),r.user.getSubscriptions().done(function(){r.user.isSubscribedToTopic(a.model)?a.$(".coursera-course-subscribed").show():a.$(".coursera-course-subscribe").show()})}):s()},internationalize:function(){var e=this,r={};if("fr"==this.model.get("language"))r={"coursera-course-about":"À propos du cours","coursera-course-instructor":"A propos des enseignants","coursera-course-syllabus":"Programme du cours","coursera-course-background":"Prérequis","coursera-course-readings":"Lectures recommandées","coursera-course-format":"Format du cours","coursera-course-faq":"Questions fréquentes","coursera-course-workload":"Charge de travail: ","coursera-course-categories":"Catégories: ","coursera-course-workloadunits":"heures/semaine","coursera-course-listings-sessions":"Sessions: ","coursera-course-listings-current-session":"Sessions: ","coursera-course-started":"Commencé: ","coursera-course-tba":"Sera communiqué ultérieurement ","coursera-course-duration":"semaines","coursera-course-listings-none":"Il n'y a pas des prochaines sessions"};else if("zh-Hant"==this.model.get("language"))r={"coursera-course-about":"課程概述","coursera-course-instructor":"教師簡介","coursera-course-syllabus":"授課大綱","coursera-course-background":"先修知識","coursera-course-readings":"參考資料","coursera-course-format":"授課形式","coursera-course-faq":"常見問題","coursera-course-workload":"課程負載: ","coursera-course-categories":"課程類型","coursera-course-workloadunits":"小时／星期","coursera-course-listings-sessions":"開授班次","coursera-course-listings-current-session":"最新班次","coursera-course-started":"已啟動","coursera-course-tba":"待定","coursera-course-duration":"時間長度","coursera-course-listings-none":"無開授班次"};else if("zh-Hans"==this.model.get("language"))r={"coursera-course-about":"课程概述","coursera-course-instructor":"教师简介","coursera-course-syllabus":"授课大纲","coursera-course-background":"先修知识","coursera-course-readings":"参考资料","coursera-course-format":"授课形式","coursera-course-faq":"常见问题","coursera-course-workload":"课程负载: ","coursera-course-categories":"课程类型","coursera-course-workloadunits":"小时／星期","coursera-course-listings-sessions":"开授班次","coursera-course-listings-current-session":"最新班次","coursera-course-started":"已启动","coursera-course-tba":"待定","coursera-course-duration":"时间长度","coursera-course-listings-none":"无开授班次"};else if("es"==this.model.get("language"))r={"coursera-course-about":"Sobre el curso","coursera-course-instructor":"Sobre el instructor","coursera-course-syllabus":"Temario","coursera-course-background":"Antecedentes recomendados","coursera-course-readings":"Lecturas recomendadas","coursera-course-format":"Formato del curso","coursera-course-faq":"Preguntas frecuentes","coursera-course-workload":"Carga de trabajo: ","coursera-course-categories":"Categorías","coursera-course-workloadunits":"hours/week","coursera-course-listings-sessions":"Sesiones","coursera-course-listings-current-session":"Sesiones","coursera-course-started":"Iniciado","coursera-course-tba":"Próximamente","coursera-course-duration":"Duración","coursera-course-listings-none":"No hay sesiones"};else{if("it"!=this.model.get("language"))return;r={"coursera-course-about":"Informazioni sul corso","coursera-course-instructor":"Informazioni sul docente","coursera-course-syllabus":"Calendario delle lezioni","coursera-course-background":"Prerequisiti","coursera-course-readings":"Letture consigliate","coursera-course-format":"Struttura del corso","coursera-course-faq":"Domande frequenti","coursera-course-workload":"Impegno richiesto: ","coursera-course-categories":"Categorie","coursera-course-workloadunits":"hours/week","coursera-course-listings-sessions":"Sessioni: ","coursera-course-listings-current-session":"Sessione in corso: ","coursera-course-started":"Iniziato","coursera-course-tba":"Da definire","coursera-course-duration":"Durata del corso","coursera-course-listings-none":"Nessuna sessione"}}s.each(r,function(s,r){var t=e.$('*[data-msg="'+s+'"]');t.text(r)})},subscribe:function(e){var t=this;s(e.target).attr("disabled","disabled"),r.user.subscribeToTopic(t.model).done(function(){t.$(".coursera-course-subscribed").show(),t.$(".coursera-course-subscribe").hide(),s(e.target).attr("disabled",null)})},unsubscribe:function(e){var t=this;s(e.target).attr("disabled","disabled"),r.user.unsubscribeFromTopic(t.model).done(function(){t.$(".coursera-course-subscribed").hide(),t.$(".coursera-course-subscribe").show(),s(e.target).attr("disabled",null)})},enroll:function(e){var t=this,a=s(e.target).closest(".coursera-course-listing"),o=t.model.get("courses").get(a.attr("data-course-id"));if(r.user.get("authenticated")){s(e.target).attr("disabled","disabled"),r.tracker.push({key:"user.course.enroll",value:o.get("id")});var i=0;r.user.enroll(o.get("id"),i,function(a){s(e.target).removeAttr("disabled"),a?r.router.trigger("error",500,window.location.href,{message:"failed to enroll user"}):t.checkJustEnrolled()})}else r.user.set("enrolling",{course:t.model,open:o}),r.router.navigate(r.config.dir.home+"account/signup",!0)},checkJustEnrolled:function(){var s=n.get("just_enrolled");s&&(enrolledCourse=this.model.getCourseById(s),970831==s?d(this.$(".coursera-course-modal-aprilfools")).open():d(this.$(".coursera-course-modal")).open(),this.$(".coursera-course-modal-open").hide(),this.$(".coursera-course-modal-starts").hide(),this.$(".coursera-course-modal-tba").hide(),this.$(".coursera-course-modal-signature-track-optin").hide(),"1"==enrolledCourse.get("active")||enrolledCourse.get("self_study")?(this.$(".coursera-course-modal-open").show(),this.$(".coursera-course-modal-open a").attr("href",enrolledCourse.get("home_link")+"auth/auth_redirector?type=login&subtype=normal")):enrolledCourse.get("start_day")?(this.$(".coursera-course-modal-starts-date").text(enrolledCourse.get("start_display")),this.$(".coursera-course-modal-starts").show()):this.$(".coursera-course-modal-tba").show(),enrolledCourse.isEligibleForTrack()&&(r.multitracker.pushEvent("Sig Course Descrip Modal","Show"),this.$(".coursera-course-modal-signature-track-optin").show(),this.$(".coursera-course-modal-signature-track-optin a").attr("href",enrolledCourse.get("optin_link")).bind("click",function(){r.multitracker.pushEvent("Sig Course Descrip Modal Button","Click")})),d(this.$(".coursera-course-modal")).reposition(),r.user.getTopics(e.bind(this.updateCourseListings,this),!0),n.clear("just_enrolled"))},play:function(){r.tracker.push({key:"user.video.intro.course",value:"play"}),this.$el.find(".coursera-course-playbutton").hide(),this.$el.find(".coursera-course-logo").hide(),this.$el.find(".coursera-course-playbar").hide(),this.$el.find(".coursera-course-video").attr({src:"https://www.youtube.com/embed/"+this.model.get("video")+"?rel=0&autoplay=1&wmode=transparent"}).show()},hover:function(e){"mouseenter"==e.type?this.$el.find(".coursera-course-playbutton").addClass("hover"):this.$el.find(".coursera-course-playbutton").removeClass("hover")},trackAprilFools:function(){r.tracker.push({key:"user.campaign.aprilfools",value:""})}});return v});
(function(wndw){var jadify=function(jade){return function anonymous(locals,attrs,escape,rethrow,merge){attrs=attrs||jade.attrs,escape=escape||jade.escape,rethrow=rethrow||jade.rethrow,merge=merge||jade.merge;var buf=[];with(locals||{}){var interp;user.canEditTopic(topic)&&(buf.push('<div style="padding-top:18px;text-align:center;"><div class="container"><div class="row"><span style="padding:0px 36px;"><span style="display: none; vertical-align: top; margin-right: 10px;">Admins only:</span><span> <a'),buf.push(attrs({href:config.dir.home+"admin/data/courses/"+topic.get("id")},{href:!0})),buf.push(">Edit Course Description</a></span>"),topic.get("courses").size()>0&&(buf.push('</span><span style="padding:0px 36px;"><a data-popup=".coursera-edit-desc-popup" href="javascript:void(0);"><span class="dropdown-label">Edit Session Descriptions </span><span class="carrot">▾</span></a><span class="coursera-header-popup coursera-edit-desc-popup hide">'),topic.get("courses").each(function(e){buf.push("<span> <a"),buf.push(attrs({href:config.dir.home+"admin/data/sessions/"+e.get("id")},{href:!0})),buf.push(">"+escape(null==(interp=e.get("home_link"))?"":interp)+"</a></span>")}),buf.push('</span></span><span style="padding:0px 36px;"> <a data-popup=".coursera-edit-materials-popup" href="javascript:void(0);"><span class="dropdown-label">Edit Session Materials </span><span class="carrot">▾</span></a><span class="coursera-header-popup coursera-edit-materials-popup hide">'),topic.get("courses").each(function(e){buf.push("<span> <a"),buf.push(attrs({href:e.get("home_link")},{href:!0})),buf.push(">"+escape(null==(interp=e.get("home_link"))?"":interp)+"</a></span>")}),buf.push("</span>")),buf.push("</span></div></div></div>")),buf.push('<div class="container"><div class="span12 coursera-full-canvas"><div class="row-fluid"><div class="span12"><div class="row-fluid coursera-course2-banner"><div class="span12"><div class="coursera-course2-title"><h1>'+escape(null==(interp=topic.get("name"))?"":interp)+"</h1></div>"),_.each(topic.get("universities"),function(e){buf.push("<a"),buf.push(attrs({href:e.home_link||config.dir.home+e.short_name+"?preview_redesign=1",style:'background-image:url("'+(e.square_logo||e.logo)+'");',"class":"coursera-course2-uni-logo"},{href:!0,style:!0})),buf.push("></a>")}),buf.push('</div></div><hr class="coursera-full-page-divider"/></div></div><div class="row-fluid"><span class="12"><div class="row-fluid"><div class="span7"><div class="coursera-course2-description"><div><div class="coursera-course2-detail">'+escape(null==(interp=topic.get("short_description"))?"":interp)+"</div>"),topic.get("about_the_course")&&buf.push('<h2 data-msg="coursera-course2-about" class="coursera-course2-heading">About the Course</h2><div class="coursera-course2-detail">'+(null==(interp=topic.get("about_the_course"))?"":interp)+"</div>"),topic.get("course_syllabus")&&buf.push('<h2 data-msg="coursera-course2-syllabus" style="clear:both;" class="coursera-course2-heading">Course Syllabus</h2><div class="coursera-course2-detail">'+(null==(interp=topic.get("course_syllabus"))?"":interp)+"</div>"),topic.get("recommended_background")&&buf.push('<h2 data-msg="coursera-course2-background" class="coursera-course2-heading">Recommended Background</h2><div class="coursera-course2-detail">'+(null==(interp=topic.get("recommended_background"))?"":interp)+"</div>"),topic.get("suggested_readings")&&buf.push('<h2 data-msg="coursera-course2-readings" class="coursera-course2-heading">Suggested Readings</h2><div class="coursera-course2-detail">'+(null==(interp=topic.get("suggested_readings"))?"":interp)+"</div>"),topic.get("course_format")&&buf.push('<h2 data-msg="coursera-course2-format" class="coursera-course2-heading">Course Format</h2><div class="coursera-course2-detail">'+(null==(interp=topic.get("course_format"))?"":interp)+"</div>"),topic.get("other_description")&&buf.push('<div class="coursera-course2-detail">'+(null==(interp=topic.get("other_description"))?"":interp)+"</div>"),topic.get("faq")&&buf.push('<h2 data-msg="coursera-course2-faq" class="coursera-course2-heading">FAQ</h2><div class="coursera-course2-detail">'+(null==(interp=topic.get("faq"))?"":interp)+"</div>"),buf.push('</div></div></div><div class="span1"></div><div class="span4"><div style="margin-top:16px;margin-right:48px;" class="coursera-course2-data"><div class="coursera-course2-intro-video"><img'),buf.push(attrs({src:topic.get("large_icon"),style:"width:100%;"},{src:!0,style:!0})),buf.push('/><div class="coursera-course2-playbutton"><div class="coursera-course2-playbutton-circle"></div><span class="icon-play coursera-course2-playbutton-triangle"></span></div><a'),buf.push(attrs({"data-modal":".coursera-course2-modal-video","data-modal-iframe":youtube_embed_link,"class":"coursera-course2-play-curtain"},{"data-modal":!0,"data-modal-iframe":!0})),buf.push('></a></div><hr class="coursera-section-divider"/><div class="coursera-course2-instructors"></div><hr class="coursera-section-divider"/><div class="coursera-course2-sessions"><select class="coursera-course2-session-select"><option value="0">Loading...</option></select><a class="btn coursera-course2-session-button">Loading... </a></div><div class="coursera-course2-stats"><p class="coursera-course2-stat-header">Starts</p><p class="coursera-course2-stat-detail">January 7, 2013</p><p class="coursera-course2-stat-header">Duration</p><p class="coursera-course2-stat-detail">8 weeks</p><p class="coursera-course2-stat-header">Workload</p><p class="coursera-course2-stat-detail">5-6 hours/week</p><p class="coursera-course2-stat-header">Category </p><p class="coursera-course2-stat-detail"><a>Humanities » </a></p></div><hr class="coursera-section-divider"/><!-- div.coursera-course2-attributes<p><span class="icon-ok coursera-course2-attributes-icon"></span><span class="coursera-course2-attributes-header">Signature Track</span></p><p><span class="icon-ok coursera-course2-attributes-icon"></span><span class="coursera-course2-attributes-header">ACE Accreditation</span></p>--></div></div></div></span></div></div></div><div class="hide social"><div style="float:right;" class="social-facebook"><fb:like'),buf.push(attrs({href:topic.get("social_link"),send:"false",layout:"box_count",width:"50",show_faces:"false"},{href:!0,send:!0,layout:!0,width:!0,show_faces:!0})),buf.push('></fb:like></div><div style="float:right;margin-right:10px;" class="social-google"><div'),buf.push(attrs({"data-size":"tall","data-href":topic.get("social_link"),"class":"g-plusone"},{"data-size":!0,"data-href":!0})),buf.push('></div></div><div style="float:right;" class="social-twitter"><iframe'),buf.push(attrs({allowtransparency:"true",frameborder:"0",scrolling:"no",src:"//platform.twitter.com/widgets/tweet_button.html?url="+encodeURIComponent(topic.get("social_link"))+"&text="+encodeURIComponent("I just signed up for "+topic.get("name")+" #"+topic.get("short_name")+" - a free @coursera online class. Join me at ")+"&count=vertical&size=s",style:"width:58px; height:65px; margin-right:10px;"},{allowtransparency:!0,frameborder:!0,scrolling:!0,src:!0,style:!0})),buf.push('></iframe></div></div><div data-modal-position="absolute" data-modal-position-top="100px" data-modal-overlay-class="coursera-overlay" class="modal hide coursera-course2-modal-video"><div style="position:absolute;top:-25px;height:25px;right:0px;color:white;" data-modal-close="data-modal-close"> </div><span data-modal-close="data-modal-close" class="coursera-course2-modal-video-close icon-remove-sign"></span></div>')}return buf.join("")}};"function"==typeof define&&define.amd?define('pages/home/course/courseBody2.html',["js/lib/jade"],function(e){return jadify(e)}):wndw.jade.templates.courseBody2=jadify(wndw.jade.helpers)})(window);
(function(){var t=function(t){function e(t){return t&&"string"==typeof t?t.replace(/&/g,"&amp;"):t}function n(t,e){var n,i=0,r=e.length;if(t===void 0)return-1;if(t.constructor===String){for(;r>i;i+=1)if(0===t.localeCompare(e[i]))return i}else for(;r>i;i+=1)if(n=e[i],n.constructor===String){if(0===n.localeCompare(t))return i}else if(n===t)return i;return-1}function i(t,e){return t===e?!0:void 0===t||void 0===e?!1:null===t||null===e?!1:t.constructor===String?0===t.localeCompare(e):e.constructor===String?0===e.localeCompare(t):!1}function r(e,n){var i,r,o;if(null===e||1>e.length)return[];for(i=e.split(n),r=0,o=i.length;o>r;r+=1)i[r]=t.trim(i[r]);return i}function o(t){return t.outerWidth()-t.width()}function a(e){var n="keyup-change-value";e.bind("keydown",function(){void 0===t.data(e,n)&&t.data(e,n,e.val())}),e.bind("keyup",function(){var i=t.data(e,n);void 0!==i&&e.val()!==i&&(t.removeData(e,n),e.trigger("keyup-change"))})}function s(e){e.bind("mousemove",function(e){var n=t.data(document,"select2-lastpos");(void 0===n||n.x!==e.pageX||n.y!==e.pageY)&&t(e.target).trigger("mousemove-filtered",e)})}function l(t,e){var n;return function(){window.clearTimeout(n),n=window.setTimeout(e,t)}}function c(t){var e,n=!1;return function(){return n===!1&&(e=t(),n=!0),e}}function u(t,e){var i=l(t,function(t){e.trigger("scroll-debounced",t)});e.bind("scroll",function(t){n(t.target,e.get())>=0&&i(t)})}function d(t){t.preventDefault(),t.stopPropagation()}function h(e){if(!E){var n=e[0].currentStyle||window.getComputedStyle(e[0],null);E=t("<div></div>").css({position:"absolute",left:"-10000px",top:"-10000px",display:"none",fontSize:n.fontSize,fontFamily:n.fontFamily,fontStyle:n.fontStyle,fontWeight:n.fontWeight,letterSpacing:n.letterSpacing,textTransform:n.textTransform,whiteSpace:"nowrap"}),t("body").append(E)}return E.text(e.val()),E.width()}function f(t,e,n){var i=t.toUpperCase().indexOf(e.toUpperCase()),r=e.length;return 0>i?(n.push(t),void 0):(n.push(t.substring(0,i)),n.push("<span class='select2-match'>"),n.push(t.substring(i,i+r)),n.push("</span>"),n.push(t.substring(i+r,t.length)),void 0)}function p(e){var n,i=0,r=null,o=e.quietMillis||100;return function(a){window.clearTimeout(n),n=window.setTimeout(function(){i+=1;var n=i,o=e.data,s=e.transport||t.ajax,l=e.traditional||!1,c=e.type||"GET";o=o.call(this,a.term,a.page,a.context),null!==r&&r.abort(),r=s.call(null,{url:e.url,dataType:e.dataType,data:o,type:c,traditional:l,success:function(t){if(!(i>n)){var r=e.results(t,a.page);a.callback(r)}}})},o)}}function g(e){var n,i=e,r=function(t){return""+t.text};return t.isArray(i)||(r=i.text,t.isFunction(r)||(n=i.text,r=function(t){return t[n]}),i=i.results),function(e){var n=e.term,o={};return""===n?(e.callback({results:i}),void 0):(o.results=t(i).filter(function(){return e.matcher(n,r(this))}).get(),e.callback(o),void 0)}}function m(e){return t.isFunction(e)?e:function(n){var i=n.term,r={results:[]};t(e).each(function(){var t=void 0!==this.text,e=t?this.text:this;(""===i||n.matcher(i,e))&&r.results.push(t?this:{id:this,text:this})}),n.callback(r)}}function v(e){if(t.isFunction(e))return!0;if(!e)return!1;throw Error("formatterName must be a function or a falsy value")}function y(e){return t.isFunction(e)?e():e}function b(e){var n=0;return t.each(e,function(t,e){e.children?n+=b(e.children):n++}),n}function w(t,e,n,r){var o,a,s,l,c,u=t,d=!1;if(!r.createSearchChoice||!r.tokenSeparators||1>r.tokenSeparators.length)return void 0;for(;;){for(a=-1,s=0,l=r.tokenSeparators.length;l>s&&(c=r.tokenSeparators[s],a=t.indexOf(c),!(a>=0));s++);if(0>a)break;if(o=t.substring(0,a),t=t.substring(a+c.length),o.length>0&&(o=r.createSearchChoice(o,e),void 0!==o&&null!==o&&void 0!==r.id(o)&&null!==r.id(o))){for(d=!1,s=0,l=e.length;l>s;s++)if(i(r.id(o),r.id(e[s]))){d=!0;break}d||n(o)}}return 0!=u.localeCompare(t)?t:void 0}function x(e,n){var i=function(){};return i.prototype=new e,i.prototype.constructor=i,i.prototype.parent=e.prototype,i.prototype=t.extend(i.prototype,n),i}if(t.fn.each2===void 0&&t.fn.extend({each2:function(e){for(var n=t([0]),i=-1,r=this.length;r>++i&&(n.context=n[0]=this[i])&&e.call(n[0],i,n)!==!1;);return this}}),void 0===window.Select2){var C,k,A,S,T,E;C={TAB:9,ENTER:13,ESC:27,SPACE:32,LEFT:37,UP:38,RIGHT:39,DOWN:40,SHIFT:16,CTRL:17,ALT:18,PAGE_UP:33,PAGE_DOWN:34,HOME:36,END:35,BACKSPACE:8,DELETE:46,isArrow:function(t){switch(t=t.which?t.which:t){case C.LEFT:case C.RIGHT:case C.UP:case C.DOWN:return!0}return!1},isControl:function(t){var e=t.which;switch(e){case C.SHIFT:case C.CTRL:case C.ALT:return!0}return t.metaKey?!0:!1},isFunctionKey:function(t){return t=t.which?t.which:t,t>=112&&123>=t}},T=function(){var t=1;return function(){return t++}}(),t(document).delegate("*","mousemove",function(e){t.data(document,"select2-lastpos",{x:e.pageX,y:e.pageY})}),t(document).ready(function(){t(document).delegate("*","mousedown touchend",function(e){var n,i=t(e.target).closest("div.select2-container").get(0);i?t(document).find("div.select2-container-active").each(function(){this!==i&&t(this).data("select2").blur()}):(i=t(e.target).closest("div.select2-drop").get(0),t(document).find("div.select2-drop-active").each(function(){this!==i&&t(this).data("select2").blur()})),i=t(e.target),n=i.attr("for"),"LABEL"===e.target.tagName&&n&&n.length>0&&(i=t("#"+n),i=i.data("select2"),void 0!==i&&(i.focus(),e.preventDefault()))})}),k=x(Object,{bind:function(t){var e=this;return function(){t.apply(e,arguments)}},init:function(e){var n,i,r=".select2-results";this.opts=e=this.prepareOpts(e),this.id=e.id,void 0!==e.element.data("select2")&&null!==e.element.data("select2")&&this.destroy(),this.enabled=!0,this.container=this.createContainer(),this.containerId="s2id"+T(),this.container.attr("id",this.containerId),this.body=c(function(){return e.element.closest("body")}),void 0!==e.element.attr("class")&&this.container.addClass(e.element.attr("class")),this.container.css(y(e.containerCss)),this.container.addClass(y(e.containerCssClass)),this.opts.element.data("select2",this).hide().before(this.container),this.container.data("select2",this),this.dropdown=this.container.find(".select2-drop"),this.dropdown.addClass(y(e.dropdownCssClass)),this.dropdown.data("select2",this),this.results=n=this.container.find(r),this.search=i=this.container.find("input.select2-input"),i.attr("tabIndex",this.opts.element.attr("tabIndex")),this.resultsPage=0,this.context=null,this.initContainer(),this.initContainerWidth(),s(this.results),this.dropdown.delegate(r,"mousemove-filtered",this.bind(this.highlightUnderEvent)),u(80,this.results),this.dropdown.delegate(r,"scroll-debounced",this.bind(this.loadMoreIfNeeded)),t.fn.mousewheel&&n.mousewheel(function(t,e,i,r){var o=n.scrollTop();r>0&&0>=o-r?(n.scrollTop(0),d(t)):0>r&&n.get(0).scrollHeight-n.scrollTop()+r<=n.height()&&(n.scrollTop(n.get(0).scrollHeight-n.height()),d(t))}),a(i),i.bind("keyup-change",this.bind(this.updateResults)),i.bind("focus",function(){i.addClass("select2-focused")," "===i.val()&&i.val("")}),i.bind("blur",function(){i.removeClass("select2-focused")}),this.dropdown.delegate(r,"mouseup",this.bind(function(e){t(e.target).closest(".select2-result-selectable:not(.select2-disabled)").length>0?(this.highlightUnderEvent(e),this.selectHighlighted(e)):this.focusSearch(),d(e)})),this.dropdown.bind("click mouseup mousedown",function(t){t.stopPropagation()}),t.isFunction(this.opts.initSelection)&&(this.initSelection(),this.monitorSource()),(e.element.is(":disabled")||e.element.is("[readonly='readonly']"))&&this.disable()},destroy:function(){var t=this.opts.element.data("select2");void 0!==t&&void 0!==t.opts&&(t.container.remove(),t.dropdown.remove(),t.opts.element.removeData("select2").unbind(".select2").show())},prepareOpts:function(n){var o,a,s,l;if(o=n.element,"select"===o.get(0).tagName.toLowerCase()&&(this.select=a=n.element),a&&t.each(["id","multiple","ajax","query","createSearchChoice","initSelection","data","tags"],function(){if(this in n)throw Error("Option '"+this+"' is not allowed for Select2 when attached to a <select> element.")}),n=t.extend({},{populateResults:function(i,r,o){var a,s=this.opts.id,l=this;a=function(i,r,c){var u,d,h,f,p,g,m,v,y;for(u=0,d=i.length;d>u;u+=1)h=i[u],f=void 0!==s(h),p="children"in h&&h.children.length>0,g=t("<li></li>"),g.addClass("select2-results-dept-"+c),g.addClass("select2-result"),g.addClass(f?"select2-result-selectable":"select2-result-unselectable"),p&&g.addClass("select2-result-with-children"),g.addClass(l.opts.formatResultCssClass(h)),m=t("<div></div>"),m.addClass("select2-result-label"),y=n.formatResult(h,m,o),void 0!==y&&m.html(e(y)),g.append(m),p&&(v=t("<ul></ul>"),v.addClass("select2-result-sub"),a(h.children,v,c+1),g.append(v)),g.data("select2-data",h),r.append(g)},a(r,i,0)}},t.fn.select2.defaults,n),"function"!=typeof n.id&&(s=n.id,n.id=function(t){return t[s]}),a?(n.query=this.bind(function(e){var n,i,r,a={results:[],more:!1},s=e.term;r=function(t,n){var i;t.is("option")?e.matcher(s,t.text(),t)&&n.push({id:t.attr("value"),text:t.text(),element:t.get(),css:t.attr("class")}):t.is("optgroup")&&(i={text:t.attr("label"),children:[],element:t.get(),css:t.attr("class")},t.children().each2(function(t,e){r(e,i.children)}),i.children.length>0&&n.push(i))},n=o.children(),void 0!==this.getPlaceholder()&&n.length>0&&(i=n[0],""===t(i).text()&&(n=n.not(i))),n.each2(function(t,e){r(e,a.results)}),e.callback(a)}),n.id=function(t){return t.id},n.formatResultCssClass=function(t){return t.css}):"query"in n||("ajax"in n?(l=n.element.data("ajax-url"),l&&l.length>0&&(n.ajax.url=l),n.query=p(n.ajax)):"data"in n?n.query=g(n.data):"tags"in n&&(n.query=m(n.tags),n.createSearchChoice=function(t){return{id:t,text:t}},n.initSelection=function(e,o){var a=[];t(r(e.val(),n.separator)).each(function(){var e=this,r=this,o=n.tags;t.isFunction(o)&&(o=o()),t(o).each(function(){return i(this.id,e)?(r=this.text,!1):void 0}),a.push({id:e,text:r})}),o(a)})),"function"!=typeof n.query)throw"query function not defined for Select2 "+n.element.attr("id");return n},monitorSource:function(){this.opts.element.bind("change.select2",this.bind(function(){this.opts.element.data("select2-change-triggered")!==!0&&this.initSelection()}))},triggerChange:function(e){e=e||{},e=t.extend({},e,{type:"change",val:this.val()}),this.opts.element.data("select2-change-triggered",!0),this.opts.element.trigger(e),this.opts.element.data("select2-change-triggered",!1),this.opts.element.click()},enable:function(){this.enabled||(this.enabled=!0,this.container.removeClass("select2-container-disabled"))},disable:function(){this.enabled&&(this.close(),this.enabled=!1,this.container.addClass("select2-container-disabled"))},opened:function(){return this.container.hasClass("select2-dropdown-open")},positionDropdown:function(){var e,n,i=this.container.offset(),r=this.container.outerHeight(),o=this.container.outerWidth(),a=this.dropdown.outerHeight(),s=t(window).scrollTop()+document.documentElement.clientHeight,l=i.top+r,c=s>=l+a,u=i.top-a>=this.body().scrollTop(),d=this.dropdown.hasClass("select2-drop-above");d?(e=!0,!u&&c&&(e=!1)):(e=!1,!c&&u&&(e=!0)),e?(l=i.top-a,this.container.addClass("select2-drop-above"),this.dropdown.addClass("select2-drop-above")):(this.container.removeClass("select2-drop-above"),this.dropdown.removeClass("select2-drop-above")),n={top:l,left:i.left,width:o},this.dropdown.css(n)},shouldOpen:function(){var t;return this.opened()?!1:(t=jQuery.Event("open"),this.opts.element.trigger(t),!t.isDefaultPrevented())},clearDropdownAlignmentPreference:function(){this.container.removeClass("select2-drop-above"),this.dropdown.removeClass("select2-drop-above")},open:function(){return this.shouldOpen()?(window.setTimeout(this.bind(this.opening),1),!0):!1},opening:function(){var e=this.containerId,n="#"+e,i="scroll."+e,r="resize."+e;this.container.parents().each(function(){t(this).bind(i,function(){var e=t(n);0==e.length&&t(this).unbind(i),e.select2("close")})}),t(window).bind(r,function(){var e=t(n);0==e.length&&t(window).unbind(r),e.select2("close")}),this.clearDropdownAlignmentPreference()," "===this.search.val()&&this.search.val(""),this.dropdown.css(y(this.opts.dropdownCss)),this.dropdown.addClass("select2-drop-active"),this.container.addClass("select2-dropdown-open").addClass("select2-container-active"),this.updateResults(!0),this.dropdown[0]!==this.body().children().last()[0]&&this.dropdown.detach().appendTo(this.body()),this.dropdown.show(),this.ensureHighlightVisible(),this.positionDropdown(),this.focusSearch()},close:function(){if(this.opened()){var e=this;this.container.parents().each(function(){t(this).unbind("scroll."+e.containerId)}),t(window).unbind("resize."+this.containerId),this.clearDropdownAlignmentPreference(),this.dropdown.hide(),this.container.removeClass("select2-dropdown-open").removeClass("select2-container-active"),this.results.empty(),this.clearSearch(),this.opts.element.trigger(jQuery.Event("close"))}},clearSearch:function(){},ensureHighlightVisible:function(){var e,n,i,r,o,a,s,l=this.results;if(n=this.highlight(),!(0>n)){if(0==n)return l.scrollTop(0),void 0;e=l.find(".select2-result-selectable"),i=t(e[n]),r=i.offset().top+i.outerHeight(),n===e.length-1&&(s=l.find("li.select2-more-results"),s.length>0&&(r=s.offset().top+s.outerHeight())),o=l.offset().top+l.outerHeight(),r>o&&l.scrollTop(l.scrollTop()+(r-o)),a=i.offset().top-l.offset().top,0>a&&l.scrollTop(l.scrollTop()+a)}},moveHighlight:function(e){for(var n=this.results.find(".select2-result-selectable"),i=this.highlight();i>-1&&n.length>i;){i+=e;var r=t(n[i]);if(r.hasClass("select2-result-selectable")&&!r.hasClass("select2-disabled")){this.highlight(i);break}}},highlight:function(e){var i=this.results.find(".select2-result-selectable").not(".select2-disabled");return 0===arguments.length?n(i.filter(".select2-highlighted")[0],i.get()):(e>=i.length&&(e=i.length-1),0>e&&(e=0),i.removeClass("select2-highlighted"),t(i[e]).addClass("select2-highlighted"),this.ensureHighlightVisible(),void 0)},countSelectableResults:function(){return this.results.find(".select2-result-selectable").not(".select2-disabled").length},highlightUnderEvent:function(e){var n=t(e.target).closest(".select2-result-selectable");if(n.length>0&&!n.is(".select2-highlighted")){var i=this.results.find(".select2-result-selectable");this.highlight(i.index(n))}else 0==n.length&&this.results.find(".select2-highlighted").removeClass("select2-highlighted")},loadMoreIfNeeded:function(){var t,e=this.results,n=e.find("li.select2-more-results"),i=this.resultsPage+1,r=this,o=this.search.val(),a=this.context;0!==n.length&&(t=n.offset().top-e.offset().top-e.height(),0>=t&&(n.addClass("select2-active"),this.opts.query({term:o,page:i,context:a,matcher:this.opts.matcher,callback:this.bind(function(t){r.opts.populateResults.call(this,e,t.results,{term:o,page:i,context:a}),t.more===!0?(n.detach().appendTo(e).text(r.opts.formatLoadMore(i+1)),window.setTimeout(function(){r.loadMoreIfNeeded()},10)):n.remove(),r.positionDropdown(),r.resultsPage=i})})))},tokenize:function(){},updateResults:function(n){function r(){c.scrollTop(0),l.removeClass("select2-active"),d.positionDropdown()}function o(t){c.html(e(t)),r()}var a,s,l=this.search,c=this.results,u=this.opts,d=this;if(n===!0||this.showSearchInput!==!1&&this.opened()){if(l.addClass("select2-active"),u.maximumSelectionSize>=1&&(a=this.data(),t.isArray(a)&&a.length>=u.maximumSelectionSize&&v(u.formatSelectionTooBig,"formatSelectionTooBig")))return o("<li class='select2-selection-limit'>"+u.formatSelectionTooBig(u.maximumSelectionSize)+"</li>"),void 0;if(l.val().length<u.minimumInputLength&&v(u.formatInputTooShort,"formatInputTooShort"))return o("<li class='select2-no-results'>"+u.formatInputTooShort(l.val(),u.minimumInputLength)+"</li>"),void 0;o("<li class='select2-searching'>"+u.formatSearching()+"</li>"),s=this.tokenize(),void 0!=s&&null!=s&&l.val(s),this.resultsPage=1,u.query({term:l.val(),page:this.resultsPage,context:null,matcher:u.matcher,callback:this.bind(function(a){var s;return this.context=void 0===a.context?null:a.context,this.opts.createSearchChoice&&""!==l.val()&&(s=this.opts.createSearchChoice.call(null,l.val(),a.results),void 0!==s&&null!==s&&void 0!==d.id(s)&&null!==d.id(s)&&0===t(a.results).filter(function(){return i(d.id(this),d.id(s))}).length&&a.results.unshift(s)),0===a.results.length&&v(u.formatNoMatches,"formatNoMatches")?(o("<li class='select2-no-results'>"+u.formatNoMatches(l.val())+"</li>"),void 0):(c.empty(),d.opts.populateResults.call(this,c,a.results,{term:l.val(),page:this.resultsPage,context:null}),a.more===!0&&v(u.formatLoadMore,"formatLoadMore")&&(c.append("<li class='select2-more-results'>"+e(u.formatLoadMore(this.resultsPage))+"</li>"),window.setTimeout(function(){d.loadMoreIfNeeded()},10)),this.postprocessResults(a,n),r(),void 0)})})}},cancel:function(){this.close()},blur:function(){this.close(),this.container.removeClass("select2-container-active"),this.dropdown.removeClass("select2-drop-active"),this.search[0]===document.activeElement&&this.search.blur(),this.clearSearch(),this.selection.find(".select2-search-choice-focus").removeClass("select2-search-choice-focus")},focusSearch:function(){window.setTimeout(this.bind(function(){this.search.focus(),this.search.val(this.search.val())}),10)},selectHighlighted:function(){var t=this.highlight(),e=this.results.find(".select2-highlighted").not(".select2-disabled"),n=e.closest(".select2-result-selectable").data("select2-data");n&&(e.addClass("select2-disabled"),this.highlight(t),this.onSelect(n))},getPlaceholder:function(){return this.opts.element.attr("placeholder")||this.opts.element.attr("data-placeholder")||this.opts.element.data("placeholder")||this.opts.placeholder},initContainerWidth:function(){function e(){var e,n,i,r,o;if("off"===this.opts.width)return null;if("element"===this.opts.width)return 0===this.opts.element.outerWidth()?"auto":this.opts.element.outerWidth()+"px";if("copy"===this.opts.width||"resolve"===this.opts.width){if(e=this.opts.element.attr("style"),void 0!==e)for(n=e.split(";"),r=0,o=n.length;o>r;r+=1)if(i=n[r].replace(/\s/g,"").match(/width:(([-+]?([0-9]*\.)?[0-9]+)(px|em|ex|%|in|cm|mm|pt|pc))/),null!==i&&i.length>=1)return i[1];return"resolve"===this.opts.width?(e=this.opts.element.css("width"),e.indexOf("%")>0?e:0===this.opts.element.outerWidth()?"auto":this.opts.element.outerWidth()+"px"):null}return t.isFunction(this.opts.width)?this.opts.width():this.opts.width}var n=e.call(this);null!==n&&this.container.attr("style","width: "+n)}}),A=x(k,{createContainer:function(){var e=t("<div></div>",{"class":"select2-container"}).html(["    <a href='javascript:void(0)' class='select2-choice'>","   <span></span><abbr class='select2-search-choice-close' style='display:none;'></abbr>","   <div><b></b></div>","</a>","    <div class='select2-drop select2-offscreen'>","   <div class='select2-search'>","       <input type='text' autocomplete='off' class='select2-input'/>","   </div>","   <ul class='select2-results'>","   </ul>","</div>"].join(""));return e},opening:function(){this.search.show(),this.parent.opening.apply(this,arguments),this.dropdown.removeClass("select2-offscreen")},close:function(){this.opened()&&(this.parent.close.apply(this,arguments),this.dropdown.removeAttr("style").addClass("select2-offscreen").insertAfter(this.selection).show())},focus:function(){this.close(),this.selection.focus()},isFocused:function(){return this.selection[0]===document.activeElement},cancel:function(){this.parent.cancel.apply(this,arguments),this.selection.focus()},initContainer:function(){var t,e=this.container,n=this.dropdown,i=!1;this.selection=t=e.find(".select2-choice"),this.search.bind("keydown",this.bind(function(t){if(this.enabled){if(t.which===C.PAGE_UP||t.which===C.PAGE_DOWN)return d(t),void 0;if(this.opened())switch(t.which){case C.UP:case C.DOWN:return this.moveHighlight(t.which===C.UP?-1:1),d(t),void 0;case C.TAB:case C.ENTER:return this.selectHighlighted(),d(t),void 0;case C.ESC:return this.cancel(t),d(t),void 0}else{if(t.which===C.TAB||C.isControl(t)||C.isFunctionKey(t)||t.which===C.ESC)return;if(this.opts.openOnEnter===!1&&t.which===C.ENTER)return;if(this.open(),t.which===C.ENTER)return}}})),this.search.bind("focus",this.bind(function(){this.selection.attr("tabIndex","-1")})),this.search.bind("blur",this.bind(function(){this.opened()||this.container.removeClass("select2-container-active"),window.setTimeout(this.bind(function(){this.selection.attr("tabIndex",this.opts.element.attr("tabIndex"))}),10)})),t.bind("mousedown",this.bind(function(){i=!0,this.opened()?(this.close(),this.selection.focus()):this.enabled&&this.open(),i=!1})),n.bind("mousedown",this.bind(function(){this.search.focus()})),t.bind("focus",this.bind(function(){this.container.addClass("select2-container-active"),this.search.attr("tabIndex","-1")})),t.bind("blur",this.bind(function(){this.opened()||this.container.removeClass("select2-container-active"),window.setTimeout(this.bind(function(){this.search.attr("tabIndex",this.opts.element.attr("tabIndex"))}),10)})),t.bind("keydown",this.bind(function(t){if(this.enabled){if(t.which===C.PAGE_UP||t.which===C.PAGE_DOWN)return d(t),void 0;if(!(t.which===C.TAB||C.isControl(t)||C.isFunctionKey(t)||t.which===C.ESC||this.opts.openOnEnter===!1&&t.which===C.ENTER)){if(t.which==C.DELETE)return this.opts.allowClear&&this.clear(),void 0;if(this.open(),t.which===C.ENTER)return d(t),void 0;if(48>t.which)return d(t),void 0;var e=String.fromCharCode(t.which).toLowerCase();t.shiftKey&&(e=e.toUpperCase()),this.search.focus(),this.search.val(e),d(t)}}})),t.delegate("abbr","mousedown",this.bind(function(t){this.enabled&&(this.clear(),d(t),this.close(),this.triggerChange(),this.selection.focus())})),this.setPlaceholder(),this.search.bind("focus",this.bind(function(){this.container.addClass("select2-container-active")}))},clear:function(){this.opts.element.val(""),this.selection.find("span").empty(),this.selection.removeData("select2-data"),this.setPlaceholder()},initSelection:function(){if(""===this.opts.element.val()&&""===this.opts.element.text())this.close(),this.setPlaceholder();else{var t=this;this.opts.initSelection.call(null,this.opts.element,function(e){void 0!==e&&null!==e&&(t.updateSelection(e),t.close(),t.setPlaceholder())})}},prepareOpts:function(){var e=this.parent.prepareOpts.apply(this,arguments);return"select"===e.element.get(0).tagName.toLowerCase()&&(e.initSelection=function(e,n){var i=e.find(":selected");t.isFunction(n)&&n({id:i.attr("value"),text:i.text()})}),e},setPlaceholder:function(){var t=this.getPlaceholder();if(""===this.opts.element.val()&&void 0!==t){if(this.select&&""!==this.select.find("option:first").text())return;this.selection.find("span").html(e(t)),this.selection.addClass("select2-default"),this.selection.find("abbr").hide()}},postprocessResults:function(e,n){var r=0,o=this,a=!0;this.results.find(".select2-result-selectable").each2(function(t,e){return i(o.id(e.data("select2-data")),o.opts.element.val())?(r=t,!1):void 0}),this.highlight(r),n===!0&&(a=this.showSearchInput=b(e.results)>=this.opts.minimumResultsForSearch,this.dropdown.find(".select2-search")[a?"removeClass":"addClass"]("select2-search-hidden"),t(this.dropdown,this.container)[a?"addClass":"removeClass"]("select2-with-searchbox"))},onSelect:function(t){var e=this.opts.element.val();this.opts.element.val(this.id(t)),this.updateSelection(t),this.close(),this.selection.focus(),i(e,this.id(t))||this.triggerChange()},updateSelection:function(t){var n,i=this.selection.find("span");this.selection.data("select2-data",t),i.empty(),n=this.opts.formatSelection(t,i),void 0!==n&&i.append(e(n)),this.selection.removeClass("select2-default"),this.opts.allowClear&&void 0!==this.getPlaceholder()&&this.selection.find("abbr").show()},val:function(){var t,e=null,n=this;if(0===arguments.length)return this.opts.element.val();if(t=arguments[0],this.select)this.select.val(t).find(":selected").each2(function(t,n){return e={id:n.attr("value"),text:n.text()},!1}),this.updateSelection(e),this.setPlaceholder();else{if(void 0===this.opts.initSelection)throw Error("cannot call val() if initSelection() is not defined");if(!t)return this.clear(),void 0;this.opts.initSelection(this.opts.element,function(t){n.opts.element.val(t?n.id(t):""),n.updateSelection(t),n.setPlaceholder()})}},clearSearch:function(){this.search.val("")},data:function(t){var e;return 0===arguments.length?(e=this.selection.data("select2-data"),void 0==e&&(e=null),e):(t&&""!==t?(this.opts.element.val(t?this.id(t):""),this.updateSelection(t)):this.clear(),void 0)}}),S=x(k,{createContainer:function(){var e=t("<div></div>",{"class":"select2-container select2-container-multi"}).html(["    <ul class='select2-choices'>","  <li class='select2-search-field'>","    <input type='text' autocomplete='off' class='select2-input'>","  </li>","</ul>","<div class='select2-drop select2-drop-multi' style='display:none;'>","   <ul class='select2-results'>","   </ul>","</div>"].join(""));return e},prepareOpts:function(){var e=this.parent.prepareOpts.apply(this,arguments);return"select"===e.element.get(0).tagName.toLowerCase()&&(e.initSelection=function(e,n){var i=[];e.find(":selected").each2(function(t,e){i.push({id:e.attr("value"),text:e.text()})}),t.isFunction(n)&&n(i)}),e},initContainer:function(){var t,e=".select2-choices";this.searchContainer=this.container.find(".select2-search-field"),this.selection=t=this.container.find(e),this.search.bind("keydown",this.bind(function(e){if(this.enabled){if(e.which===C.BACKSPACE&&""===this.search.val()){this.close();var n,i=t.find(".select2-search-choice-focus");if(i.length>0)return this.unselect(i.first()),this.search.width(10),d(e),void 0;n=t.find(".select2-search-choice"),n.length>0&&n.last().addClass("select2-search-choice-focus")}else t.find(".select2-search-choice-focus").removeClass("select2-search-choice-focus");if(this.opened())switch(e.which){case C.UP:case C.DOWN:return this.moveHighlight(e.which===C.UP?-1:1),d(e),void 0;case C.ENTER:case C.TAB:return this.selectHighlighted(),d(e),void 0;case C.ESC:return this.cancel(e),d(e),void 0}e.which===C.TAB||C.isControl(e)||C.isFunctionKey(e)||e.which===C.BACKSPACE||e.which===C.ESC||(this.opts.openOnEnter!==!1||e.which!==C.ENTER)&&(this.open(),(e.which===C.PAGE_UP||e.which===C.PAGE_DOWN)&&d(e))}})),this.search.bind("keyup",this.bind(this.resizeSearch)),this.search.bind("blur",this.bind(function(){this.container.removeClass("select2-container-active")})),this.container.delegate(e,"mousedown",this.bind(function(t){this.enabled&&(this.clearPlaceholder(),this.open(),this.focusSearch(),t.preventDefault())})),this.container.delegate(e,"focus",this.bind(function(){this.enabled&&(this.container.addClass("select2-container-active"),this.dropdown.addClass("select2-drop-active"),this.clearPlaceholder())})),this.clearSearch()},enable:function(){this.enabled||(this.parent.enable.apply(this,arguments),this.search.removeAttr("disabled"))},disable:function(){this.enabled&&(this.parent.disable.apply(this,arguments),this.search.attr("disabled",!0))},initSelection:function(){if(""===this.opts.element.val()&&""===this.opts.element.text()&&(this.updateSelection([]),this.close(),this.clearSearch()),this.select||""!==this.opts.element.val()){var t=this;this.opts.initSelection.call(null,this.opts.element,function(e){void 0!==e&&null!==e&&(t.updateSelection(e),t.close(),t.clearSearch())})}},clearSearch:function(){var t=this.getPlaceholder();void 0!==t&&0===this.getVal().length&&this.search.hasClass("select2-focused")===!1?(this.search.val(t).addClass("select2-default"),this.resizeSearch()):this.search.val(" ").width(10)},clearPlaceholder:function(){this.search.hasClass("select2-default")?this.search.val("").removeClass("select2-default"):" "===this.search.val()&&this.search.val("")},opening:function(){this.parent.opening.apply(this,arguments),this.clearPlaceholder(),this.resizeSearch(),this.focusSearch()},close:function(){this.opened()&&this.parent.close.apply(this,arguments)},focus:function(){this.close(),this.search.focus()},isFocused:function(){return this.search.hasClass("select2-focused")},updateSelection:function(e){var i=[],r=[],o=this;t(e).each(function(){0>n(o.id(this),i)&&(i.push(o.id(this)),r.push(this))}),e=r,this.selection.find(".select2-search-choice").remove(),t(e).each(function(){o.addSelectedChoice(this)}),o.postprocessResults()},tokenize:function(){var t=this.search.val();t=this.opts.tokenizer(t,this.data(),this.bind(this.onSelect),this.opts),null!=t&&void 0!=t&&(this.search.val(t),t.length>0&&this.open())},onSelect:function(t){this.addSelectedChoice(t),this.select&&this.postprocessResults(),this.opts.closeOnSelect?(this.close(),this.search.width(10)):this.countSelectableResults()>0?(this.search.width(10),this.resizeSearch(),this.positionDropdown()):this.close(),this.triggerChange({added:t}),this.focusSearch()},cancel:function(){this.close(),this.focusSearch()},addSelectedChoice:function(n){var i,r=t("<li class='select2-search-choice'>    <div></div>    <a href='javascript:void(0)' class='select2-search-choice-close' tabindex='-1'></a></li>"),o=this.id(n),a=this.getVal();i=this.opts.formatSelection(n,r),r.find("div").replaceWith("<div>"+e(i)+"</div>"),r.find(".select2-search-choice-close").bind("mousedown",d).bind("click dblclick",this.bind(function(e){this.enabled&&(t(e.target).closest(".select2-search-choice").fadeOut("fast").animate({width:"hide"},50,this.bind(function(){this.unselect(t(e.target)),this.selection.find(".select2-search-choice-focus").removeClass("select2-search-choice-focus"),this.close(),this.focusSearch()})).dequeue(),d(e))})).bind("focus",this.bind(function(){this.enabled&&(this.container.addClass("select2-container-active"),this.dropdown.addClass("select2-drop-active"))})),r.data("select2-data",n),r.insertBefore(this.searchContainer),a.push(o),this.setVal(a)},unselect:function(t){var e,i,r=this.getVal();if(t=t.closest(".select2-search-choice"),0===t.length)throw"Invalid argument: "+t+". Must be .select2-search-choice";e=t.data("select2-data"),i=n(this.id(e),r),i>=0&&(r.splice(i,1),this.setVal(r),this.select&&this.postprocessResults()),t.remove(),this.triggerChange({removed:e})},postprocessResults:function(){var t=this.getVal(),e=this.results.find(".select2-result-selectable"),i=this.results.find(".select2-result-with-children"),r=this;e.each2(function(e,i){var o=r.id(i.data("select2-data"));n(o,t)>=0?i.addClass("select2-disabled").removeClass("select2-result-selectable"):i.removeClass("select2-disabled").addClass("select2-result-selectable")}),i.each2(function(t,e){0==e.find(".select2-result-selectable").length?e.addClass("select2-disabled"):e.removeClass("select2-disabled")}),e.each2(function(t,e){return!e.hasClass("select2-disabled")&&e.hasClass("select2-result-selectable")?(r.highlight(0),!1):void 0})},resizeSearch:function(){var t,e,n,i,r,a=o(this.search);t=h(this.search)+10,e=this.search.offset().left,n=this.selection.width(),i=this.selection.offset().left,r=n-(e-i)-a,t>r&&(r=n-a),40>r&&(r=n-a),this.search.width(r)},getVal:function(){var t;return this.select?(t=this.select.val(),null===t?[]:t):(t=this.opts.element.val(),r(t,this.opts.separator))},setVal:function(e){var i;this.select?this.select.val(e):(i=[],t(e).each(function(){0>n(this,i)&&i.push(this)}),this.opts.element.val(0===i.length?"":i.join(this.opts.separator)))},val:function(){var e,n=[],i=this;if(0===arguments.length)return this.getVal();if(e=arguments[0],!e)return this.opts.element.val(""),this.updateSelection([]),this.clearSearch(),void 0;if(this.setVal(e),this.select)this.select.find(":selected").each(function(){n.push({id:t(this).attr("value"),text:t(this).text()})}),this.updateSelection(n);else{if(void 0===this.opts.initSelection)throw Error("val() cannot be called if initSelection() is not defined");this.opts.initSelection(this.opts.element,function(e){var n=t(e).map(i.id);i.setVal(n),i.updateSelection(e),i.clearSearch()})}this.clearSearch()},onSortStart:function(){if(this.select)throw Error("Sorting of elements is not supported when attached to <select>. Attach to <input type='hidden'/> instead.");
this.search.width(0),this.searchContainer.hide()},onSortEnd:function(){var e=[],n=this;this.searchContainer.show(),this.searchContainer.appendTo(this.searchContainer.parent()),this.resizeSearch(),this.selection.find(".select2-search-choice").each(function(){e.push(n.opts.id(t(this).data("select2-data")))}),this.setVal(e),this.triggerChange()},data:function(e){var n,i=this;return 0===arguments.length?this.selection.find(".select2-search-choice").map(function(){return t(this).data("select2-data")}).get():(e||(e=[]),n=t.map(e,function(t){return i.opts.id(t)}),this.setVal(n),this.updateSelection(e),this.clearSearch(),void 0)}}),t.fn.select2=function(){var e,i,r,o,a=Array.prototype.slice.call(arguments,0),s=["val","destroy","opened","open","close","focus","isFocused","container","onSortStart","onSortEnd","enable","disable","positionDropdown","data"];return this.each(function(){if(0===a.length||"object"==typeof a[0])e=0===a.length?{}:t.extend({},a[0]),e.element=t(this),"select"===e.element.get(0).tagName.toLowerCase()?o=e.element.attr("multiple"):(o=e.multiple||!1,"tags"in e&&(e.multiple=o=!0)),i=o?new S:new A,i.init(e);else{if("string"!=typeof a[0])throw"Invalid arguments to select2 plugin: "+a;if(0>n(a[0],s))throw"Unknown method: "+a[0];if(r=void 0,i=t(this).data("select2"),void 0===i)return;if(r="container"===a[0]?i.container:i[a[0]].apply(i,a.slice(1)),void 0!==r)return!1}}),void 0===r?this:r},t.fn.select2.defaults={width:"copy",closeOnSelect:!0,openOnEnter:!0,containerCss:{},dropdownCss:{},containerCssClass:"",dropdownCssClass:"",formatResult:function(t,e,n){var i=[];return f(t.text,n.term,i),i.join("")},formatSelection:function(t){return t.text},formatResultCssClass:function(){return void 0},formatNoMatches:function(){return"No matches found"},formatInputTooShort:function(t,e){return"Please enter "+(e-t.length)+" more characters"},formatSelectionTooBig:function(t){return"You can only select "+t+" items"},formatLoadMore:function(){return"Loading more results..."},formatSearching:function(){return"Searching..."},minimumResultsForSearch:0,minimumInputLength:0,maximumSelectionSize:0,id:function(t){return t.id},matcher:function(t,e){return e.toUpperCase().indexOf(t.toUpperCase())>=0},separator:",",tokenSeparators:[],tokenizer:w}}};if("function"==typeof define&&define.amd)define('js/lib/select2',["jquery"],function(e){return t(e)});else if("undefined"!=typeof window&&"undefined"==typeof ender)return t(window.jQuery)})();
define('pages/home/course/courseBody2',["underscore","jquery","js/core/coursera","js/collections/courses","js/models/instructor","pages/home/template/body","pages/home/course/courseBody2.html","pages/home/course/courseListing.html","pages/home/course/courseBodyInstructorIcon.html","js/lib/cookie","js/lib/util","js/lib/modals","js/lib/popups","js/lib/third-parties","js/lib/select2"],function(e,t,r,s,n,o,a,i,u,c,l,p,d,f){function h(e,s){var n=/(www\.)?amazon.com/;e.find("a").each(function(){var e=this,o=e.href;if(n.test(e.hostname)){var a=l.getUrlParam(o,"tag");"coursera-20"==a&&(o=o.replace("tag=coursera-20","tag="+s),t(e).attr("href",o)),a||(o+=(e.search?"&":"?")+"tag="+s,t(e).attr("href",o)),t(e).on("click",function(){r.tracker.push({key:"user.click.link.amazon",value:{tag:s,url:o,text:e.innerText}})})}})}var g={geneticsevolution:"duke",nutrition:"ucsf",microecon:"uiuc",clinprobsolv:"ucsf",growtogreatness:"uva"},m=o.extend({events:{"click .coursera-course2-button-join":"enroll"},initialize:function(){var s=this,o=this.model;document.title=o.get("name")+" | Coursera",t("meta[property='og:title']").attr({content:o.get("name")}),t("meta[property='og:url']").attr({content:window.location.href}),t("meta[property='og:image']").attr({content:o.get("large_icon")}),t("meta[property='og:site_name']").attr({content:o.get("name")}),t("meta[property='og:description']").attr({content:o.get("name")+" is a free online class taught by "+o.get("instructor")+" of "+o.get("universities_display")}),t("meta[itemprop=name]").attr({content:o.get("name")}),t("meta[itemprop=description]").attr({content:o.get("name")+" is a free online class taught by "+o.get("instructor")+" of "+o.get("universities_display")}),t("meta[itemprop=image]").attr({content:o.get("large_icon")}),s.bind("view:closing",function(){p(this.$el.find(".modal")).close()}),s.bind("view:appended",function(){if(s.$el.find(".social").show(),f.ready("FB.XFBML.parse",function(){window.FB.XFBML.parse(s.$el.find(".social-facebook").get(0)),window.FB.Event.subscribe("edge.create",function(e,t){r.tracker.push({key:"user.social.share.facebook",value:t})})}),f.ready("gapi.plusone.go",function(){window.gapi.plusone.render(s.$el.find(".g-plusone")[0],{count:!0,size:"tall",callback:function(e){r.tracker.push({key:"user.social.share.googleplus",value:e})}})}),s.updateCourseListings(),s.checkJustEnrolled(),s.$(".coursera-course2-description a").attr("target","_blank"),s.internationalize(),h(s.$el,"coursera-course2"+s.model.get("id")+"-20"),s.loadCss("/static/pages/site-admin/views/select2.css"),s.$(".coursera-course2-session-select").select2({minimumResultsForSearch:100}).on("change",e.bind(s.updateSelected,s)),e.each(this.model.get("instructors"),function(e){var t=new n(e);t.shouldDisplay()&&s.$(".coursera-course2-instructors").append(u({config:r.config,instructor:t,university:t.get("universities")[0]}))}),s.$(".coursera-course2-instructors-profile").each(function(){var e=t(this),r=t(this).find(".coursera-course2-instructors-info"),s=t(this).find(".coursera-course2-instructor-name"),n=t(this).find(".coursera-course2-instructor-university");l.truncateElemText(n),l.truncateElemText(s),r.height()+r.position().top>=e.height()&&l.verticalCenterEl(e,r)}),this.model.get("universities").length>0){var o=this.model.get("universities")[0].primary_color;s.$("a:not(.coursera-course2-session-button,.select2-choice)").css("color",o)}s.positionUniLogo()})},positionUniLogo:function(){var e=100,t=this;if(!(t.model.get("universities").length>1)){t.$(".coursera-course2-banner>div").append(t.$(".coursera-course2-title").detach());var r=t.$(".coursera-course2-uni-logo"),s=r.find("img");r.css("float","left"),r.css("width",e),r.css("height",e),s.css("max-width",e),s.css("max-height",e);var n=t.$(".coursera-course2-title"),o=n.find("h1");n.css("height",e),l.verticalCenterEl(n,o),r.css("margin-right","24px")}},loadCss:function(e){var t=document.createElement("link");t.type="text/css",t.rel="stylesheet",t.href=e,document.getElementsByTagName("head")[0].appendChild(t)},render:function(){var t=this.model.get("short_name"),s="duke";t in g&&(s=g[t]);var n=r.config.url.assets+"images/signature/"+s+"_full_cert_icon.jpg",o=e.pluck(this.model.get("universities"),"name").join(", ");return this.$el.append(a({topic:this.model,user:r.user,_:e,config:r.config,universities:o,certificateImgURL:n,youtube_embed_link:"https://www.youtube.com/embed/"+this.model.get("video")+"?rel=0&autoplay=1&wmode=transparent"})),this},updateCourseListings:function(){function e(e){var n=new s;t.model.get("courses").each(function(t){var r=e&&e.find(function(e){return e.get("id")==t.get("id")});r?(n.add(t),t.set("user_is_enrolled",!0),r.get("record")?t.set("user_in_signature_track",r.get("record").signature_track):t.set("user_in_signature_track",!1)):t.get("status")&&n.add(t)}),t.displayCourses=n,t.renderCourseListings(),t.$(".coursera-signature-signup-button").bind("click",function(){r.multitracker.pushEvent("Sig Course Descrip Signup Button","Click")}),t.$(".coursera-signature-learnmore-icon").bind("click",function(){r.multitracker.pushEvent("Sig Course Descrip Learn Icon","Click")})}var t=this;r.user.get("authenticated")?r.user.getTopics(function(){e(r.user.get("courses"))}):e()},renderCourseListings:function(){var r,s=this,n=s.$(".coursera-course2-session-select");n.find("option").remove(),s.displayCourses.each(function(s){n.append(t("<option></option>").attr("value",s.get("id")).text(s.get("start_display"))),e.isUndefined(r)&&(r=s.get("id"))}),n.select2("val",r),n.trigger({type:"change",val:r})},updateSelected:function(e){var t=this,s=t.$(".coursera-course2-session-button"),n=e.val,o=t.displayCourses.find(function(e){return e.get("id")==n});o.get("user_is_enrolled")?"1"==o.get("active")&&"past"!=o.get("start_status")||o.get("self_study")?s.text("Go to class"):"1"==o.get("active")?s.text("View class archives"):"0"==o.get("active")&&"past"==o.get("start_staus")?s.text("You took this class"):s.text("You are enrolled"):r.user.get("authenticated")?s.text("Sign Up"):s.text("Sign Up")},internationalize:function(){var e=this;if(this.model.isFrench()){var r={"coursera-course2-about":"À propos du cours","coursera-course2-instructor":"à propos de l'instructeur","coursera-course2-syllabus":"Programme du cours","coursera-course2-background":"Prérequis","coursera-course2-readings":"Lectures recommandées","coursera-course2-format":"Format du cours","coursera-course2-faq":"Questions fréquentes","coursera-course2-workload":"Charge de travail: ","coursera-course2-categories":"Catégories: ","coursera-course2-workloadunits":"heures/semaine","coursera-course2-listings-sessions":"Sessions: ","coursera-course2-started":"Commencé: ","coursera-course2-tba":"Sera communiqué ultérieurement ","coursera-course2-duration":"semaines","coursera-course2-listings-none":"Il n'y a pas des prochaines sessions"};t.each(r,function(t,r){var s=e.$('*[data-msg="'+t+'"]');s.text(r)})}},enroll:function(e){var s=this,n=t(e.target).closest(".coursera-course2-listing"),o=s.model.get("courses").get(n.attr("data-course-id"));if(r.user.get("authenticated")){t(e.target).attr("disabled","disabled"),r.tracker.push({key:"user.course.enroll",value:o.get("id")});var a=0;r.user.enroll(o.get("id"),a,function(n){t(e.target).removeAttr("disabled"),n?r.router.trigger("error",500,window.location.href,{message:"failed to enroll user"}):s.checkJustEnrolled()})}else r.user.set("enrolling",{course:s.model,open:o}),r.router.navigate(r.config.dir.home+"account/signup",!0)},checkJustEnrolled:function(){var t=c.get("just_enrolled");t&&(enrolledCourse=this.model.getCourseById(t),p(this.$(".coursera-course2-modal")).open(),this.$(".coursera-course2-modal-open").hide(),this.$(".coursera-course2-modal-starts").hide(),this.$(".coursera-course2-modal-tba").hide(),this.$(".coursera-course2-modal-signature-track-optin").hide(),"1"==enrolledCourse.get("active")||enrolledCourse.get("self_study")?(this.$(".coursera-course2-modal-open").show(),this.$(".coursera-course2-modal-open a").attr("href",enrolledCourse.get("home_link")+"auth/auth_redirector?type=login&subtype=normal")):enrolledCourse.get("start_day")?(this.$(".coursera-course2-modal-starts-date").text(enrolledCourse.get("start_display")),this.$(".coursera-course2-modal-starts").show()):this.$(".coursera-course2-modal-tba").show(),enrolledCourse.isEligibleForTrack()&&(r.multitracker.pushEvent("Sig Course Descrip Modal","Show"),this.$(".coursera-course2-modal-signature-track-optin").show(),this.$(".coursera-course2-modal-signature-track-optin a").attr("href",enrolledCourse.get("optin_link")).bind("click",function(){r.multitracker.pushEvent("Sig Course Descrip Modal Button","Click")})),p(this.$(".coursera-course2-modal")).reposition(),r.user.getTopics(e.bind(this.updateCourseListings,this),!0),c.clear("just_enrolled"))}});return m});
(function(wndw){var jadify=function(jade){return function anonymous(locals,attrs,escape,rethrow,merge){attrs=attrs||jade.attrs,escape=escape||jade.escape,rethrow=rethrow||jade.rethrow,merge=merge||jade.merge;var buf=[];with(locals||{})buf.push('<div class="container"><div class="coursera-full-canvas"><div class="row-fluid"><div class="span12"><div class="coursera-catalog-toolbar"><label for="coursera-catalog-search-id" style="display:none;">Search by course name, category, university, or instructor</label><input id="search" type="search" placeholder="Search by course name, category, university, or instructor" name="search" class="coursera-catalog-search input-large search-query"/><select class="coursera-catalog-sort"><option value="upcoming">Starting soon</option><option value="new">Newest courses</option></select><span class="coursera-catalog-sort-title">Sort by </span></div></div></div><div class="row-fluid"><div class="span3 coursera-catalog-sidebar"></div><div class="span9"><div class="coursera-catalog-listings"></div><div style="display:none;" class="coursera-catalog-loading-box"><span>Loading courses...</span></div><div style="display:none;" class="coursera-catalog-noresults-box"><span>No results.</span></div><div style="display:none;" class="coursera-catalog-error-box"><span>Error loading courses.</span></div></div></div></div></div>');return buf.join("")}};"function"==typeof define&&define.amd?define('pages/home/catalog/catalogBody.html',["js/lib/jade"],function(e){return jadify(e)}):wndw.jade.templates.catalogBody=jadify(wndw.jade.helpers)})(window);
(function(wndw){var jadify=function(jade){return function anonymous(locals,attrs,escape,rethrow,merge){attrs=attrs||jade.attrs,escape=escape||jade.escape,rethrow=rethrow||jade.rethrow,merge=merge||jade.merge;var buf=[];with(locals||{}){var interp;buf.push('<div class="coursera-catalog-course-listing-box">   <div class="row-fluid"><div class="span2"><img'),buf.push(attrs({src:topic.get("small_icon_hover"),"class":"coursera-catalog-listing-thumbnail"},{src:!0})),buf.push('/></div><div class="span8">        <div class="coursera-catalog-listing-text"><div class="coursera-catalog-listing-primary"><h4 class="coursera-catalog-listing-university">');for(var i=0;universities.length>i;i++){var university=universities[i];buf.push("<a"),buf.push(attrs({href:config.dir.home+university.get("short_name"),"class":"coursera-catalog-listing-secondary-link internal-home"},{href:!0})),buf.push(">"+escape(null==(interp=university.get("name"))?"":interp)+'<span class="coursera-catalog-listing-secondary-link-target"></span></a>'),universities.length-2>i?buf.push("<span>, </span>"):buf.push("<span> </span>"),universities.length>1&&i==universities.length-2&&buf.push("<span>&amp; </span>")}buf.push('</h4><h3 class="coursera-catalog-listing-coursename"> <a'),buf.push(attrs({href:config.dir.home+"course/"+topic.get("short_name"),"class":"coursera-catalog-listing-courselink internal-home"},{href:!0})),buf.push(">"+escape(null==(interp=topic.get("name"))?"":interp)),buf.push('<span class="coursera-catalog-listing-course-link-box"> </span></a></h3><h4 class="coursera-catalog-listing-instructor">  \nwith ');for(var i=0;instructors.length>i;i++){var instructor=instructors[i];buf.push("<a"),buf.push(attrs({href:instructor.getLink(),"class":"internal-home coursera-catalog-listing-secondary-link"},{href:!0})),buf.push(">"+escape(null==(interp=instructor.get("full_name"))?"":interp)+'<span class="coursera-catalog-listing-secondary-link-target"></span></a>'),instructors.length-2>i?buf.push("<span>, </span>"):buf.push("<span> </span>"),instructors.length>1&&i==instructors.length-2&&buf.push("<span>&amp; </span>")}if(buf.push('</h4></div></div></div><div class="span2"><div class="coursera-catalog-listing-secondary">'),topic.get("open_course")?(buf.push('<h4 class="coursera-catalog-listing-secondary-item">'+escape(null==(interp=topic.get("open_course").get("start_display"))?"":interp)+"</h4>"),topic.get("open_course").get("duration_string")&&buf.push('<h4 class="coursera-catalog-listing-secondary-item">'+escape(null==(interp=topic.get("open_course").get("duration_string"))?"":interp)+" long</h4>")):buf.push('<h4 class="coursera-catalog-listing-secondary-item coursera-catalog-listing-secondary-inactive">There are no open sessions. </h4>'),topic.hasEligibleForSignatureTrack()){var modalClass="coursera-catalog-sigtrack-modal-"+topic.get("id"),university_short_name=universities[0].get("short_name");topic.hasOpenEnrollForSignatureTrack()?(buf.push("<h4"),buf.push(attrs({"data-modal":"."+modalClass,"class":"coursera-catalog-listing-secondary-item coursera-catalog-list-secondary-sigtrack coursera-catalog-listing-secondary-sigtrack-open"},{"data-modal":!0})),buf.push(">Signature Track</h4><div"),buf.push(attrs({"data-modal-position":"fixed","data-modal-position-top":"100px","data-modal-overlay-class":"coursera-overlay","data-modal-overlay-close":"true","class":"modal hide coursera-catalog-sigtrack-modal "+modalClass},{"class":!0,"data-modal-position":!0,"data-modal-position-top":!0,"data-modal-overlay-class":!0,"data-modal-overlay-close":!0})),buf.push('><div class="modal-header"><img'),buf.push(attrs({src:config.url.assets+"pages/signature/views/ribbon_stripes.png","class":"coursera-signature-modal-ribbon"},{src:!0})),buf.push('/><h2>Verified Certificates with Signature Track</h2></div><div style="margin-top:20px; margin-left: 0px; padding: 30px;" class="row"><div class="span4"><img'),buf.push(attrs({style:"float:left;",src:"https://s3.amazonaws.com/coursera/universities/"+university_short_name+"/signature-cert-icon.png"},{style:!0,src:!0})),buf.push('/></div><div class="span8"><p>Signature Track is a new option that offers you the chance to earn a Verified Certificate for completing an eligible course like this one. Signature Track securely links your coursework to your real identity, allowing you to confidently show the world what you have achieved on Coursera.</p></div></div><div style="text-align: center; margin-top: -10px; margin-bottom: 20px;"><a'),buf.push(attrs({href:config.dir.home+"signature/course/"+topic.get("short_name")+"/"+topic.get("open_course").get("id"),target:"_blank"},{href:!0,target:!0})),buf.push(">Learn more ❯❯</a></div></div>")):(buf.push("<h4"),buf.push(attrs({"data-modal":"."+modalClass,"class":"coursera-catalog-listing-secondary-item coursera-catalog-list-secondary-sigtrack coursera-catalog-listing-secondary-sigtrack-not-open"},{"data-modal":!0})),buf.push(">Signature Track</h4><div"),buf.push(attrs({style:"width: 650px","data-modal-position":"fixed","data-modal-position-top":"100px","data-modal-overlay-class":"coursera-overlay","data-modal-overlay-close":"true","class":"modal hide coursera-catalog-sigtrack-modal-disabled "+modalClass},{"class":!0,style:!0,"data-modal-position":!0,"data-modal-position-top":!0,"data-modal-overlay-class":!0,"data-modal-overlay-close":!0})),buf.push('><div class="modal-header"><img'),buf.push(attrs({src:config.url.assets+"pages/signature/views/ribbon_stripes.png","class":"coursera-signature-modal-ribbon"},{src:!0})),buf.push('/><h2>The deadline to join Signature Track has passed</h2></div><div style="margin-top:20px; margin-left: 0px; padding: 30px;" class="row"><div class="span4"><img'),buf.push(attrs({src:"https://s3.amazonaws.com/coursera/universities/"+university_short_name+"/signature-cert-icon.png"},{src:!0})),buf.push('/></div><div class="span8"><p>Signature Track is a new option that offers you the chance to earn a Verified Certificate for completing an eligible course like this one. Signature Track securely links your coursework to your real identity, allowing you to confidently show the world what you have achieved on Coursera.</p></div></div><div style="text-align: center; margin-top: -10px; margin-bottom: 20px;"><p>Learn more about participating with the <a'),buf.push(attrs({href:config.dir.home+"signature/guidebook"},{href:!0})),buf.push(">Signature Track Guidebook ❯❯</a></p></div></div>"))}buf.push("</div></div></div></div>")}return buf.join("")}};"function"==typeof define&&define.amd?define('pages/home/catalog/catalogListing.html',["js/lib/jade"],function(a){return jadify(a)}):wndw.jade.templates.catalogListing=jadify(wndw.jade.helpers)})(window);
define('js/models/tagset',["underscore","backbone"],function(e,t){var n=t.Model.extend({setInitialData:function(t){var n=this.parse(t),i={};e.each(n,function(t,n){i[n]=e.extend(e.clone(t),{count:0})}),this.set("initialData",i,{silent:!0}),this.set("tags",n)},setCurrentData:function(t){var n=this.parse(t);this.set("tags",e.extend(e.clone(this.get("initialData")),n))},parse:function(e){return e}});return n});
define('js/models/topicsearch',["jquery","backbone","underscore","js/collections/topics","js/models/tagset","js/core/coursera"],function(t,e,n,s,r){function i(t,e,r){if(r.stopRunning)return r.reject(),void 0;var i=t;if(e.search&&(i=s.matchingSearch(i,e.search)),e.cats){var a=e.cats;i=n.filter(s.toArray(i),function(t){return n.find(t.get("categories"),function(t){return n.contains(a,t.short_name)})})}if(e.lngs){var o=e.lngs;i=n.filter(s.toArray(i),function(t){return n.contains(o,t.get("language_group"))})}if(e.unis){var c=n.map(e.unis,function(t){return parseInt(t,10)});i=n.filter(s.toArray(i),function(t){return n.find(t.get("universities"),function(t){return n.contains(c,t.id)})})}n.contains(e.certs,"st")&&(i=n.filter(s.toArray(i),function(t){return t.hasEligibleForSignatureTrack()})),n.contains(e.stats,"upcoming")&&(i=n.filter(s.toArray(i),function(t){return t.isUpcoming()})),i="upcoming"==e.orderby?s.byUpcoming(i):s.byAdded(i),r.resolve(i)}function a(t,e,r){if(r.stopRunning)return r.reject(),void 0;var i={unis:{},cats:{},lngs:{},certs:{},stats:{}};n.each(s.matchingSearch(t,e),function(t){n.each(t.get("universities"),function(t){i.unis[t.id]=i.unis[t.id]||{id:t.id,name:t.name,count:0},i.unis[t.id].count+=1}),n.each(t.get("categories"),function(t){i.cats[t.short_name]=i.cats[t.short_name]||{id:t.short_name,name:t.name,count:0},i.cats[t.short_name].count+=1}),i.lngs[t.get("language_group")]=i.lngs[t.get("language_group")]||{id:t.get("language_group"),name:t.get("language_name"),count:0},i.lngs[t.get("language_group")].count+=1,t.hasEligibleForSignatureTrack()&&(i.certs.st=i.certs.st||{id:"st",name:"Signature Track",count:0},i.certs.st.count+=1),t.isUpcoming()&&(i.stats.upcoming=i.stats.upcoming||{id:"upcoming",name:"Starting soon",count:0},i.stats.upcoming.count+=1)}),r.resolve(i)}var o=e.Model.extend({_getAllCounts:function(){var e=this;if(this.get("_allCounts"))return this.get("_allCounts");var r=t.Deferred();return this.set("_allCounts",r),s.singletonReadAll().done(function(t){n.defer(n.bind(a,null,t,"",r))}).fail(function(){e.trigger("topicLoadError"),r.reject()}),r},initialize:function(){var t=this;this.set("collection",new s),this.get("collection").comparator=void 0,this.get("haveTagSets")&&(this.set("tagSets",{unis:new r,cats:new r,lngs:new r,certs:new r,stats:new r}),this._getAllCounts().done(function(e){n.each(e,function(e,n){t.get("tagSets")[n].setInitialData(e)})})),this.reset(),this.set("orderby","upcoming"),this.set("page-size",20),this.on("change:search",this.reset,this),this.on("change:search",this.recalculateCounts,this),this.on("change:orderby",this.reset,this),this.on("change:unis",this.reset,this),this.on("change:cats",this.reset,this),this.on("change:lngs",this.reset,this),this.on("change:certs",this.reset,this),this.on("change:stats",this.reset,this)},_getFilteredTopics:function(){if(this.get("_filteredTopics"))return this.get("_filteredTopics");var e=t.Deferred();this.set("_filteredTopics",e);var r=this;return s.singletonReadAll().done(function(t){var s={search:r.get("search"),orderby:r.get("orderby"),cats:r.get("cats"),unis:r.get("unis"),lngs:r.get("lngs"),certs:r.get("certs"),stats:r.get("stats")};n.defer(n.bind(i,null,t,s,e))}).fail(function(){r.trigger("topicLoadError"),e.reject()}),e},_getFilteredCounts:function(){var e=this;if(this.get("_filteredCounts"))return this.get("_filteredCounts");var r=t.Deferred();return this.set("_filteredCounts",r),e.get("search")?s.singletonReadAll().done(function(t){n.defer(n.bind(a,null,t,e.get("search"),r))}).fail(function(){e.trigger("topicLoadError"),r.reject()}):e._getAllCounts().done(function(t){r.resolve(t)}).fail(function(){e.trigger("topicLoadError"),r.reject()}),r},fetchPage:function(){var t=this;t.trigger("startLoad"),this._getFilteredTopics().done(function(e){var n=t.get("page-size")*t.get("_fetchedPages"),s=Math.min(n+t.get("page-size"),e.length);t.get("collection").add(e.slice(n,s)),t.set("_fetchedPages",t.get("_fetchedPages")+1),s==e.length&&t.set("fetchedAllPages",!0),t.trigger("finishLoad")})},recalculateCounts:function(){var t=this;this.get("haveTagSets")&&(this.get("_filteredCounts")&&(this.get("_filteredCounts").stopRunning=!0,this.unset("_filteredCounts")),this._getFilteredCounts().done(function(e){n.each(e,function(e,n){t.get("tagSets")[n].setCurrentData(e)})}))},reset:function(){this.set("_fetchedPages",0),this.set("fetchedAllPages",!1),this.get("_filteredTopics")&&(this.get("_filteredTopics").stopRunning=!0,this.unset("_filteredTopics")),this.get("collection").reset(),this.trigger("reset")}});return o});
(function(wndw){var jadify=function(jade){return function anonymous(locals,attrs,escape,rethrow,merge){attrs=attrs||jade.attrs,escape=escape||jade.escape,rethrow=rethrow||jade.rethrow,merge=merge||jade.merge;var buf=[];with(locals||{}){var interp;buf.push('<li class="coursera-catalog-tag coursera-catalog-tag-click"><div class="coursera-catalog-tag-checkbox-column"><input type="checkbox" class="coursera-catalog-tag-checkbox"/></div><div class="coursera-catalog-tag-text">'+escape(null==(interp=tagText)?"":interp)+"</div></li>")}return buf.join("")}};"function"==typeof define&&define.amd?define('pages/home/catalog/catalogTagListing.html',["js/lib/jade"],function(e){return jadify(e)}):wndw.jade.templates.catalogTagListing=jadify(wndw.jade.helpers)})(window);
define('pages/home/catalog/catalogTagListing',["jquery","underscore","js/core/coursera","backbone","js/lib/util","pages/home/catalog/catalogTagListing.html"],function(e,t,n,r,i,a){var o=r.View.extend({options:{name:"none",label:"none",shouldShow:void 0,orderBy:"count",numToShow:-1,showEmpty:!1},events:{"click .coursera-catalog-tag-click":"clickTag","click .coursera-catalog-tag-showmore":"showMore"},initialize:function(){this.selections={}},clickTag:function(r){var i=e(r.currentTarget).data("id"),a=e(r.currentTarget).find("input"),o=t.find(this.data,function(e){return e.id==i}),s=o?o.name:"";t.has(this.selections,i)?(a.prop("checked",!1),delete this.selections[i],n.tracker.push({key:"user.coursera.catalog.tags.deselect",val:this.options.name+"."+s})):(a.prop("checked",!0),this.selections[i]=!0,n.tracker.push({key:"user.coursera.catalog.tags.select",val:this.options.name+"."+s})),this.trigger("selection",{target:this})},clearSelections:function(){this.selections={},this.$("input").each(function(){var t=e(this);t.prop("checked",!1)})},setSelection:function(t){this.selections[t]=!0,this.$(".coursera-catalog-tag").each(function(){var n=e(this);n.data("id")==t&&n.find("input").prop("checked",!0)})},render:function(){return this.$el.empty(),this.$el.append(e("<h1>").text(this.options.label)),this.$el.append(e("<ul>").addClass("coursera-catalog-tag-list")),this.showHide(),this.model.on("change",this.updateRender,this),this.model.get("tags")?this.updateRender():this.showLoading(),this},showLoading:function(){var t=this.$(".coursera-catalog-tag-list");t.empty(),t.append(e("<li>").text("Loading...").addClass("coursera-catalog-tag"))},showHide:function(){this.options.shouldShow&&(this.options.shouldShow.call(this)?this.$el.show():this.$el.hide())},updateRender:function(){this.data=t.values(this.model.get("tags")),"name"==this.options.orderBy?this.data.sort(function(e,t){return t.name>e.name?-1:1}):"count"==this.options.orderBy&&this.data.sort(function(e,t){return e.count!=t.count?t.count-e.count:t.name>e.name?-1:1}),this.showHide();var n=this.$(".coursera-catalog-tag-list");n.empty(),this.firstUnshownTagIdx=0,this.addTags(this.options.numToShow),this.data.length>this.firstUnshownTagIdx&&n.append(e("<li>").text("show more").addClass("coursera-catalog-tag-showmore")),0===n.find("li").length&&n.append(e("<li>").text("No results.").addClass("coursera-catalog-tag"))},getNumNonzeroTags:function(){var e=0;return t.each(this.data,function(t){e+=0===t.count?0:1}),e},addTags:function(e){for(;0!==e&&this.firstUnshownTagIdx<this.data.length;){var t=this.data[this.firstUnshownTagIdx];this.firstUnshownTagIdx+=1,(this.options.showEmpty||t.count>0)&&(this.addTag(t),e-=1)}for(;this.firstUnshownTagIdx<this.data.length&&!(this.options.showEmpty||this.data[this.firstUnshownTagIdx].count>0);)this.firstUnshownTagIdx+=1},addTag:function(n){var r=this.$(".coursera-catalog-tag-list"),i=n.name;i=i.replace("Computer Science","CS");var o=e(a({tagText:i}));o.data("id",n.id),r.append(o),t.has(this.selections,n.id)&&o.find("input").prop("checked",!0)},showMore:function(){this.$(".coursera-catalog-tag-showmore").remove(),this.addTags(-1),n.tracker.push({key:"user.coursera.catalog.tags.showMore",val:this.options.name})}});return o});
define('pages/home/catalog/catalogBody',["jquery","underscore","js/core/coursera","pages/home/template/body","pages/home/catalog/catalogBody.html","pages/home/catalog/catalogListing.html","js/models/topicsearch","js/lib/util","pages/home/catalog/catalogTagListing","js/models/instructor","js/models/university","js/lib/modals"],function(e,t,n,r,i,a,o,s,l,u,c){var d=r.extend({events:{"change .coursera-catalog-sort":"updateSort","click .coursera-catalog-listing-courselink":"trackLink"},initialize:function(){var e=this;this.model=new o({haveTagSets:!0}),this.model.on("startLoad",this.startLoad,this),this.model.on("finishLoad",this.finishLoad,this),this.model.on("topicLoadError",this.loadError,this);var t=this.model.get("collection");t.on("add",this.addTopic,this),t.on("reset",this.clearTopics,this),t.on("reset",this.checkLazyLoad,this),e._tagListingViews={},e._tagListingViews.unis=new l({name:"unis",label:"University",shouldShow:function(){return this.getNumNonzeroTags()>0&&e.$(".coursera-catalog-search").val().length>1},numToShow:6,showEmpty:!1,orderBy:"count",model:this.model.get("tagSets").unis}),e._tagListingViews.stats=new l({name:"stats",label:"Starting soon",showEmpty:!0,orderBy:"count",model:this.model.get("tagSets").stats}),e._tagListingViews.certs=new l({name:"certs",label:"Eligible for",numToShow:-1,showEmpty:!0,orderBy:"name",model:this.model.get("tagSets").certs}),e._tagListingViews.lngs=new l({name:"lngs",label:"Language",numToShow:-1,showEmpty:!0,orderBy:"count",model:this.model.get("tagSets").lngs}),e._tagListingViews.cats=new l({name:"cats",label:"Category",numToShow:-1,showEmpty:!0,orderBy:"name",model:this.model.get("tagSets").cats}),this.on("view:appended",this.renderAppended,this),this.on("view:merged",function(t){e.readQuery(t.query)})},renderAppended:function(){var r=this;document.title="Courses | Coursera",this.$el.append(i({config:n.config})),t.each(this._tagListingViews,function(e){e.render(),r.$(".coursera-catalog-sidebar").append(e.el),e.on("selection",r.selection,r),e.on("selection",r.updateUrl,r)}),e(window).on("scroll",t.bind(this.checkLazyLoad,this)),this.$(".coursera-catalog-search").on("keyup input",t.debounce(t.bind(this.updateSearch,this),200)),r.readQuery(r.options.query),n.tracker.push({key:"user.coursera.catalog.open",val:""}),this.checkLazyLoad()},readQuery:function(e){var n=this;e=e||{},t.has(e,"category")&&!t.has(e,"cats")&&(e.cats=e.category),t.each(this._tagListingViews,function(r){if(r.clearSelections(),n.model.unset(r.options.name),e[r.options.name]){var i=e[r.options.name].split(",");t.each(i,function(e){r.setSelection(e)}),n.model.set(r.options.name,i)}}),e.search?(n.$(".coursera-catalog-search").val(e.search),n.model.set("search",e.search)):(n.$(".coursera-catalog-search").val(""),n.model.unset("search")),e.orderby&&(n.$(".coursera-catalog-sort").val(e.orderby),n.model.set("orderby",e.orderby))},getQuery:function(){var e="";return e+="orderby="+this.model.get("orderby"),this.model.get("search")&&(e+="&search="+this.model.get("search")),t.each(this._tagListingViews,function(n){var r=n.options.name,i=t.keys(n.selections).join(",");i&&(e+="&"+r+"="+i)}),e},updateUrl:function(){var e="courses?"+this.getQuery();n.router.navigate(e,{trigger:!1,replace:!0})},updateSearch:function(){var e=this.$(".coursera-catalog-search").val();e?this.model.set("search",e):this.model.unset("search"),this.model.unset("unis"),this._tagListingViews.unis.clearSelections(),n.tracker.push({key:"user.coursera.catalog.search",val:e}),this.updateUrl()},updateSort:function(){var e=this.$(".coursera-catalog-sort").val();this.model.set("orderby",e),n.tracker.push({key:"user.coursera.catalog.sort",val:e}),this.updateUrl()},checkLazyLoad:function(){var t=this.model.get("collection").length,r=0;this.$(".coursera-catalog-course-listing-box").each(function(t,n){s.inView(e(n),0)&&(r=Math.max(r,t+1))}),5>t-r&&!this.model.get("fetchedAllPages")&&(this.model.fetchPage(),n.tracker.push({key:"user.coursera.catalog.loadpage."+t,val:this.getQuery()}))},addTopic:function(e){var r=t.map(e.get("instructors"),function(e){return new u(e)});r=t.filter(r,function(e){return e.shouldDisplay()});var i=t.map(e.get("universities"),function(e){return new c(e)});this.$(".coursera-catalog-listings").append(a({instructors:r,universities:i,topic:e,config:n.config,_:t}))},clearTopics:function(){this.$(".coursera-catalog-listings").empty()},selection:function(e){var n=e.target.options.name,r=t.keys(e.target.selections);r.length>0?this.model.set(n,r):this.model.unset(n)},startLoad:function(){this.$(".coursera-catalog-loading-box").show(),this.$(".coursera-catalog-noresults-box").hide(),this.$(".coursera-catalog-error-box").hide()},finishLoad:function(){this.$(".coursera-catalog-loading-box").hide(),0===this.model.get("collection").length&&this.model.get("fetchedAllPages")&&(this.$(".coursera-catalog-noresults-box").show(),n.tracker.push({key:"user.coursera.catalog.noresults",val:this.getQuery()})),this.checkLazyLoad(),this.trigger("finishLoad")},loadError:function(){this.$(".coursera-catalog-loading-box").hide(),this.$(".coursera-catalog-error-box").show()},trackLink:function(t){var r=e(t.currentTarget).attr("href");n.tracker.push({key:"user.coursera.catalog.click.link",val:r})}});return d});
(function(wndw){var jadify=function(jade){return function anonymous(locals,attrs,escape,rethrow,merge){attrs=attrs||jade.attrs,escape=escape||jade.escape,rethrow=rethrow||jade.rethrow,merge=merge||jade.merge;var buf=[];with(locals||{}){var interp;buf.push('<div class="container"><div class="coursera-full-canvas"><div class="row-fluid"><div class="span12"><div class="coursera-instructor-primary-info"><div class="row-fluid"><div class="span3"><div class="coursera-instructor-profile"><div'),buf.push(attrs({style:"background-image:url("+(instructor.get("photo_150")||config.url.assets+"images/icons/avatar.jpg")+");","class":"coursera-instructor-profile-image"},{style:!0})),buf.push('></div><div class="coursera-instructor-profile-inner-shadow"></div></div></div><div class="span6"><div class="coursera-instructor-basic-info"><h1 class="coursera-instructor-name">'+escape(null==(interp=instructor.getDecoratedName())?"":interp)+'</h1><h2 class="coursera-instructor-position-details">'+escape(null==(interp=instructor.get("title"))?"":interp)+'</h2><h2 class="coursera-instructor-position-details">'+escape(null==(interp=instructor.get("department"))?"":interp)+'</h2><span class="coursera-instructor-university-section"></span></div></div><div class="span3">'),user.canEditInstructorProfile(instructor)&&(buf.push('<div class="coursera-edit-page"><span class="coursera-edit-page-button">Admins only:</span><a'),buf.push(attrs({target:"_blank",href:config.dir.home+"admin/data/instructorprofiles/"+instructor.get("id")},{target:!0,href:!0})),buf.push('><span class="icon-cog"> Edit Page</span></a></div>')),buf.push('<div class="coursera-instructor-external-links"><ul class="unstyled">'),instructor.get("website")&&(buf.push('<li><span class="icon-globe"></span><a'),buf.push(attrs({href:instructor.get("website"),target:"_blank"},{href:!0,target:!0})),buf.push(">  "+escape(null==(interp=instructor.getPrettyWebsiteUrl())?"":interp)+" </a></li>")),instructor.get("website_twitter")&&(buf.push('<li><span class="icon-twitter"></span><a'),buf.push(attrs({href:"http://twitter.com/"+instructor.get("website_twitter"),target:"_blank"},{href:!0,target:!0})),buf.push(">  "+escape(null==(interp=instructor.get("website_twitter"))?"":interp)+"</a></li>")),instructor.get("website_facebook")&&(buf.push('<li><span class="icon-facebook"></span><a'),buf.push(attrs({href:"http://facebook.com/"+instructor.get("website_facebook"),target:"_blank"},{href:!0,target:!0})),buf.push(">  "+escape(null==(interp=instructor.get("website_facebook"))?"":interp)+"</a></li>")),instructor.get("website_linkedin")&&(buf.push('<li><span class="icon-linkedin"></span><a'),buf.push(attrs({href:"http://linkedin.com/in/"+instructor.get("website_linkedin"),target:"_blank"},{href:!0,target:!0})),buf.push(">  w"+escape(null==(interp=instructor.get("website_linkedin"))?"":interp)+"</a></li>")),buf.push('</ul></div></div></div></div></div></div><hr class="coursera-full-page-divider"/><div class="row-fluid"><div class="span12"><div class="coursera-instructor-secondary-info"><div class="row-fluid"><div class="span9"><div class="coursera-instructor-bio">'+(null==(interp=instructor.get("bio"))?"":interp)+'</div></div><div class="span3 coursera-instructor-courses coursera-instructor-topic-section"></div></div></div></div></div></div></div>')}return buf.join("")}};"function"==typeof define&&define.amd?define('pages/home/instructor/instructorProfileViewer.html',["js/lib/jade"],function(e){return jadify(e)}):wndw.jade.templates.instructorProfileViewer=jadify(wndw.jade.helpers)})(window);
(function(wndw){var jadify=function(jade){return function anonymous(locals,attrs,escape,rethrow,merge){attrs=attrs||jade.attrs,escape=escape||jade.escape,rethrow=rethrow||jade.rethrow,merge=merge||jade.merge;var buf=[];with(locals||{}){var interp;buf.push("<a"),buf.push(attrs({href:university.home_link||config.dir.home+university.short_name,"class":university.home_link?"":"internal-home"},{href:!0,"class":!0})),buf.push('><h2 class="coursera-instructor-position-details">'+escape(null==(interp=university.name)?"":interp)+"</h2></a>")}return buf.join("")}};"function"==typeof define&&define.amd?define('pages/home/instructor/instructorProfileUniversity.html',["js/lib/jade"],function(e){return jadify(e)}):wndw.jade.templates.instructorProfileUniversity=jadify(wndw.jade.helpers)})(window);
(function(wndw){var jadify=function(jade){return function anonymous(locals,attrs,escape,rethrow,merge){attrs=attrs||jade.attrs,escape=escape||jade.escape,rethrow=rethrow||jade.rethrow,merge=merge||jade.merge;var buf=[];with(locals||{}){var interp;buf.push("<a"),buf.push(attrs({href:topic.get("social_link"),"class":"internal-home"},{href:!0,"class":!0})),buf.push("><img"),buf.push(attrs({src:topic.get("small_icon"),alt:"Icon for "+topic.get("name")},{src:!0,alt:!0})),buf.push('/><span class="coursera-instructor-course-name">'+escape(null==(interp=topic.get("name"))?"":interp)+"</span></a>"),topic.get("open_course")?buf.push('<span class="coursera-instructor-course-date">'+escape(null==(interp=topic.get("open_course").get("start_display"))?"":interp)+"</span>"):buf.push('<span class="coursera-instructor-course-date">Date to be announced.</span>')}return buf.join("")}};"function"==typeof define&&define.amd?define('pages/home/instructor/instructorProfileTopic.html',["js/lib/jade"],function(e){return jadify(e)}):wndw.jade.templates.instructorProfileTopic=jadify(wndw.jade.helpers)})(window);
define('pages/home/instructor/instructorProfileViewer',["pages/home/template/body","js/core/coursera","underscore","pages/home/instructor/instructorProfileViewer.html","js/models/instructor","pages/home/instructor/instructorProfileUniversity.html","pages/home/instructor/instructorProfileTopic.html","js/lib/util"],function(e,t,n,r,i,o,a){var s=e.extend({initialize:function(){this.instructor=new i({profile_id:this.options.profile_id,short_name:this.options.short_name})},events:{},render:function(){var e=this;return e.instructor.sync(function(i){if(i)return t.router.trigger("error",i,location.href),void 0;if(document.title=e.instructor.get("full_name")+" | Coursera",e.$el.append(r({instructor:e.instructor,config:t.config,user:t.user,_:n})),e.$(".coursera-instructor-bio"),n.each(e.instructor.get("universities"),function(n){e.$(".coursera-instructor-university-section").append(o({university:n,config:t.config}))}),e.instructor.get("topics").each(function(n){n.get("display")&&e.$(".coursera-instructor-topic-section").append(a({topic:n,config:t.config}))}),e.instructor.get("universities").length>0){var s=e.instructor.get("universities")[0].primary_color;e.$("a").css("color",s)}}),e}});return s});
define('js/routes/home',["jquery","underscore","backbone","js/app/home","js/core/config","js/models/user","js/collections/topics","js/models/university","js/models/topic","js/collections/courses","js/lib/util","js/lib/third-parties","js/lib/backbone.queryparams","pages/home/template/page","pages/home/template/footer","pages/home/template/header","pages/home/front/frontBody","pages/home/front/frontCourse","pages/error/errorBody","pages/home/account/settings","pages/home/account/signInBody","pages/home/account/signUpBody","pages/home/course/courseBody","pages/home/course/courseBody2","pages/home/catalog/catalogBody","pages/home/instructor/instructorProfileViewer"],function(t,e,n,r,i,o,a,s,l,c,u){function d(t){r.api.get("university/information",{data:{"university-id":t}}).fail(function(t){404==t.status?r.router.trigger("error",404,location.href,{message:"this page does not exist"}):500==t.status?r.router.trigger("error",500,location.href,{message:"backend server has seen an error"}):403!=t.status||r.user.get("authenticated")?403==t.status&&r.router.trigger("error",403,location.href,{message:"you do not have permission to view this page"}):r.router.navigate("/account/signin?r="+location.href,{trigger:!0,replace:!0})}).done(function(e){var n=new s(e),i=n.get("topics"),o=n.get("home_link");o?window.location.href=o:r.region.open({"pages/home/template/page":{regions:{body:{"pages/home/university/universityPage":{initialize:{university:n,topics:i},id:"university-"+t}}}}})})}var h={},f=i.dir.home.replace(/^\//,"");h["*id"]=function(t,e){/^[a-z0-9.\-]+$/.test(t)?d(t,e):r.router.trigger("error",404)},h[f]=function(){r.user.get("authenticated")?r.user.getTopics(function(t){t&&t.length>0?r.region.open({"pages/home/template/page":{regions:{body:{"pages/home/account/courseList":{id:"account"}}}}}):r.region.open({"pages/home/template/page":{regions:{body:{"pages/home/front/frontBody":{id:"listings"}},banner:{"pages/home/account/welcomeBanner":{id:"welcome"}}}}})},!0):r.region.open({"pages/home/template/page":{regions:{body:{"pages/home/front/frontBody":{id:"listings"}}}}})},h[f+"welcome"]=function(){r.region.open({"pages/home/template/page":{regions:{body:{"pages/home/front/frontBody":{id:"listings"}}}}})},h[f+"2013learn"]=function(){r.user.get("authenticated")?r.user.getTopics(function(){r.region.open({"pages/home/template/page":{regions:{body:{"pages/home/front/learn2013Body":{id:"learn2013Body"}}}}})}):r.region.open({"pages/home/template/page":{regions:{body:{"pages/home/front/learn2013Body":{id:"learn2013Body"}}}}})},h[f+"2013learn/list"]=function(){r.region.open({"pages/home/template/page":{regions:{body:{"pages/home/front/learn2013ListBody":{id:"learn2013ListBody"}}}}})},h[f+"account/profile"]=function(){r.user.get("authenticated")?r.user.getTopics(function(){r.user.resync(function(){r.region.open({"pages/home/template/page":{regions:{body:{"pages/home/account/profileEditor":{id:"account"}}}}})})}):this.navigate(i.dir.home,!0)},h[f+"account/settings"]=function(){r.user.get("authenticated")?r.region.open({"pages/home/template/page":{regions:{body:{"pages/home/account/settings":{id:"account"}}}}}):this.navigate(i.dir.home,!0)},h[f+"account/records"]=function(t){r.user.get("authenticated")?r.user.getTopics(function(){r.user.resync(function(){r.region.open({"pages/home/template/page":{regions:{body:{"pages/home/account/courseRecords":{id:"account-records",initialize:{show_all:t&&t.show_all?!0:!1}}}}}})})},!0):this.navigate(i.dir.home,!0)},h[f+"account/placement"]=function(){location.href="/account/careerservices"},h[f+"account/placement/faq"]=function(){location.href="/account/careerservices/faq"},h[f+"account/careerservices"]=function(){r.user.get("authenticated")?r.user.getTopics(function(){r.user.resync(function(){r.region.open({"pages/home/template/page":{regions:{body:{"pages/home/account/placement":{id:"account-placement"}}}}})})}):this.navigate(i.dir.home+"account/signin?r=/account/careerservices",!0)},h[f+"account/careerservices/faq"]=function(){r.region.open({"pages/home/template/page":{regions:{body:{"pages/home/account/placementFAQ":{id:"account-placement-faq"}}}}})},h[f+"account/logout"]=function(){r.api.get("user/logout").done(function(){r.user.logout(),r.region.open({"pages/home/template/page":{regions:{header:{"pages/home/template/header":{id:"header-logout"}},body:{"pages/home/front/frontBody":{id:"listings"}},banner:{"pages/home/account/logoutBanner":{id:"logout"}}}}})})},h[f+"about"]=function(){r.region.open({"pages/home/template/page":{regions:{body:{"pages/home/about/aboutBody":{id:"about"}}}}})},h[f+"about/faq"]=function(){r.region.open({"pages/home/template/page":{regions:{body:{"pages/home/about/faqBody":{id:"faq"}}}}})},h[f+"about/terms/:section"]=function(t){r.region.open({"pages/home/template/page":{regions:{body:{"pages/home/about/tosBody":{initialize:{section:t}}}}}})},h[f+"about/terms"]=function(){r.region.open({"pages/home/template/page":{regions:{body:"pages/home/about/tosBody"}}})},h[f+"about/jobs"]=function(){r.region.open({"pages/home/template/page":{regions:{body:{"pages/home/about/jobsBody":{id:"jobs"}}}}})},h[f+"about/team"]=function(){r.region.open({"pages/home/template/page":{regions:{body:{"pages/home/about/teamBody":{id:"team"}}}}})},h[f+"about/pedagogy"]=function(){r.region.open({"pages/home/template/page":{regions:{body:{"pages/home/about/pedagogyBody":{id:"pedagogy"}}}}})},h[f+"about/founders"]=function(){r.region.open({"pages/home/template/page":{regions:{body:{"pages/home/about/foundersBody":{id:"founders"}}}}})},h[f+"about/contact"]=function(){r.region.open({"pages/home/template/page":{regions:{body:{"pages/home/about/contactBody":{id:"contact"}}}}})},h[f+"about/press"]=function(){r.region.open({"pages/home/template/page":{regions:{body:{"pages/home/about/pressBody":{id:"press"}}}}})},h[f+"about/howitworks"]=function(){r.region.open({"pages/home/template/page":{regions:{body:{"pages/home/about/howitworksBody":{id:"howitworks"}}}}})},h[f+"courses"]=function(t){r.region.open({"pages/home/template/page":{regions:{body:{"pages/home/catalog/catalogBody":{id:"catalog",initialize:{query:t}}}}}})},h[f+"universities"]=function(){r.region.open({"pages/home/template/page":{regions:{header:{"pages/home/template/header":{id:"header-universities",initialize:{universities:!0}}}}}})},h[f+"courses/browse"]=function(){h[f+"courses"]()},h[f+"about/honorcode"]=function(){r.region.open({"pages/home/template/page":{regions:{body:{"pages/home/about/honorBody":{id:"honor"}},banner:{"pages/home/about/honorBanner":{id:"honor"}},header:{"pages/home/template/header":{id:"plain",initialize:{plain:!0}}}}}})},h[f+"account/signin"]=function(t){var e=t&&t.r?t.r:null;if(r.user.get("authenticated"))e?u.handleRedirect(e):this.navigate(i.dir.home,!0);else{var n=r.user.get("enrolling"),o=r.user.get("subscribing");r.region.open({"pages/home/template/page":{regions:{header:{"pages/home/template/header":{id:"signinup"}},body:{"pages/home/account/signInBody":{id:"signin",initialize:{enrolling:n,subscribing:o,redirect:e}}}}}})}},h[f+"account/signup"]=function(t){var e=t&&t.r?t.r:null;if(r.user.get("authenticated"))e?u.handleRedirect(e):this.navigate(i.dir.home,!0);else{var n=r.user.get("enrolling"),o=r.user.get("subscribing");r.region.open({"pages/home/template/page":{regions:{header:{"pages/home/template/header":{id:"signinup"}},body:{"pages/home/account/signUpBody":{id:"signup",initialize:{enrolling:n,subscribing:o,redirect:e}}}}}})}},h[f+"account/reset"]=function(){r.user.get("authenticated")?this.navigate(i.dir.home,!0):r.region.open({"pages/home/template/page":{regions:{body:"pages/home/account/reset"}}})},h[f+"account/reset/confirm"]=function(t){var e=t||{};r.user.get("authenticated")?this.navigate(i.dir.home,!0):r.region.open({"pages/home/template/page":{regions:{body:{"pages/home/account/resetConfirm":{initialize:{payload:e.payload||"",email:e.email||""}}}}}})},h[f+"error/:id"]=function(t){var n=parseInt(t,10);e.isNumber(n)&&n>=300&&500>=n?r.region.open({"pages/home/template/page":{regions:{body:{"pages/error/errorBody":{id:"error",initialize:{status:n}}}}}}):r.router.trigger("error",404,location.href)},h[f+"course/:shortName"]=function(t,n){var i=l.getByShortName(t);i.sync(function(t){if(t)u.handleAPIError(t,location.href);else{var o=e.indexOf(e.pluck(i.get("universities"),"short_name"),"stanford")>=0,a={};o&&(a={url:"http://stanford.edu/online/",name:"Other Online Stanford Courses"}),r.multitracker.pushEvent("Course Description","Open"),n&&2==n.preview_redesign?r.region.open({"pages/home/template/page":{regions:{body:{"pages/home/course/courseBody2":{initialize:{model:i,query:n},id:"course-"+i.get("id")}}},initialize:{model:i}}}):r.region.open({"pages/home/template/page":{regions:{header:{"pages/home/template/header":{id:"plain",initialize:{plain:!0,showJobs:!o}}},footer:{"pages/home/template/footer":{id:"plain",initialize:{plain:!0,external_link:a}}},body:{"pages/home/course/courseBody":{initialize:{model:i,query:n},id:"course-"+i.get("id")}}},initialize:{model:i}}})}})},h[f+"user/i/:id"]=function(t){r.region.open({"pages/home/template/page":{regions:{body:{"pages/home/account/profileViewer":{initialize:{id:t},id:"user-"+t}}}}})},h[f+"instructor/:id"]=function(t){r.region.open({"pages/home/template/page":{regions:{body:{"pages/home/instructor/instructorProfileViewer":{initialize:{short_name:t},id:"instructor-"+t}}}}})},h[f+"instructor/~:id"]=function(t){r.region.open({"pages/home/template/page":{regions:{body:{"pages/home/instructor/instructorProfileViewer":{initialize:{profile_id:t},id:"instructor-byid-"+t}}}}})},h[f+"category/:id"]=function(t){r.region.open({"pages/home/template/page":{regions:{body:{"pages/home/catalog/catalogBody":{initialize:{query:{cats:t}},id:"category-"+t}}}}})},h[f+"about/changelog"]=function(){r.region.open({"pages/home/template/page":{regions:{body:{"pages/home/support/changelogBody":{id:"changelog"}}}}})},r.router.on("error",function(t,e,n){r.tracker.push("page.error",{code:t,url:e||location.href,message:n||""}),h[f+"error/:id"](t)}),r.router.setupLinks(r.config.url.base,"internal-home"),r.router.addRoutes(h),t(document).ready(function(){(new o).sync(function(){r.user=this,r.tracker.push(["client","home"]),r.user.get("authenticated")&&r.tracker.push(["user",r.user.get("id")]),n.history.start({pushState:!0})||r.router.trigger("error",404)})})});